<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621680787193"><span id="local-6989586621680787194"><span id="local-6989586621680787195"><span id="local-6989586621680787196"></span></span></span></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- | Dynamic flags</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Most flags are dynamic flags, which means they can change from compilation</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- to compilation using @OPTIONS_GHC@ pragmas, and in a multi-session GHC each</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- session can be using different dynamic flags. Dynamic flags can also be set</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- at the prompt in GHCi.</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- (c) The University of Glasgow 2005</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-cse #-}</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- -fno-cse is needed for GLOBAL_VAR's to behave properly</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Driver.Session</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Dynamic flags and associated configuration types</span></span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Driver.Flags.html#DumpFlag"><span class="hs-identifier">DumpFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Driver.Flags.html#GeneralFlag"><span class="hs-identifier">GeneralFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Driver.Flags.html#WarningFlag"><span class="hs-identifier">WarningFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html#WarnReason"><span class="hs-identifier">WarnReason</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Driver.Flags.html#Language"><span class="hs-identifier">Language</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#PlatformConstants"><span class="hs-identifier">PlatformConstants</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#FatalMessager"><span class="hs-identifier">FatalMessager</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#LogAction"><span class="hs-identifier">LogAction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#FlushOut"><span class="hs-identifier">FlushOut</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#FlushErr"><span class="hs-identifier">FlushErr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#ProfAuto"><span class="hs-identifier">ProfAuto</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#glasgowExtsFlags"><span class="hs-identifier">glasgowExtsFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#warningGroups"><span class="hs-identifier">warningGroups</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#warningHierarchies"><span class="hs-identifier">warningHierarchies</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#hasPprDebug"><span class="hs-identifier">hasPprDebug</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#hasNoDebugOutput"><span class="hs-identifier">hasNoDebugOutput</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#hasNoStateHack"><span class="hs-identifier">hasNoStateHack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#hasNoOptCoercion"><span class="hs-identifier">hasNoOptCoercion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#dopt"><span class="hs-identifier">dopt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#dopt_set"><span class="hs-identifier">dopt_set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#dopt_unset"><span class="hs-identifier">dopt_unset</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier">gopt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#gopt_set"><span class="hs-identifier">gopt_set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#gopt_unset"><span class="hs-identifier">gopt_unset</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#setGeneralFlag%27"><span class="hs-identifier">setGeneralFlag'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#unSetGeneralFlag%27"><span class="hs-identifier">unSetGeneralFlag'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#wopt"><span class="hs-identifier">wopt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#wopt_set"><span class="hs-identifier">wopt_set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#wopt_unset"><span class="hs-identifier">wopt_unset</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#wopt_fatal"><span class="hs-identifier">wopt_fatal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#wopt_set_fatal"><span class="hs-identifier">wopt_set_fatal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#wopt_unset_fatal"><span class="hs-identifier">wopt_unset_fatal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#xopt"><span class="hs-identifier">xopt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#xopt_set"><span class="hs-identifier">xopt_set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#xopt_unset"><span class="hs-identifier">xopt_unset</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#xopt_set_unlessExplSpec"><span class="hs-identifier">xopt_set_unlessExplSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#lang_set"><span class="hs-identifier">lang_set</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#whenGeneratingDynamicToo"><span class="hs-identifier">whenGeneratingDynamicToo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#ifGeneratingDynamicToo"><span class="hs-identifier">ifGeneratingDynamicToo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#whenCannotGenerateDynamicToo"><span class="hs-identifier">whenCannotGenerateDynamicToo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#dynamicTooMkDynamicDynFlags"><span class="hs-identifier">dynamicTooMkDynamicDynFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#dynamicOutputFile"><span class="hs-identifier">dynamicOutputFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#sccProfilingEnabled"><span class="hs-identifier">sccProfilingEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier">DynFlags</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#FlagSpec"><span class="hs-identifier">FlagSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#HasDynFlags"><span class="hs-identifier">HasDynFlags</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#ContainsDynFlags"><span class="hs-identifier">ContainsDynFlags</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#RtsOptsEnabled"><span class="hs-identifier">RtsOptsEnabled</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#HscTarget"><span class="hs-identifier">HscTarget</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier">isObjectTarget</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#defaultObjectTarget"><span class="hs-identifier">defaultObjectTarget</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#targetRetainsAllBindings"><span class="hs-identifier">targetRetainsAllBindings</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#GhcMode"><span class="hs-identifier">GhcMode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#isOneShot"><span class="hs-identifier">isOneShot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#GhcLink"><span class="hs-identifier">GhcLink</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#isNoLink"><span class="hs-identifier">isNoLink</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#PackageFlag"><span class="hs-identifier">PackageFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#PackageArg"><span class="hs-identifier">PackageArg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#ModRenaming"><span class="hs-identifier">ModRenaming</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#packageFlagsChanged"><span class="hs-identifier">packageFlagsChanged</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#IgnorePackageFlag"><span class="hs-identifier">IgnorePackageFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#TrustFlag"><span class="hs-identifier">TrustFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#PackageDBFlag"><span class="hs-identifier">PackageDBFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#PkgDbRef"><span class="hs-identifier">PkgDbRef</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier">Option</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.CliOption.html#showOpt"><span class="hs-identifier">showOpt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#DynLibLoader"><span class="hs-identifier">DynLibLoader</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#fFlags"><span class="hs-identifier">fFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#fLangFlags"><span class="hs-identifier">fLangFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#xFlags"><span class="hs-identifier">xFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#wWarningFlags"><span class="hs-identifier">wWarningFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#dynFlagDependencies"><span class="hs-identifier">dynFlagDependencies</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#makeDynFlagsConsistent"><span class="hs-identifier">makeDynFlagsConsistent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#positionIndependent"><span class="hs-identifier">positionIndependent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Driver.Flags.html#optimisationFlags"><span class="hs-identifier">optimisationFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#setFlagsFromEnvFile"><span class="hs-identifier">setFlagsFromEnvFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#addWay%27"><span class="hs-identifier">addWay'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#homeUnit"><span class="hs-identifier">homeUnit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#mkHomeModule"><span class="hs-identifier">mkHomeModule</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#isHomeModule"><span class="hs-identifier">isHomeModule</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Log output</span></span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#putLogMsg"><span class="hs-identifier">putLogMsg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Safe Haskell</span></span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#SafeHaskellMode"><span class="hs-identifier">SafeHaskellMode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#safeHaskellOn"><span class="hs-identifier">safeHaskellOn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#safeHaskellModeEnabled"><span class="hs-identifier">safeHaskellModeEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#safeImportsOn"><span class="hs-identifier">safeImportsOn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#safeLanguageOn"><span class="hs-identifier">safeLanguageOn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#safeInferOn"><span class="hs-identifier">safeInferOn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#packageTrustOn"><span class="hs-identifier">packageTrustOn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#safeDirectImpsReq"><span class="hs-identifier">safeDirectImpsReq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#safeImplicitImpsReq"><span class="hs-identifier">safeImplicitImpsReq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#unsafeFlags"><span class="hs-identifier">unsafeFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#unsafeFlagsForInfer"><span class="hs-identifier">unsafeFlagsForInfer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** LLVM Targets</span></span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#LlvmTarget"><span class="hs-identifier">LlvmTarget</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#LlvmConfig"><span class="hs-identifier">LlvmConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** System tool settings and locations</span></span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#Settings"><span class="hs-identifier">Settings</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sProgramName"><span class="hs-identifier">sProgramName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sProjectVersion"><span class="hs-identifier">sProjectVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcUsagePath"><span class="hs-identifier">sGhcUsagePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhciUsagePath"><span class="hs-identifier">sGhciUsagePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sToolDir"><span class="hs-identifier">sToolDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sTopDir"><span class="hs-identifier">sTopDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sTmpDir"><span class="hs-identifier">sTmpDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGlobalPackageDatabasePath"><span class="hs-identifier">sGlobalPackageDatabasePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sLdSupportsCompactUnwind"><span class="hs-identifier">sLdSupportsCompactUnwind</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sLdSupportsBuildId"><span class="hs-identifier">sLdSupportsBuildId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sLdSupportsFilelist"><span class="hs-identifier">sLdSupportsFilelist</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sLdIsGnuLd"><span class="hs-identifier">sLdIsGnuLd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGccSupportsNoPie"><span class="hs-identifier">sGccSupportsNoPie</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_L"><span class="hs-identifier">sPgm_L</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_P"><span class="hs-identifier">sPgm_P</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_F"><span class="hs-identifier">sPgm_F</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_c"><span class="hs-identifier">sPgm_c</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_a"><span class="hs-identifier">sPgm_a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_l"><span class="hs-identifier">sPgm_l</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_lm"><span class="hs-identifier">sPgm_lm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_dll"><span class="hs-identifier">sPgm_dll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_T"><span class="hs-identifier">sPgm_T</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_windres"><span class="hs-identifier">sPgm_windres</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_libtool"><span class="hs-identifier">sPgm_libtool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_ar"><span class="hs-identifier">sPgm_ar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-113"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_ranlib"><span class="hs-identifier">sPgm_ranlib</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_lo"><span class="hs-identifier">sPgm_lo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_lc"><span class="hs-identifier">sPgm_lc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_lcc"><span class="hs-identifier">sPgm_lcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sPgm_i"><span class="hs-identifier">sPgm_i</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_L"><span class="hs-identifier">sOpt_L</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_P"><span class="hs-identifier">sOpt_P</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_P_fingerprint"><span class="hs-identifier">sOpt_P_fingerprint</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_F"><span class="hs-identifier">sOpt_F</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_c"><span class="hs-identifier">sOpt_c</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_cxx"><span class="hs-identifier">sOpt_cxx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_a"><span class="hs-identifier">sOpt_a</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_l"><span class="hs-identifier">sOpt_l</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_lm"><span class="hs-identifier">sOpt_lm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_windres"><span class="hs-identifier">sOpt_windres</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_lo"><span class="hs-identifier">sOpt_lo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_lc"><span class="hs-identifier">sOpt_lc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_lcc"><span class="hs-identifier">sOpt_lcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sOpt_i"><span class="hs-identifier">sOpt_i</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-132"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sExtraGccViaCFlags"><span class="hs-identifier">sExtraGccViaCFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-133"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sTargetPlatformString"><span class="hs-identifier">sTargetPlatformString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-134"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcWithInterpreter"><span class="hs-identifier">sGhcWithInterpreter</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-135"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcWithSMP"><span class="hs-identifier">sGhcWithSMP</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcRTSWays"><span class="hs-identifier">sGhcRTSWays</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sLibFFI"><span class="hs-identifier">sLibFFI</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcThreaded"><span class="hs-identifier">sGhcThreaded</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-139"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcDebugged"><span class="hs-identifier">sGhcDebugged</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#sGhcRtsWithLibdw"><span class="hs-identifier">sGhcRtsWithLibdw</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-141"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier">GhcNameVersion</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>        </span><span class="annot"><a href="GHC.Settings.html#FileSettings"><span class="hs-identifier">FileSettings</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>        </span><span class="annot"><a href="../../ghc-boot/src/GHC.Platform.html#PlatformMisc"><span class="hs-identifier">PlatformMisc</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#settings"><span class="hs-identifier">settings</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#programName"><span class="hs-identifier">programName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#projectVersion"><span class="hs-identifier">projectVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#ghcUsagePath"><span class="hs-identifier">ghcUsagePath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#ghciUsagePath"><span class="hs-identifier">ghciUsagePath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#topDir"><span class="hs-identifier">topDir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#tmpDir"><span class="hs-identifier">tmpDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#versionedAppDir"><span class="hs-identifier">versionedAppDir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#versionedFilePath"><span class="hs-identifier">versionedFilePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#extraGccViaCFlags"><span class="hs-identifier">extraGccViaCFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#globalPackageDatabasePath"><span class="hs-identifier">globalPackageDatabasePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_L"><span class="hs-identifier">pgm_L</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_P"><span class="hs-identifier">pgm_P</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_F"><span class="hs-identifier">pgm_F</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_c"><span class="hs-identifier">pgm_c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_a"><span class="hs-identifier">pgm_a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_l"><span class="hs-identifier">pgm_l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lm"><span class="hs-identifier">pgm_lm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_dll"><span class="hs-identifier">pgm_dll</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_T"><span class="hs-identifier">pgm_T</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_windres"><span class="hs-identifier">pgm_windres</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_libtool"><span class="hs-identifier">pgm_libtool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_ar"><span class="hs-identifier">pgm_ar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_otool"><span class="hs-identifier">pgm_otool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_install_name_tool"><span class="hs-identifier">pgm_install_name_tool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_ranlib"><span class="hs-identifier">pgm_ranlib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lo"><span class="hs-identifier">pgm_lo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lc"><span class="hs-identifier">pgm_lc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lcc"><span class="hs-identifier">pgm_lcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#pgm_i"><span class="hs-identifier">pgm_i</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#opt_L"><span class="hs-identifier">opt_L</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_P"><span class="hs-identifier">opt_P</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_F"><span class="hs-identifier">opt_F</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_c"><span class="hs-identifier">opt_c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_cxx"><span class="hs-identifier">opt_cxx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_a"><span class="hs-identifier">opt_a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_l"><span class="hs-identifier">opt_l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_lm"><span class="hs-identifier">opt_lm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_i"><span class="hs-identifier">opt_i</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#opt_P_signature"><span class="hs-identifier">opt_P_signature</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#opt_windres"><span class="hs-identifier">opt_windres</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_lo"><span class="hs-identifier">opt_lo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_lc"><span class="hs-identifier">opt_lc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#opt_lcc"><span class="hs-identifier">opt_lcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Manipulating DynFlags</span></span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#addPluginModuleName"><span class="hs-identifier">addPluginModuleName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultDynFlags"><span class="hs-identifier">defaultDynFlags</span></a></span><span class="hs-special">,</span><span>                </span><span class="hs-comment">-- Settings -&gt; DynFlags</span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultWays"><span class="hs-identifier">defaultWays</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-160"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#initDynFlags"><span class="hs-identifier">initDynFlags</span></a></span><span class="hs-special">,</span><span>                   </span><span class="hs-comment">-- DynFlags -&gt; IO DynFlags</span><span>
</span><span id="line-161"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultFatalMessager"><span class="hs-identifier">defaultFatalMessager</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-162"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogAction"><span class="hs-identifier">defaultLogAction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-163"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogActionHPrintDoc"><span class="hs-identifier">defaultLogActionHPrintDoc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-164"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogActionHPutStrDoc"><span class="hs-identifier">defaultLogActionHPutStrDoc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-165"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultFlushOut"><span class="hs-identifier">defaultFlushOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#defaultFlushErr"><span class="hs-identifier">defaultFlushErr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#getOpts"><span class="hs-identifier">getOpts</span></a></span><span class="hs-special">,</span><span>                        </span><span class="hs-comment">-- DynFlags -&gt; (DynFlags -&gt; [a]) -&gt; [a]</span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#getVerbFlags"><span class="hs-identifier">getVerbFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#updOptLevel"><span class="hs-identifier">updOptLevel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#setTmpDir"><span class="hs-identifier">setTmpDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#setUnitId"><span class="hs-identifier">setUnitId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#canonicalizeHomeModule"><span class="hs-identifier">canonicalizeHomeModule</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-174"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#canonicalizeModuleIfHome"><span class="hs-identifier">canonicalizeModuleIfHome</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#TurnOnFlag"><span class="hs-identifier">TurnOnFlag</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-177"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#turnOn"><span class="hs-identifier">turnOn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-178"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#turnOff"><span class="hs-identifier">turnOff</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-179"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#impliedGFlags"><span class="hs-identifier">impliedGFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-180"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#impliedOffGFlags"><span class="hs-identifier">impliedOffGFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-181"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#impliedXFlags"><span class="hs-identifier">impliedXFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Parsing DynFlags</span></span><span>
</span><span id="line-184"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#parseDynamicFlagsCmdLine"><span class="hs-identifier">parseDynamicFlagsCmdLine</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#parseDynamicFilePragma"><span class="hs-identifier">parseDynamicFilePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-186"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#parseDynamicFlagsFull"><span class="hs-identifier">parseDynamicFlagsFull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Available DynFlags</span></span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#allNonDeprecatedFlags"><span class="hs-identifier">allNonDeprecatedFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-190"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#flagsAll"><span class="hs-identifier">flagsAll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#flagsDynamic"><span class="hs-identifier">flagsDynamic</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#flagsPackage"><span class="hs-identifier">flagsPackage</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#flagsForCompletion"><span class="hs-identifier">flagsForCompletion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#supportedLanguagesAndExtensions"><span class="hs-identifier">supportedLanguagesAndExtensions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-196"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#languageExtensions"><span class="hs-identifier">languageExtensions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** DynFlags C compiler options</span></span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#picCCOpts"><span class="hs-identifier">picCCOpts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#picPOpts"><span class="hs-identifier">picPOpts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Compiler configuration suitable for display to the user</span></span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#compilerInfo"><span class="hs-identifier">compilerInfo</span></a></span><span class="hs-special">,</span><span class="hs-cpp">

#include &quot;GHCConstantsHaskellExports.hs&quot;
</span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#bLOCK_SIZE_W"><span class="hs-identifier">bLOCK_SIZE_W</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#wordAlignment"><span class="hs-identifier">wordAlignment</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#tAG_MASK"><span class="hs-identifier">tAG_MASK</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#mAX_PTR_TAG"><span class="hs-identifier">mAX_PTR_TAG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#unsafeGlobalDynFlags"><span class="hs-identifier">unsafeGlobalDynFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#setUnsafeGlobalDynFlags"><span class="hs-identifier">setUnsafeGlobalDynFlags</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="hs-comment">-- * SSE and AVX</span></span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isSseEnabled"><span class="hs-identifier">isSseEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isSse2Enabled"><span class="hs-identifier">isSse2Enabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-215"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isSse4_2Enabled"><span class="hs-identifier">isSse4_2Enabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isBmiEnabled"><span class="hs-identifier">isBmiEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isBmi2Enabled"><span class="hs-identifier">isBmi2Enabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-218"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvxEnabled"><span class="hs-identifier">isAvxEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvx2Enabled"><span class="hs-identifier">isAvx2Enabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512cdEnabled"><span class="hs-identifier">isAvx512cdEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-221"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512erEnabled"><span class="hs-identifier">isAvx512erEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512fEnabled"><span class="hs-identifier">isAvx512fEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512pfEnabled"><span class="hs-identifier">isAvx512pfEnabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Linker/compiler information</span></span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#LinkerInfo"><span class="hs-identifier">LinkerInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#CompilerInfo"><span class="hs-identifier">CompilerInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#useXLinkerRPath"><span class="hs-identifier">useXLinkerRPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>        </span><span class="annot"><span class="hs-comment">-- * File cleanup</span></span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#FilesToClean"><span class="hs-identifier">FilesToClean</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#emptyFilesToClean"><span class="hs-identifier">emptyFilesToClean</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Include specifications</span></span><span>
</span><span id="line-234"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#IncludeSpecs"><span class="hs-identifier">IncludeSpecs</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#addGlobalInclude"><span class="hs-identifier">addGlobalInclude</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#addQuoteInclude"><span class="hs-identifier">addQuoteInclude</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#flattenIncludes"><span class="hs-identifier">flattenIncludes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-235"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#addImplicitQuoteInclude"><span class="hs-identifier">addImplicitQuoteInclude</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>        </span><span class="annot"><span class="hs-comment">-- * SDoc</span></span><span>
</span><span id="line-238"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#initSDocContext"><span class="hs-identifier">initSDocContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#initDefaultSDocContext"><span class="hs-identifier">initDefaultSDocContext</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Make use of the Cmm CFG</span></span><span>
</span><span id="line-241"></span><span>        </span><span class="annot"><a href="GHC.Driver.Session.html#CfgWeights"><span class="hs-identifier">CfgWeights</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#include &quot;HsVersions.h&quot;
</span><span>
</span><span id="line-246"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.Platform.html#"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-249"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.UniqueSubdir.html#"><span class="hs-identifier">GHC.UniqueSubdir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../ghc-boot/src/GHC.UniqueSubdir.html#uniqueSubdir"><span class="hs-identifier">uniqueSubdir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html"><span class="hs-identifier">GHC.Unit.Types</span></a></span><span>
</span><span id="line-251"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Parser.html"><span class="hs-identifier">GHC.Unit.Parser</span></a></span><span>
</span><span id="line-252"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-253"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Driver.Plugins.html"><span class="hs-identifier">GHC.Driver.Plugins</span></a></span><span>
</span><span id="line-254"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Driver.Hooks.html"><span class="hs-identifier">GHC.Driver.Hooks</span></a></span><span>
</span><span id="line-255"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html"><span class="hs-identifier">GHC.Builtin.Names</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#mAIN"><span class="hs-identifier">mAIN</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Unit.State.html"><span class="hs-identifier">GHC.Unit.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.State.html#UnitState"><span class="hs-identifier">UnitState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Unit.State.html#emptyUnitState"><span class="hs-identifier">emptyUnitState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Unit.State.html#UnitDatabase"><span class="hs-identifier">UnitDatabase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Unit.State.html#updateIndefUnitId"><span class="hs-identifier">updateIndefUnitId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Phases.html"><span class="hs-identifier">GHC.Driver.Phases</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Driver.Phases.html#Phase"><span class="hs-identifier">Phase</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Phases.html#phaseInputExt"><span class="hs-identifier">phaseInputExt</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html"><span class="hs-identifier">GHC.Driver.Flags</span></a></span><span>
</span><span id="line-259"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Ways.html"><span class="hs-identifier">GHC.Driver.Ways</span></a></span><span>
</span><span id="line-260"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html"><span class="hs-identifier">GHC.Driver.Backend</span></a></span><span>
</span><span id="line-261"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.Config.html"><span class="hs-identifier">GHC.Settings.Config</span></a></span><span>
</span><span id="line-262"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.CliOption.html"><span class="hs-identifier">GHC.Utils.CliOption</span></a></span><span>
</span><span id="line-263"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.CmdLine.html"><span class="hs-identifier">GHC.Driver.CmdLine</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.CmdLine.html#WarnReason"><span class="hs-identifier">WarnReason</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Driver.CmdLine.html"><span class="hs-identifier">GHC.Driver.CmdLine</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cmd</span></span><span>
</span><span id="line-265"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.Constants.html"><span class="hs-identifier">GHC.Settings.Constants</span></a></span><span>
</span><span id="line-266"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-267"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html"><span class="hs-identifier">GHC.Utils.Ppr.Colour</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Col</span></span><span>
</span><span id="line-268"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-269"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-270"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Monad.html"><span class="hs-identifier">GHC.Utils.Monad</span></a></span><span>
</span><span id="line-271"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.html"><span class="hs-identifier">GHC.Utils.Ppr</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pretty</span></span><span>
</span><span id="line-272"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-273"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier">Alignment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#alignmentOf"><span class="hs-identifier">alignmentOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#IntWithInf"><span class="hs-identifier">IntWithInf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#treatZeroAsInf"><span class="hs-identifier">treatZeroAsInf</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-275"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Fingerprint.html"><span class="hs-identifier">GHC.Utils.Fingerprint</span></a></span><span>
</span><span id="line-276"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-277"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.html"><span class="hs-identifier">GHC.Settings</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span>
</span><span id="line-280"></span><span>                               </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#Severity"><span class="hs-identifier">Severity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#MsgDoc"><span class="hs-identifier">MsgDoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#mkLocMessageAnn"><span class="hs-identifier">mkLocMessageAnn</span></a></span><span>
</span><span id="line-281"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#getCaretDiagnostic"><span class="hs-identifier">getCaretDiagnostic</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#DumpAction"><span class="hs-identifier">DumpAction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#TraceAction"><span class="hs-identifier">TraceAction</span></a></span><span>
</span><span id="line-282"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#defaultDumpAction"><span class="hs-identifier">defaultDumpAction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#defaultTraceAction"><span class="hs-identifier">defaultTraceAction</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html"><span class="hs-identifier">GHC.Utils.Json</span></a></span><span>
</span><span id="line-284"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.SysTools.Terminal.html"><span class="hs-identifier">GHC.SysTools.Terminal</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.SysTools.Terminal.html#stderrSupportsAnsiColors"><span class="hs-identifier">stderrSupportsAnsiColors</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.SysTools.BaseDir.html"><span class="hs-identifier">GHC.SysTools.BaseDir</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.SysTools.BaseDir.html#expandToolDir"><span class="hs-identifier">expandToolDir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.BaseDir.html#expandTopDir"><span class="hs-identifier">expandTopDir</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/System.IO.Unsafe.html#"><span class="hs-identifier">System.IO.Unsafe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier">unsafePerformIO</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.IORef.html#"><span class="hs-identifier">Data.IORef</span></a></span><span>
</span><span id="line-289"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Control.Arrow.html#"><span class="hs-identifier">Control.Arrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/Control.Arrow.html#%26%26%26"><span class="hs-operator">(&amp;&amp;&amp;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Control.Monad.html#"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-291"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers/src/Control.Monad.Trans.Class.html#"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span>
</span><span id="line-292"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers/src/Control.Monad.Trans.Writer.html#"><span class="hs-identifier">Control.Monad.Trans.Writer</span></a></span><span>
</span><span id="line-293"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers/src/Control.Monad.Trans.Reader.html#"><span class="hs-identifier">Control.Monad.Trans.Reader</span></a></span><span>
</span><span id="line-294"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers/src/Control.Monad.Trans.Except.html#"><span class="hs-identifier">Control.Monad.Trans.Except</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Ord.html#"><span class="hs-identifier">Data.Ord</span></a></span><span>
</span><span id="line-297"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Bits.html#"><span class="hs-identifier">Data.Bits</span></a></span><span>
</span><span id="line-298"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Char.html#"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-299"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.List.html#"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-300"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers/src/Data.Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers/src/Data.Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-302"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers/src/Data.Set.html#"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers/src/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers/src/Data.Set.html#"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-304"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../filepath/src/System.FilePath.html#"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-305"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../directory/src/System.Directory.html#"><span class="hs-identifier">System.Directory</span></a></span><span>
</span><span id="line-306"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/System.Environment.html#"><span class="hs-identifier">System.Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/System.Environment.html#lookupEnv"><span class="hs-identifier">lookupEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/System.IO.html#"><span class="hs-identifier">System.IO</span></a></span><span>
</span><span id="line-308"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/System.IO.Error.html#"><span class="hs-identifier">System.IO.Error</span></a></span><span>
</span><span id="line-309"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Text.ParserCombinators.ReadP.html#"><span class="hs-identifier">Text.ParserCombinators.ReadP</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/Text.ParserCombinators.ReadP.html#char"><span class="hs-identifier">char</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Text.ParserCombinators.ReadP.html#"><span class="hs-identifier">Text.ParserCombinators.ReadP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">R</span></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.EnumSet.html"><span class="hs-identifier">GHC.Data.EnumSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.EnumSet.html#EnumSet"><span class="hs-identifier">EnumSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Data.EnumSet.html"><span class="hs-identifier">GHC.Data.EnumSet</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">EnumSet</span></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/GHC.Foreign.html#"><span class="hs-identifier">GHC.Foreign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Foreign.html#withCString"><span class="hs-identifier">withCString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Foreign.html#peekCString"><span class="hs-identifier">peekCString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.LanguageExtensions.html#"><span class="hs-identifier">GHC.LanguageExtensions</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LangExt</span></span><span class="hs-cpp">

#if GHC_STAGE &gt;= 2
</span><span class="hs-comment">-- used by SHARED_GLOBAL_VAR</span><span>
</span><span id="line-320"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Foreign.html#"><span class="hs-identifier">Foreign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Ptr.html#Ptr"><span class="hs-identifier">Ptr</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-325"></span><span class="hs-comment">--</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- If you modify anything in this file please make sure that your changes are</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- described in the User's Guide. Please update the flag description in the</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- users guide (docs/users_guide) whenever you add or change a flag.</span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-comment">-- Note [Supporting CLI completion]</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- The command line interface completion (in for example bash) is an easy way</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- for the developer to learn what flags are available from GHC.</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- GHC helps by separating which flags are available when compiling with GHC,</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- and which flags are available when using GHCi.</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- A flag is assumed to either work in both these modes, or only in one of them.</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- When adding or changing a flag, please consider for which mode the flag will</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- have effect, and annotate it accordingly. For Flags use defFlag, defGhcFlag,</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- defGhciFlag, and for FlagSpec use flagSpec or flagGhciSpec.</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-comment">-- Note [Adding a language extension]</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-344"></span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- There are a few steps to adding (or removing) a language extension,</span><span>
</span><span id="line-346"></span><span class="hs-comment">--</span><span>
</span><span id="line-347"></span><span class="hs-comment">--  * Adding the extension to GHC.LanguageExtensions</span><span>
</span><span id="line-348"></span><span class="hs-comment">--</span><span>
</span><span id="line-349"></span><span class="hs-comment">--    The Extension type in libraries/ghc-boot-th/GHC/LanguageExtensions/Type.hs</span><span>
</span><span id="line-350"></span><span class="hs-comment">--    is the canonical list of language extensions known by GHC.</span><span>
</span><span id="line-351"></span><span class="hs-comment">--</span><span>
</span><span id="line-352"></span><span class="hs-comment">--  * Adding a flag to DynFlags.xFlags</span><span>
</span><span id="line-353"></span><span class="hs-comment">--</span><span>
</span><span id="line-354"></span><span class="hs-comment">--    This is fairly self-explanatory. The name should be concise, memorable,</span><span>
</span><span id="line-355"></span><span class="hs-comment">--    and consistent with any previous implementations of the similar idea in</span><span>
</span><span id="line-356"></span><span class="hs-comment">--    other Haskell compilers.</span><span>
</span><span id="line-357"></span><span class="hs-comment">--</span><span>
</span><span id="line-358"></span><span class="hs-comment">--  * Adding the flag to the documentation</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">--    This is the same as any other flag. See</span><span>
</span><span id="line-361"></span><span class="hs-comment">--    Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-362"></span><span class="hs-comment">--</span><span>
</span><span id="line-363"></span><span class="hs-comment">--  * Adding the flag to Cabal</span><span>
</span><span id="line-364"></span><span class="hs-comment">--</span><span>
</span><span id="line-365"></span><span class="hs-comment">--    The Cabal library has its own list of all language extensions supported</span><span>
</span><span id="line-366"></span><span class="hs-comment">--    by all major compilers. This is the list that user code being uploaded</span><span>
</span><span id="line-367"></span><span class="hs-comment">--    to Hackage is checked against to ensure language extension validity.</span><span>
</span><span id="line-368"></span><span class="hs-comment">--    Consequently, it is very important that this list remains up-to-date.</span><span>
</span><span id="line-369"></span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span class="hs-comment">--    To this end, there is a testsuite test (testsuite/tests/driver/T4437.hs)</span><span>
</span><span id="line-371"></span><span class="hs-comment">--    whose job it is to ensure these GHC's extensions are consistent with</span><span>
</span><span id="line-372"></span><span class="hs-comment">--    Cabal.</span><span>
</span><span id="line-373"></span><span class="hs-comment">--</span><span>
</span><span id="line-374"></span><span class="hs-comment">--    The recommended workflow is,</span><span>
</span><span id="line-375"></span><span class="hs-comment">--</span><span>
</span><span id="line-376"></span><span class="hs-comment">--     1. Temporarily add your new language extension to the</span><span>
</span><span id="line-377"></span><span class="hs-comment">--        expectedGhcOnlyExtensions list in T4437 to ensure the test doesn't</span><span>
</span><span id="line-378"></span><span class="hs-comment">--        break while Cabal is updated.</span><span>
</span><span id="line-379"></span><span class="hs-comment">--</span><span>
</span><span id="line-380"></span><span class="hs-comment">--     2. After your GHC change is accepted, submit a Cabal pull request adding</span><span>
</span><span id="line-381"></span><span class="hs-comment">--        your new extension to Cabal's list (found in</span><span>
</span><span id="line-382"></span><span class="hs-comment">--        Cabal/Language/Haskell/Extension.hs).</span><span>
</span><span id="line-383"></span><span class="hs-comment">--</span><span>
</span><span id="line-384"></span><span class="hs-comment">--     3. After your Cabal change is accepted, let the GHC developers know so</span><span>
</span><span id="line-385"></span><span class="hs-comment">--        they can update the Cabal submodule and remove the extensions from</span><span>
</span><span id="line-386"></span><span class="hs-comment">--        expectedGhcOnlyExtensions.</span><span>
</span><span id="line-387"></span><span class="hs-comment">--</span><span>
</span><span id="line-388"></span><span class="hs-comment">--  * Adding the flag to the GHC Wiki</span><span>
</span><span id="line-389"></span><span class="hs-comment">--</span><span>
</span><span id="line-390"></span><span class="hs-comment">--    There is a change log tracking language extension additions and removals</span><span>
</span><span id="line-391"></span><span class="hs-comment">--    on the GHC wiki:  https://gitlab.haskell.org/ghc/ghc/wikis/language-pragma-history</span><span>
</span><span id="line-392"></span><span class="hs-comment">--</span><span>
</span><span id="line-393"></span><span class="hs-comment">--  See #4437 and #8176.</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- DynFlags</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- | Used to differentiate the scope an include needs to apply to.</span><span>
</span><span id="line-400"></span><span class="hs-comment">-- We have to split the include paths to avoid accidentally forcing recursive</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- includes since -I overrides the system search paths. See #14312.</span><span>
</span><span id="line-402"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">includePathsQuote</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-404"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">includePathsGlobal</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-405"></span><span>                 </span><span class="hs-comment">-- | See note [Implicit include paths]</span><span>
</span><span id="line-406"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">includePathsQuoteImplicit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-407"></span><span>                 </span><span class="hs-special">}</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier">Show</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">-- | Append to the list of includes a path that shall be included using `-I`</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- when the C compiler is called. These paths override system search paths.</span><span>
</span><span id="line-412"></span><span class="hs-identifier">addGlobalInclude</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span>
</span><span id="line-413"></span><span class="annot"><a href="GHC.Driver.Session.html#addGlobalInclude"><span class="hs-identifier hs-type">addGlobalInclude</span></a></span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-identifier">paths</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">includePathsGlobal</span><span> </span><span class="hs-identifier">spec</span><span>
</span><span id="line-414"></span><span>                               </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">includePathsGlobal</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">paths</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- | Append to the list of includes a path that shall be included using</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- `-iquote` when the C compiler is called. These paths only apply when quoted</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- includes are used. e.g. #include &quot;foo.h&quot;</span><span>
</span><span id="line-419"></span><span class="hs-identifier">addQuoteInclude</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span>
</span><span id="line-420"></span><span class="annot"><a href="GHC.Driver.Session.html#addQuoteInclude"><span class="hs-identifier hs-type">addQuoteInclude</span></a></span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-identifier">paths</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">includePathsQuote</span><span> </span><span class="hs-identifier">spec</span><span>
</span><span id="line-421"></span><span>                              </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">includePathsQuote</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">paths</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- | These includes are not considered while fingerprinting the flags for iface</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | See note [Implicit include paths]</span><span>
</span><span id="line-425"></span><span class="hs-identifier">addImplicitQuoteInclude</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span>
</span><span id="line-426"></span><span class="annot"><a href="GHC.Driver.Session.html#addImplicitQuoteInclude"><span class="hs-identifier hs-type">addImplicitQuoteInclude</span></a></span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-identifier">paths</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">includePathsQuoteImplicit</span><span> </span><span class="hs-identifier">spec</span><span>
</span><span id="line-427"></span><span>                              </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">includePathsQuoteImplicit</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">paths</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- | Concatenate and flatten the list of global and quoted includes returning</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- just a flat list of paths.</span><span>
</span><span id="line-432"></span><span class="hs-identifier">flattenIncludes</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-433"></span><span class="annot"><a href="GHC.Driver.Session.html#flattenIncludes"><span class="hs-identifier hs-type">flattenIncludes</span></a></span><span> </span><span class="hs-identifier">specs</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-identifier">includePathsQuote</span><span> </span><span class="hs-identifier">specs</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-identifier">includePathsQuoteImplicit</span><span> </span><span class="hs-identifier">specs</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-identifier">includePathsGlobal</span><span> </span><span class="hs-identifier">specs</span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span class="hs-comment">{- Note [Implicit include paths]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  The compile driver adds the path to the folder containing the source file being
  compiled to the 'IncludeSpecs', and this change gets recorded in the 'DynFlags'
  that are used later to compute the interface file. Because of this,
  the flags fingerprint derived from these 'DynFlags' and recorded in the
  interface file will end up containing the absolute path to the source folder.

  Build systems with a remote cache like Bazel or Buck (or Shake, see #16956)
  store the build artifacts produced by a build BA for reuse in subsequent builds.

  Embedding source paths in interface fingerprints will thwart these attemps and
  lead to unnecessary recompilations when the source paths in BA differ from the
  source paths in subsequent builds.
 -}</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- | The various Safe Haskell modes</span><span>
</span><span id="line-456"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span>
</span><span id="line-457"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Sf_None</span><span>          </span><span class="hs-comment">-- ^ inferred unsafe</span><span>
</span><span id="line-458"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Sf_Unsafe</span><span>        </span><span class="hs-comment">-- ^ declared and checked</span><span>
</span><span id="line-459"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Sf_Trustworthy</span><span>   </span><span class="hs-comment">-- ^ declared and checked</span><span>
</span><span id="line-460"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Sf_Safe</span><span>          </span><span class="hs-comment">-- ^ declared and checked</span><span>
</span><span id="line-461"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Sf_SafeInferred</span><span>  </span><span class="hs-comment">-- ^ inferred as safe</span><span>
</span><span id="line-462"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span>        </span><span class="hs-comment">-- ^ @-fno-safe-haskell@ state</span><span>
</span><span id="line-463"></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Show</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_None</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;None&quot;</span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_Unsafe</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Unsafe&quot;</span><span>
</span><span id="line-468"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_Trustworthy</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Trustworthy&quot;</span><span>
</span><span id="line-469"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_Safe</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Safe&quot;</span><span>
</span><span id="line-470"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_SafeInferred</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Safe-Inferred&quot;</span><span>
</span><span id="line-471"></span><span>    </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Ignore&quot;</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-474"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">show</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-comment">-- | Contains not only a collection of 'GeneralFlag's but also a plethora of</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- information relating to the compilation of a single file or GHC session</span><span>
</span><span id="line-478"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-identifier">ghcMode</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GhcMode</span><span class="hs-special">,</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-identifier">ghcLink</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GhcLink</span><span class="hs-special">,</span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-identifier">hscTarget</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HscTarget</span><span class="hs-special">,</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-comment">-- formerly Settings</span><span>
</span><span id="line-484"></span><span>  </span><span class="hs-identifier">ghcNameVersion</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">GhcNameVersion</span><span class="hs-special">,</span><span>
</span><span id="line-485"></span><span>  </span><span class="hs-identifier">fileSettings</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">FileSettings</span><span class="hs-special">,</span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-identifier">targetPlatform</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Platform</span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- Filled in by SysTools</span><span>
</span><span id="line-487"></span><span>  </span><span class="hs-identifier">toolSettings</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">ToolSettings</span><span class="hs-special">,</span><span>
</span><span id="line-488"></span><span>  </span><span class="hs-identifier">platformMisc</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">PlatformMisc</span><span class="hs-special">,</span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-identifier">platformConstants</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">PlatformConstants</span><span class="hs-special">,</span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-identifier">rawSettings</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-identifier">llvmConfig</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LlvmConfig</span><span class="hs-special">,</span><span>
</span><span id="line-493"></span><span>    </span><span class="hs-comment">-- ^ N.B. It's important that this field is lazy since we load the LLVM</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-comment">-- configuration lazily. See Note [LLVM Configuration] in &quot;GHC.SysTools&quot;.</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-identifier">verbosity</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Verbosity level: see Note [Verbosity levels]</span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-identifier">optLevel</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Optimisation level</span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-identifier">debugLevel</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ How much debug information to produce</span><span>
</span><span id="line-498"></span><span>  </span><span class="hs-identifier">simplPhases</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Number of simplifier phases</span><span>
</span><span id="line-499"></span><span>  </span><span class="hs-identifier">maxSimplIterations</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Max simplifier iterations</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-identifier">ruleCheck</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-identifier">inlineCheck</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ A prefix to report inlining decisions about</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-identifier">strictnessBefore</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Int</span><span class="hs-special">]</span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- ^ Additional demand analysis</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-identifier">parMakeCount</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ The number of modules to compile in parallel</span><span>
</span><span id="line-505"></span><span>                                        </span><span class="hs-comment">--   in --make mode, where Nothing ==&gt; compile as</span><span>
</span><span id="line-506"></span><span>                                        </span><span class="hs-comment">--   many in parallel as there are CPUs.</span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span>  </span><span class="hs-identifier">enableTimeStats</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- ^ Enable RTS timing statistics?</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-identifier">ghcHeapSize</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ The heap size to set.</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-identifier">maxRelevantBinds</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum number of bindings from the type envt</span><span>
</span><span id="line-512"></span><span>                                        </span><span class="hs-comment">--   to show in type error messages</span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-identifier">maxValidHoleFits</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum number of hole fits to show</span><span>
</span><span id="line-514"></span><span>                                        </span><span class="hs-comment">--   in typed hole error messages</span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-identifier">maxRefHoleFits</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum number of refinement hole</span><span>
</span><span id="line-516"></span><span>                                        </span><span class="hs-comment">--   fits to show in typed hole error</span><span>
</span><span id="line-517"></span><span>                                        </span><span class="hs-comment">--   messages</span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-identifier">refLevelHoleFits</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum level of refinement for</span><span>
</span><span id="line-519"></span><span>                                        </span><span class="hs-comment">--   refinement hole fits in typed hole</span><span>
</span><span id="line-520"></span><span>                                        </span><span class="hs-comment">--   error messages</span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-identifier">maxUncoveredPatterns</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Maximum number of unmatched patterns to show</span><span>
</span><span id="line-522"></span><span>                                        </span><span class="hs-comment">--   in non-exhaustiveness warnings</span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-identifier">maxPmCheckModels</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Soft limit on the number of models</span><span>
</span><span id="line-524"></span><span>                                        </span><span class="hs-comment">--   the pattern match checker checks</span><span>
</span><span id="line-525"></span><span>                                        </span><span class="hs-comment">--   a pattern against. A safe guard</span><span>
</span><span id="line-526"></span><span>                                        </span><span class="hs-comment">--   against exponential blow-up.</span><span>
</span><span id="line-527"></span><span>  </span><span class="hs-identifier">simplTickFactor</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Multiplier for simplifier ticks</span><span>
</span><span id="line-528"></span><span>  </span><span class="hs-identifier">specConstrThreshold</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Threshold for SpecConstr</span><span>
</span><span id="line-529"></span><span>  </span><span class="hs-identifier">specConstrCount</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Max number of specialisations for any one function</span><span>
</span><span id="line-530"></span><span>  </span><span class="hs-identifier">specConstrRecursive</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Max number of specialisations for recursive types</span><span>
</span><span id="line-531"></span><span>                                        </span><span class="hs-comment">--   Not optional; otherwise ForceSpecConstr can diverge.</span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-identifier">binBlobThreshold</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word</span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- ^ Binary literals (e.g. strings) whose size is above</span><span>
</span><span id="line-533"></span><span>                                        </span><span class="hs-comment">--   this threshold will be dumped in a binary file</span><span>
</span><span id="line-534"></span><span>                                        </span><span class="hs-comment">--   by the assembler code generator (0 to disable)</span><span>
</span><span id="line-535"></span><span>  </span><span class="hs-identifier">liberateCaseThreshold</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Threshold for LiberateCase</span><span>
</span><span id="line-536"></span><span>  </span><span class="hs-identifier">floatLamArgs</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Arg count for lambda floating</span><span>
</span><span id="line-537"></span><span>                                        </span><span class="hs-comment">--   See 'GHC.Core.Opt.Monad.FloatOutSwitches'</span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-identifier">liftLamsRecArgs</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum number of arguments after lambda lifting a</span><span>
</span><span id="line-540"></span><span>                                        </span><span class="hs-comment">--   recursive function.</span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-identifier">liftLamsNonRecArgs</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Maximum number of arguments after lambda lifting a</span><span>
</span><span id="line-542"></span><span>                                        </span><span class="hs-comment">--   non-recursive function.</span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-identifier">liftLamsKnown</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- ^ Lambda lift even when this turns a known call</span><span>
</span><span id="line-544"></span><span>                                        </span><span class="hs-comment">--   into an unknown call.</span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-identifier">cmmProcAlignment</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Align Cmm functions at this boundary or use default.</span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-identifier">historySize</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- ^ Simplification history size</span><span>
</span><span id="line-549"></span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-identifier">importPaths</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">FilePath</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-identifier">mainModIs</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Module</span><span class="hs-special">,</span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-identifier">mainFunIs</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-identifier">reductionDepth</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IntWithInf</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Typechecker maximum stack depth</span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-identifier">solverIterations</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IntWithInf</span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- ^ Number of iterations in the constraints solver</span><span>
</span><span id="line-555"></span><span>                                         </span><span class="hs-comment">--   Typically only 1 is needed</span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span>  </span><span class="hs-identifier">homeUnitId</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">UnitId</span><span class="hs-special">,</span><span>                 </span><span class="hs-comment">-- ^ Target home unit-id</span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-identifier">homeUnitInstanceOfId</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">IndefUnitId</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- ^ Unit-id to instantiate</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-identifier">homeUnitInstantiations</span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">ModuleName</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Module</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ How to instantiate `homeUnitInstanceOfId` unit</span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-comment">-- ways</span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-identifier">ways</span><span>                  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Set</span><span> </span><span class="hs-identifier">Way</span><span class="hs-special">,</span><span>     </span><span class="hs-comment">-- ^ Way flags from the command line</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span>  </span><span class="hs-comment">-- For object splitting</span><span>
</span><span id="line-565"></span><span>  </span><span class="hs-identifier">splitInfo</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-comment">-- paths etc.</span><span>
</span><span id="line-568"></span><span>  </span><span class="hs-identifier">objectDir</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-569"></span><span>  </span><span class="hs-identifier">dylibInstallName</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-570"></span><span>  </span><span class="hs-identifier">hiDir</span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-571"></span><span>  </span><span class="hs-identifier">hieDir</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-identifier">stubDir</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-573"></span><span>  </span><span class="hs-identifier">dumpDir</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-identifier">objectSuf</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-576"></span><span>  </span><span class="hs-identifier">hcSuf</span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-577"></span><span>  </span><span class="hs-identifier">hiSuf</span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-identifier">hieSuf</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-identifier">canGenerateDynamicToo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-identifier">dynObjectSuf</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-identifier">dynHiSuf</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>  </span><span class="hs-identifier">outputFile</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-identifier">dynOutputFile</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-identifier">outputHi</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-identifier">dynLibLoader</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynLibLoader</span><span class="hs-special">,</span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-comment">-- | This is set by 'GHC.Driver.Pipeline.runPipeline' based on where</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-comment">--    its output is going.</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-identifier">dumpPrefix</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">,</span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span>  </span><span class="hs-comment">-- | Override the 'dumpPrefix' set by 'GHC.Driver.Pipeline.runPipeline'.</span><span>
</span><span id="line-594"></span><span>  </span><span class="hs-comment">--    Set by @-ddump-file-prefix@</span><span>
</span><span id="line-595"></span><span>  </span><span class="hs-identifier">dumpPrefixForce</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">,</span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span>  </span><span class="hs-identifier">ldInputs</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span>  </span><span class="hs-identifier">includePaths</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span class="hs-special">,</span><span>
</span><span id="line-600"></span><span>  </span><span class="hs-identifier">libraryPaths</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-identifier">frameworkPaths</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- used on darwin only</span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-identifier">cmdlineFrameworks</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- ditto</span><span>
</span><span id="line-603"></span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-identifier">rtsOpts</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-605"></span><span>  </span><span class="hs-identifier">rtsOptsEnabled</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">RtsOptsEnabled</span><span class="hs-special">,</span><span>
</span><span id="line-606"></span><span>  </span><span class="hs-identifier">rtsOptsSuggestions</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-identifier">hpcDir</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- ^ Path to store the .mix files</span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span>  </span><span class="hs-comment">-- Plugins</span><span>
</span><span id="line-611"></span><span>  </span><span class="hs-identifier">pluginModNames</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">ModuleName</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-612"></span><span>  </span><span class="hs-identifier">pluginModNameOpts</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">ModuleName</span><span class="hs-special">,</span><span class="hs-identifier">String</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-613"></span><span>  </span><span class="hs-identifier">frontendPluginOpts</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-comment">-- ^ the @-ffrontend-opt@ flags given on the command line, in *reverse*</span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-comment">-- order that they're specified on the command line.</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-identifier">cachedPlugins</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">LoadedPlugin</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-comment">-- ^ plugins dynamically loaded after processing arguments. What will be</span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-comment">-- loaded here is directed by pluginModNames. Arguments are loaded from</span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-comment">-- pluginModNameOpts. The purpose of this field is to cache the plugins so</span><span>
</span><span id="line-620"></span><span>    </span><span class="hs-comment">-- they don't have to be loaded each time they are needed.  See</span><span>
</span><span id="line-621"></span><span>    </span><span class="hs-comment">-- 'GHC.Runtime.Loader.initializePlugins'.</span><span>
</span><span id="line-622"></span><span>  </span><span class="hs-identifier">staticPlugins</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">StaticPlugin</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-comment">-- ^ static plugins which do not need dynamic loading. These plugins are</span><span>
</span><span id="line-624"></span><span>    </span><span class="hs-comment">-- intended to be added by GHC API users directly to this list.</span><span>
</span><span id="line-625"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-626"></span><span>    </span><span class="hs-comment">-- To add dynamically loaded plugins through the GHC API see</span><span>
</span><span id="line-627"></span><span>    </span><span class="hs-comment">-- 'addPluginModuleName' instead.</span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-comment">-- GHC API hooks</span><span>
</span><span id="line-630"></span><span>  </span><span class="hs-identifier">hooks</span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Hooks</span><span class="hs-special">,</span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-comment">--  For ghc -M</span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-identifier">depMakefile</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">,</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-identifier">depIncludePkgDeps</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-identifier">depIncludeCppDeps</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-identifier">depExcludeMods</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">ModuleName</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-identifier">depSuffixes</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-comment">--  Package flags</span><span>
</span><span id="line-640"></span><span>  </span><span class="hs-identifier">packageDBFlags</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">PackageDBFlag</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-641"></span><span>        </span><span class="hs-comment">-- ^ The @-package-db@ flags given on the command line, In</span><span>
</span><span id="line-642"></span><span>        </span><span class="hs-comment">-- *reverse* order that they're specified on the command line.</span><span>
</span><span id="line-643"></span><span>        </span><span class="hs-comment">-- This is intended to be applied with the list of &quot;initial&quot;</span><span>
</span><span id="line-644"></span><span>        </span><span class="hs-comment">-- package databases derived from @GHC_PACKAGE_PATH@; see</span><span>
</span><span id="line-645"></span><span>        </span><span class="hs-comment">-- 'getUnitDbRefs'.</span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-identifier">ignorePackageFlags</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">IgnorePackageFlag</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-648"></span><span>        </span><span class="hs-comment">-- ^ The @-ignore-package@ flags from the command line.</span><span>
</span><span id="line-649"></span><span>        </span><span class="hs-comment">-- In *reverse* order that they're specified on the command line.</span><span>
</span><span id="line-650"></span><span>  </span><span class="hs-identifier">packageFlags</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">PackageFlag</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-651"></span><span>        </span><span class="hs-comment">-- ^ The @-package@ and @-hide-package@ flags from the command-line.</span><span>
</span><span id="line-652"></span><span>        </span><span class="hs-comment">-- In *reverse* order that they're specified on the command line.</span><span>
</span><span id="line-653"></span><span>  </span><span class="hs-identifier">pluginPackageFlags</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">PackageFlag</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-654"></span><span>        </span><span class="hs-comment">-- ^ The @-plugin-package-id@ flags from command line.</span><span>
</span><span id="line-655"></span><span>        </span><span class="hs-comment">-- In *reverse* order that they're specified on the command line.</span><span>
</span><span id="line-656"></span><span>  </span><span class="hs-identifier">trustFlags</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">TrustFlag</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-657"></span><span>        </span><span class="hs-comment">-- ^ The @-trust@ and @-distrust@ flags.</span><span>
</span><span id="line-658"></span><span>        </span><span class="hs-comment">-- In *reverse* order that they're specified on the command line.</span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-identifier">packageEnv</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">,</span><span>
</span><span id="line-660"></span><span>        </span><span class="hs-comment">-- ^ Filepath to the package environment file (if overriding default)</span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-identifier">unitDatabases</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">UnitDatabase</span><span> </span><span class="hs-identifier">UnitId</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-663"></span><span>        </span><span class="hs-comment">-- ^ Stack of unit databases for the target platform.</span><span>
</span><span id="line-664"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-665"></span><span>        </span><span class="hs-comment">-- This field is populated by `initUnits`.</span><span>
</span><span id="line-666"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-667"></span><span>        </span><span class="hs-comment">-- 'Nothing' means the databases have never been read from disk. If</span><span>
</span><span id="line-668"></span><span>        </span><span class="hs-comment">-- `initUnits` is called again, it doesn't reload the databases from</span><span>
</span><span id="line-669"></span><span>        </span><span class="hs-comment">-- disk.</span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-identifier">unitState</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">UnitState</span><span class="hs-special">,</span><span>
</span><span id="line-672"></span><span>        </span><span class="hs-comment">-- ^ Consolidated unit database built by 'initUnits' from the unit</span><span>
</span><span id="line-673"></span><span>        </span><span class="hs-comment">-- databases in 'unitDatabases' and flags ('-ignore-package', etc.).</span><span>
</span><span id="line-674"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-675"></span><span>        </span><span class="hs-comment">-- It also contains mapping from module names to actual Modules.</span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-comment">-- Temporary files</span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-comment">-- These have to be IORefs, because the defaultCleanupHandler needs to</span><span>
</span><span id="line-679"></span><span>  </span><span class="hs-comment">-- know what to clean when an exception happens</span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-identifier">filesToClean</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-identifier">FilesToClean</span><span class="hs-special">,</span><span>
</span><span id="line-681"></span><span>  </span><span class="hs-identifier">dirsToClean</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Map</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-comment">-- The next available suffix to uniquely name a temp file, updated atomically</span><span>
</span><span id="line-683"></span><span>  </span><span class="hs-identifier">nextTempSuffix</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span>  </span><span class="hs-comment">-- Names of files which were generated from -ddump-to-file; used to</span><span>
</span><span id="line-686"></span><span>  </span><span class="hs-comment">-- track which ones we need to truncate because it's our first run</span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-comment">-- through</span><span>
</span><span id="line-688"></span><span>  </span><span class="hs-identifier">generatedDumps</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Set</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-689"></span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-comment">-- hsc dynamic flags</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-identifier">dumpFlags</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">DumpFlag</span><span class="hs-special">,</span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-identifier">generalFlags</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">,</span><span>
</span><span id="line-693"></span><span>  </span><span class="hs-identifier">warningFlags</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">WarningFlag</span><span class="hs-special">,</span><span>
</span><span id="line-694"></span><span>  </span><span class="hs-identifier">fatalWarningFlags</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">WarningFlag</span><span class="hs-special">,</span><span>
</span><span id="line-695"></span><span>  </span><span class="hs-comment">-- Don't change this without updating extensionFlags:</span><span>
</span><span id="line-696"></span><span>  </span><span class="hs-identifier">language</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Language</span><span class="hs-special">,</span><span>
</span><span id="line-697"></span><span>  </span><span class="hs-comment">-- | Safe Haskell mode</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-identifier">safeHaskell</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span class="hs-special">,</span><span>
</span><span id="line-699"></span><span>  </span><span class="hs-identifier">safeInfer</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-700"></span><span>  </span><span class="hs-identifier">safeInferred</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-comment">-- We store the location of where some extension and flags were turned on so</span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-comment">-- we can produce accurate error messages when Safe Haskell fails due to</span><span>
</span><span id="line-703"></span><span>  </span><span class="hs-comment">-- them.</span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-identifier">thOnLoc</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-identifier">newDerivOnLoc</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-identifier">deriveViaOnLoc</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-identifier">overlapInstLoc</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-identifier">incoherentOnLoc</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-709"></span><span>  </span><span class="hs-identifier">pkgTrustOnLoc</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-710"></span><span>  </span><span class="hs-identifier">warnSafeOnLoc</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-711"></span><span>  </span><span class="hs-identifier">warnUnsafeOnLoc</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-712"></span><span>  </span><span class="hs-identifier">trustworthyOnLoc</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-713"></span><span>  </span><span class="hs-comment">-- Don't change this without updating extensionFlags:</span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-comment">-- Here we collect the settings of the language extensions</span><span>
</span><span id="line-715"></span><span>  </span><span class="hs-comment">-- from the command line, the ghci config file and</span><span>
</span><span id="line-716"></span><span>  </span><span class="hs-comment">-- from interactive :set / :seti commands.</span><span>
</span><span id="line-717"></span><span>  </span><span class="hs-identifier">extensions</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">OnOff</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-718"></span><span>  </span><span class="hs-comment">-- extensionFlags should always be equal to</span><span>
</span><span id="line-719"></span><span>  </span><span class="hs-comment">--     flattenExtensionFlags language extensions</span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-comment">-- LangExt.Extension is defined in libraries/ghc-boot so that it can be used</span><span>
</span><span id="line-721"></span><span>  </span><span class="hs-comment">-- by template-haskell</span><span>
</span><span id="line-722"></span><span>  </span><span class="hs-identifier">extensionFlags</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">,</span><span>
</span><span id="line-723"></span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-comment">-- Unfolding control</span><span>
</span><span id="line-725"></span><span>  </span><span class="hs-comment">-- See Note [Discounts and thresholds] in GHC.Core.Unfold</span><span>
</span><span id="line-726"></span><span>  </span><span class="hs-identifier">ufCreationThreshold</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-727"></span><span>  </span><span class="hs-identifier">ufUseThreshold</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-728"></span><span>  </span><span class="hs-identifier">ufFunAppDiscount</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-729"></span><span>  </span><span class="hs-identifier">ufDictDiscount</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-730"></span><span>  </span><span class="hs-identifier">ufDearOp</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-identifier">ufVeryAggressive</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-identifier">maxWorkerArgs</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span>  </span><span class="hs-identifier">ghciHistSize</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span>  </span><span class="hs-comment">-- | MsgDoc output action: use &quot;GHC.Utils.Error&quot; instead of this if you can</span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-identifier">log_action</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LogAction</span><span class="hs-special">,</span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-identifier">dump_action</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DumpAction</span><span class="hs-special">,</span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-identifier">trace_action</span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TraceAction</span><span class="hs-special">,</span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-identifier">flushOut</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FlushOut</span><span class="hs-special">,</span><span>
</span><span id="line-742"></span><span>  </span><span class="hs-identifier">flushErr</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FlushErr</span><span class="hs-special">,</span><span>
</span><span id="line-743"></span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-identifier">ghcVersionFile</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span class="hs-special">,</span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-identifier">haddockOptions</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-comment">-- | GHCi scripts specified by -ghci-script, in reverse order</span><span>
</span><span id="line-748"></span><span>  </span><span class="hs-identifier">ghciScripts</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-749"></span><span>
</span><span id="line-750"></span><span>  </span><span class="hs-comment">-- Output style options</span><span>
</span><span id="line-751"></span><span>  </span><span class="hs-identifier">pprUserLength</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-752"></span><span>  </span><span class="hs-identifier">pprCols</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-753"></span><span>
</span><span id="line-754"></span><span>  </span><span class="hs-identifier">useUnicode</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-identifier">useColor</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">OverridingBool</span><span class="hs-special">,</span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-identifier">canUseColor</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-identifier">colScheme</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Col.Scheme</span><span class="hs-special">,</span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span>  </span><span class="hs-comment">-- | what kind of {-# SCC #-} to add automatically</span><span>
</span><span id="line-760"></span><span>  </span><span class="hs-identifier">profAuto</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">ProfAuto</span><span class="hs-special">,</span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span>  </span><span class="hs-identifier">interactivePrint</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">,</span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span>  </span><span class="hs-identifier">nextWrapperNum</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ModuleEnv</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span>  </span><span class="hs-comment">-- | Machine dependent flags (-m\&lt;blah&gt; stuff)</span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-identifier">sseVersion</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">SseVersion</span><span class="hs-special">,</span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-identifier">bmiVersion</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">BmiVersion</span><span class="hs-special">,</span><span>
</span><span id="line-769"></span><span>  </span><span class="hs-identifier">avx</span><span>                   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-770"></span><span>  </span><span class="hs-identifier">avx2</span><span>                  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-identifier">avx512cd</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Enable AVX-512 Conflict Detection Instructions.</span><span>
</span><span id="line-772"></span><span>  </span><span class="hs-identifier">avx512er</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Enable AVX-512 Exponential and Reciprocal Instructions.</span><span>
</span><span id="line-773"></span><span>  </span><span class="hs-identifier">avx512f</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Enable AVX-512 instructions.</span><span>
</span><span id="line-774"></span><span>  </span><span class="hs-identifier">avx512pf</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Enable AVX-512 PreFetch Instructions.</span><span>
</span><span id="line-775"></span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-comment">-- | Run-time linker information (what options we need, etc.)</span><span>
</span><span id="line-777"></span><span>  </span><span class="hs-identifier">rtldInfo</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">LinkerInfo</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-comment">-- | Run-time compiler information</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-identifier">rtccInfo</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IORef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">CompilerInfo</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-comment">-- Constants used to control the amount of optimization done.</span><span>
</span><span id="line-783"></span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-comment">-- | Max size, in bytes, of inline array allocations.</span><span>
</span><span id="line-785"></span><span>  </span><span class="hs-identifier">maxInlineAllocSize</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>  </span><span class="hs-comment">-- | Only inline memcpy if it generates no more than this many</span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-comment">-- pseudo (roughly: Cmm) instructions.</span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-identifier">maxInlineMemcpyInsns</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-comment">-- | Only inline memset if it generates no more than this many</span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-comment">-- pseudo (roughly: Cmm) instructions.</span><span>
</span><span id="line-793"></span><span>  </span><span class="hs-identifier">maxInlineMemsetInsns</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-794"></span><span>
</span><span id="line-795"></span><span>  </span><span class="hs-comment">-- | Reverse the order of error messages in GHC/GHCi</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-identifier">reverseErrors</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-comment">-- | Limit the maximum number of errors to show</span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-identifier">maxErrors</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-comment">-- | Unique supply configuration for testing build determinism</span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-identifier">initialUnique</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-identifier">uniqueIncrement</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span>
</span><span id="line-804"></span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-comment">-- | Temporary: CFG Edge weights for fast iterations</span><span>
</span><span id="line-806"></span><span>  </span><span class="hs-identifier">cfgWeightInfo</span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">CfgWeights</span><span>
</span><span id="line-807"></span><span class="hs-special">}</span><span>
</span><span id="line-808"></span><span>
</span><span id="line-809"></span><span class="hs-comment">-- | Edge weights to use when generating a CFG from CMM</span><span>
</span><span id="line-810"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">CfgWeights</span><span>
</span><span id="line-811"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">CFGWeights</span><span>
</span><span id="line-812"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">uncondWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-813"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">condBranchWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-814"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">switchWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-815"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">callWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-816"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">likelyCondWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-817"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unlikelyCondWeight</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-818"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">infoTablePenalty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-819"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">backEdgeBonus</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-820"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span class="hs-identifier">defaultCfgWeights</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">CfgWeights</span><span>
</span><span id="line-823"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultCfgWeights"><span class="hs-identifier hs-type">defaultCfgWeights</span></a></span><span>
</span><span id="line-824"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">CFGWeights</span><span>
</span><span id="line-825"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">uncondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1000</span><span>
</span><span id="line-826"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">condBranchWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">800</span><span>
</span><span id="line-827"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">switchWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><span id="line-828"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">callWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="hs-number">10</span><span>
</span><span id="line-829"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">likelyCondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">900</span><span>
</span><span id="line-830"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unlikelyCondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">300</span><span>
</span><span id="line-831"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">infoTablePenalty</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">300</span><span>
</span><span id="line-832"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">backEdgeBonus</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">400</span><span>
</span><span id="line-833"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span class="hs-identifier">parseCfgWeights</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">CfgWeights</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">CfgWeights</span><span>
</span><span id="line-836"></span><span class="annot"><a href="GHC.Driver.Session.html#parseCfgWeights"><span class="hs-identifier hs-type">parseCfgWeights</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">oldWeights</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-837"></span><span>        </span><span class="hs-identifier">foldl'</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">cfg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">n</span><span class="hs-special">,</span><span class="hs-identifier">v</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">update</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">v</span><span> </span><span class="hs-identifier">cfg</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">oldWeights</span><span> </span><span class="hs-identifier">assignments</span><span>
</span><span id="line-838"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-839"></span><span>        </span><span class="hs-identifier">assignments</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">assignment</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">settings</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-840"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;uncondWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-841"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">uncondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-842"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;condBranchWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-843"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">condBranchWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-844"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;switchWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-845"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">switchWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-846"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;callWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-847"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">callWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-848"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;likelyCondWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-849"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">likelyCondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-850"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;unlikelyCondWeight&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-851"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">unlikelyCondWeight</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-852"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;infoTablePenalty&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-853"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">infoTablePenalty</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-854"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-string">&quot;backEdgeBonus&quot;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-855"></span><span>            </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">backEdgeBonus</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span>
</span><span id="line-856"></span><span>        </span><span class="hs-identifier">update</span><span> </span><span class="hs-identifier">other</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>
</span><span id="line-857"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">other</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-858"></span><span>                      </span><span class="hs-string">&quot; is not a cfg weight parameter. &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-859"></span><span>                      </span><span class="hs-identifier">exampleString</span><span>
</span><span id="line-860"></span><span>        </span><span class="hs-identifier">settings</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-861"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">s1</span><span class="hs-special">,</span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">break</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span> </span><span class="hs-char">','</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-862"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">rest</span><span>
</span><span id="line-863"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">s1</span><span class="hs-special">]</span><span>
</span><span id="line-864"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">s1</span><span class="hs-special">,</span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">break</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span> </span><span class="hs-char">','</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-865"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">s1</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">settings</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">drop</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>
</span><span id="line-867"></span><span>        </span><span class="hs-identifier">assignment</span><span> </span><span class="hs-keyword">as</span><span>
</span><span id="line-868"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">name</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-glyph">:</span><span class="hs-identifier">val</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">break</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span> </span><span class="hs-char">'='</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">as</span><span>
</span><span id="line-869"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">name</span><span class="hs-special">,</span><span class="hs-identifier">read</span><span> </span><span class="hs-identifier">val</span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>
</span><span id="line-871"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;Invalid cfg parameters.&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">exampleString</span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span>        </span><span class="hs-identifier">exampleString</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Example parameters: uncondWeight=1000,&quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-874"></span><span>            </span><span class="hs-string">&quot;condBranchWeight=800,switchWeight=0,callWeight=300&quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-875"></span><span>            </span><span class="hs-string">&quot;,likelyCondWeight=900,unlikelyCondWeight=300&quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-876"></span><span>            </span><span class="hs-string">&quot;,infoTablePenalty=300,backEdgeBonus=400&quot;</span><span>
</span><span id="line-877"></span><span>
</span><span id="line-878"></span><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-879"></span><span>    </span><span class="hs-identifier">getDynFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span class="hs-comment">{- It would be desirable to have the more generalised

  instance (MonadTrans t, Monad m, HasDynFlags m) =&gt; HasDynFlags (t m) where
      getDynFlags = lift getDynFlags

instance definition. However, that definition would overlap with the
`HasDynFlags (GhcT m)` instance. Instead we define instances for a
couple of common Monad transformers explicitly. -}</span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Monad</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">WriterT</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span id="local-6989586621680788369"><span id="local-6989586621680788370"></span></span><span>
</span><span id="line-891"></span><span>    </span><span class="hs-identifier">getDynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">getDynFlags</span><span>
</span><span id="line-892"></span><span>
</span><span id="line-893"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monad</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ReaderT</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span id="local-6989586621680788372"><span id="local-6989586621680788373"></span></span><span>
</span><span id="line-894"></span><span>    </span><span class="hs-identifier">getDynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">getDynFlags</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monad</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">MaybeT</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span id="local-6989586621680788375"></span><span>
</span><span id="line-897"></span><span>    </span><span class="hs-identifier">getDynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">getDynFlags</span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monad</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">HasDynFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ExceptT</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span id="local-6989586621680788377"><span id="local-6989586621680788379"></span></span><span>
</span><span id="line-900"></span><span>    </span><span class="hs-identifier">getDynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">getDynFlags</span><span>
</span><span id="line-901"></span><span>
</span><span id="line-902"></span><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">ContainsDynFlags</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-903"></span><span>    </span><span class="hs-identifier">extractDynFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">ProfAuto</span><span>
</span><span id="line-906"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoProfAuto</span><span>         </span><span class="hs-comment">-- ^ no SCC annotations added</span><span>
</span><span id="line-907"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ProfAutoAll</span><span>        </span><span class="hs-comment">-- ^ top-level and nested functions are annotated</span><span>
</span><span id="line-908"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ProfAutoTop</span><span>        </span><span class="hs-comment">-- ^ top-level functions annotated only</span><span>
</span><span id="line-909"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ProfAutoExports</span><span>    </span><span class="hs-comment">-- ^ exported functions annotated only</span><span>
</span><span id="line-910"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ProfAutoCalls</span><span>      </span><span class="hs-comment">-- ^ annotate call-sites</span><span>
</span><span id="line-911"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span class="hs-identifier">Enum</span><span class="hs-special">)</span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">LlvmTarget</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">LlvmTarget</span><span>
</span><span id="line-914"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">lDataLayout</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-915"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">lCPU</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">lAttributes</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-917"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span class="hs-comment">-- | See Note [LLVM Configuration] in &quot;GHC.SysTools&quot;.</span><span>
</span><span id="line-920"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">LlvmConfig</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">LlvmConfig</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">llvmTargets</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LlvmTarget</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-921"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">llvmPasses</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-922"></span><span>                             </span><span class="hs-special">}</span><span>
</span><span id="line-923"></span><span>
</span><span id="line-924"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-925"></span><span class="hs-comment">-- Accessessors from 'DynFlags'</span><span>
</span><span id="line-926"></span><span>
</span><span id="line-927"></span><span class="hs-comment">-- | &quot;unbuild&quot; a 'Settings' from a 'DynFlags'. This shouldn't be needed in the</span><span>
</span><span id="line-928"></span><span class="hs-comment">-- vast majority of code. But GHCi questionably uses this to produce a default</span><span>
</span><span id="line-929"></span><span class="hs-comment">-- 'DynFlags' from which to compute a flags diff for printing.</span><span>
</span><span id="line-930"></span><span class="hs-identifier">settings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Settings</span><span>
</span><span id="line-931"></span><span class="annot"><a href="GHC.Driver.Session.html#settings"><span class="hs-identifier hs-type">settings</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Settings</span><span>
</span><span id="line-932"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sGhcNameVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ghcNameVersion</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-933"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sFileSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-934"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sTargetPlatform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-935"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sToolSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-936"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sPlatformMisc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">platformMisc</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-937"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sPlatformConstants</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">platformConstants</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-938"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sRawSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">rawSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-939"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span class="hs-identifier">programName</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-942"></span><span class="annot"><a href="GHC.Driver.Session.html#programName"><span class="hs-identifier hs-type">programName</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ghcNameVersion_programName</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">ghcNameVersion</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-943"></span><span id="programName"></span><span id="local-6989586621680786571"></span><span class="hs-identifier">projectVersion</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-944"></span><span class="annot"><a href="GHC.Driver.Session.html#projectVersion"><span class="hs-identifier hs-type">projectVersion</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ghcNameVersion_projectVersion</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ghcNameVersion</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span id="projectVersion"><span class="hs-identifier">ghcUsagePath</span></span><span id="local-6989586621680786569"></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-946"></span><span class="annot"><a href="GHC.Driver.Session.html#ghcUsagePath"><span class="hs-identifier hs-type">ghcUsagePath</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_ghcUsagePath</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-947"></span><span id="ghcUsagePath"></span><span class="hs-identifier">ghciUsagePath</span><span id="local-6989586621680786567"></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-948"></span><span class="annot"><a href="GHC.Driver.Session.html#ghciUsagePath"><span class="hs-identifier hs-type">ghciUsagePath</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_ghciUsagePath</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-949"></span><span id="ghciUsagePath"><span class="hs-identifier">toolDir</span></span><span id="local-6989586621680786565"></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-950"></span><span class="annot"><a href="GHC.Driver.Session.html#toolDir"><span class="hs-identifier hs-type">toolDir</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_toolDir</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-951"></span><span id="toolDir"><span class="hs-identifier">topDir</span></span><span id="local-6989586621680786562"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-952"></span><span class="annot"><a href="GHC.Driver.Session.html#topDir"><span class="hs-identifier hs-type">topDir</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_topDir</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-953"></span><span id="topDir"><span class="annot"><span class="annottext">topDir :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#topDir"><span class="hs-identifier hs-var hs-var">tmpDir</span></a></span></span><span id="local-6989586621680786560"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-954"></span><span class="annot"><a href="GHC.Driver.Session.html#tmpDir"><span class="hs-identifier hs-type">tmpDir</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_tmpDir</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-955"></span><span id="tmpDir"></span><span id="local-6989586621680786558"></span><span class="hs-identifier">extraGccViaCFlags</span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-956"></span><span class="annot"><a href="GHC.Driver.Session.html#extraGccViaCFlags"><span class="hs-identifier hs-type">extraGccViaCFlags</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_extraGccViaCFlags</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-957"></span><span id="extraGccViaCFlags"></span><span id="local-6989586621680786556"></span><span class="hs-identifier">globalPackageDatabasePath</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-958"></span><span class="annot"><a href="GHC.Driver.Session.html#globalPackageDatabasePath"><span class="hs-identifier hs-type">globalPackageDatabasePath</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fileSettings_globalPackageDatabase</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-959"></span><span id="globalPackageDatabasePath"><span class="hs-identifier">pgm_L</span><span>                 </span><span class="hs-glyph">::</span><span> </span></span><span id="local-6989586621680786554"></span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-960"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_L"><span class="hs-identifier hs-type">pgm_L</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_L</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-961"></span><span id="pgm_L"><span class="annot"><span class="annottext">pgm_L :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#pgm_L"><span class="hs-identifier hs-var hs-var">pgm_P</span></a></span></span><span id="local-6989586621680786552"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_P"><span class="hs-identifier hs-type">pgm_P</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_P</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-963"></span><span id="pgm_P"><span class="annot"><span class="annottext">pgm_P :: DynFlags -&gt; ([Char], [Option])
</span><a href="GHC.Driver.Session.html#pgm_P"><span class="hs-identifier hs-var hs-var">pgm_F</span></a></span></span><span id="local-6989586621680786550"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-964"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_F"><span class="hs-identifier hs-type">pgm_F</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_F</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-965"></span><span id="pgm_F"><span class="annot"><span class="annottext">pgm_F :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#pgm_F"><span class="hs-identifier hs-var hs-var">pgm_c</span></a></span></span><span id="local-6989586621680786548"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-966"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_c"><span class="hs-identifier hs-type">pgm_c</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_c</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-967"></span><span id="pgm_c"><span class="annot"><span class="annottext">pgm_c :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#pgm_c"><span class="hs-identifier hs-var hs-var">pgm_a</span></a></span></span><span id="local-6989586621680786546"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_a"><span class="hs-identifier hs-type">pgm_a</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_a</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-969"></span><span id="pgm_a"><span class="annot"><span class="annottext">pgm_a :: DynFlags -&gt; ([Char], [Option])
</span><a href="GHC.Driver.Session.html#pgm_a"><span class="hs-identifier hs-var hs-var">pgm_l</span></a></span></span><span id="local-6989586621680786544"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_l"><span class="hs-identifier hs-type">pgm_l</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_l</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-971"></span><span id="pgm_l"></span><span class="hs-identifier">pgm_lm</span><span id="local-6989586621680786542"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lm"><span class="hs-identifier hs-type">pgm_lm</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_lm</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-973"></span><span id="pgm_lm"></span><span class="hs-identifier">pgm_dll</span><span id="local-6989586621680786540"></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-974"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_dll"><span class="hs-identifier hs-type">pgm_dll</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_dll</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-975"></span><span id="pgm_dll"><span class="hs-identifier">pgm_T</span></span><span id="local-6989586621680786538"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-976"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_T"><span class="hs-identifier hs-type">pgm_T</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_T</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-977"></span><span id="pgm_T"></span><span id="local-6989586621680786536"></span><span class="hs-identifier">pgm_windres</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-978"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_windres"><span class="hs-identifier hs-type">pgm_windres</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_windres</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-979"></span><span id="pgm_windres"><span class="annot"><span class="annottext">pgm_windres :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#pgm_windres"><span class="hs-identifier hs-var hs-var">pgm_libtool</span></a></span></span><span id="local-6989586621680786534"></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-980"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_libtool"><span class="hs-identifier hs-type">pgm_libtool</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_libtool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-981"></span><span id="pgm_libtool"><span class="hs-identifier">pgm_lcc</span></span><span id="local-6989586621680786532"></span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lcc"><span class="hs-identifier hs-type">pgm_lcc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_lcc</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-983"></span><span id="pgm_lcc"><span class="hs-identifier">pgm_ar</span></span><span id="local-6989586621680786530"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-984"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_ar"><span class="hs-identifier hs-type">pgm_ar</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_ar</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-985"></span><span id="pgm_ar"></span><span id="local-6989586621680786528"></span><span class="hs-identifier">pgm_otool</span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-986"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_otool"><span class="hs-identifier hs-type">pgm_otool</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_otool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-987"></span><span id="pgm_otool"></span><span id="local-6989586621680786526"></span><span class="hs-identifier">pgm_install_name_tool</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-988"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_install_name_tool"><span class="hs-identifier hs-type">pgm_install_name_tool</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_install_name_tool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-989"></span><span id="pgm_install_name_tool"><span class="hs-identifier">pgm_ranlib</span></span><span>            </span><span id="local-6989586621680786524"><span class="hs-glyph">::</span><span> </span></span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-990"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_ranlib"><span class="hs-identifier hs-type">pgm_ranlib</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_ranlib</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-991"></span><span id="pgm_ranlib"><span class="hs-identifier">pgm_lo</span></span><span id="local-6989586621680786522"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-992"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lo"><span class="hs-identifier hs-type">pgm_lo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_lo</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-993"></span><span id="pgm_lo"><span class="annot"><span class="annottext">pgm_lo :: DynFlags -&gt; ([Char], [Option])
</span><a href="GHC.Driver.Session.html#pgm_lo"><span class="hs-identifier hs-var hs-var">pgm_lc</span></a></span></span><span id="local-6989586621680786520"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-identifier">Option</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_lc"><span class="hs-identifier hs-type">pgm_lc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_lc</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-995"></span><span id="pgm_lc"><span class="hs-identifier">pgm_i</span></span><span id="local-6989586621680786518"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-996"></span><span class="annot"><a href="GHC.Driver.Session.html#pgm_i"><span class="hs-identifier hs-type">pgm_i</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_pgm_i</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-997"></span><span id="pgm_i"><span class="annot"><span class="annottext">pgm_i :: DynFlags -&gt; [Char]
</span><a href="GHC.Driver.Session.html#pgm_i"><span class="hs-identifier hs-var hs-var">opt_L</span></a></span></span><span id="local-6989586621680786516"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-998"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_L"><span class="hs-identifier hs-type">opt_L</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_L</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-999"></span><span id="opt_L"><span class="annot"><span class="annottext">opt_L :: DynFlags -&gt; [[Char]]
</span><a href="GHC.Driver.Session.html#opt_L"><span class="hs-identifier hs-var hs-var">opt_P</span></a></span></span><span id="local-6989586621680786514"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1000"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_P"><span class="hs-identifier hs-type">opt_P</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">wayOptP</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1001"></span><span>            </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">toolSettings_opt_P</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span class="hs-comment">-- This function packages everything that's needed to fingerprint opt_P</span><span>
</span><span id="line-1004"></span><span class="hs-comment">-- flags. See Note [Repeated -optP hashing].</span><span>
</span><span id="line-1005"></span><span class="hs-identifier">opt_P_signature</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Fingerprint</span><span class="hs-special">)</span><span>
</span><span id="line-1006"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_P_signature"><span class="hs-identifier hs-type">opt_P_signature</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1007"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">wayOptP</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1008"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">toolSettings_opt_P_fingerprint</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1009"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span class="hs-identifier">opt_F</span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1012"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_F"><span class="hs-identifier hs-type">opt_F</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_F</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1013"></span><span id="opt_F"><span class="annot"><span class="annottext">opt_F :: DynFlags -&gt; [[Char]]
</span><a href="GHC.Driver.Session.html#opt_F"><span class="hs-identifier hs-var hs-var">opt_c</span></a></span></span><span id="local-6989586621680786506"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1014"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_c"><span class="hs-identifier hs-type">opt_c</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">wayOptc</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span>            </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">toolSettings_opt_c</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1016"></span><span class="hs-identifier">opt_cxx</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1017"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_cxx"><span class="hs-identifier hs-type">opt_cxx</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_cxx</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1018"></span><span id="opt_cxx"><span class="hs-identifier">opt_a</span></span><span id="local-6989586621680786501"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1019"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_a"><span class="hs-identifier hs-type">opt_a</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_a</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1020"></span><span id="opt_a"><span class="annot"><span class="annottext">opt_a :: DynFlags -&gt; [[Char]]
</span><a href="GHC.Driver.Session.html#opt_a"><span class="hs-identifier hs-var hs-var">opt_l</span></a></span></span><span id="local-6989586621680786499"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1021"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_l"><span class="hs-identifier hs-type">opt_l</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">wayOptl</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1022"></span><span>            </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">toolSettings_opt_l</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1023"></span><span class="hs-identifier">opt_lm</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1024"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_lm"><span class="hs-identifier hs-type">opt_lm</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_lm</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1025"></span><span id="opt_lm"></span><span id="local-6989586621680786494"></span><span class="hs-identifier">opt_windres</span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1026"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_windres"><span class="hs-identifier hs-type">opt_windres</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_windres</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1027"></span><span id="opt_windres"><span class="hs-identifier">opt_lcc</span></span><span id="local-6989586621680786492"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1028"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_lcc"><span class="hs-identifier hs-type">opt_lcc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_lcc</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1029"></span><span id="opt_lcc"><span class="hs-identifier">opt_lo</span></span><span id="local-6989586621680786490"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1030"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_lo"><span class="hs-identifier hs-type">opt_lo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_lo</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1031"></span><span id="opt_lo"><span class="annot"><span class="annottext">opt_lo :: DynFlags -&gt; [[Char]]
</span><a href="GHC.Driver.Session.html#opt_lo"><span class="hs-identifier hs-var hs-var">opt_lc</span></a></span></span><span id="local-6989586621680786488"></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1032"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_lc"><span class="hs-identifier hs-type">opt_lc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_lc</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1033"></span><span id="opt_lc"><span class="hs-identifier">opt_i</span></span><span id="local-6989586621680786486"></span><span>                 </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1034"></span><span class="annot"><a href="GHC.Driver.Session.html#opt_i"><span class="hs-identifier hs-type">opt_i</span></a></span><span> </span><span class="hs-identifier">dflags</span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">toolSettings_opt_i</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span class="hs-comment">-- | The directory for this version of ghc in the user's app directory</span><span>
</span><span id="line-1037"></span><span class="hs-comment">-- (typically something like @~/.ghc/x86_64-linux-7.6.3@)</span><span>
</span><span id="line-1038"></span><span class="hs-comment">--</span><span>
</span><span id="line-1039"></span><span class="hs-identifier">versionedAppDir</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">PlatformMini</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">MaybeT</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-1040"></span><span class="annot"><a href="GHC.Driver.Session.html#versionedAppDir"><span class="hs-identifier hs-type">versionedAppDir</span></a></span><span> </span><span class="hs-identifier">appname</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1041"></span><span>  </span><span class="hs-comment">-- Make sure we handle the case the HOME isn't set (see #11678)</span><span>
</span><span id="line-1042"></span><span>  </span><span class="hs-identifier">appdir</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tryMaybeT</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">getAppUserDataDirectory</span><span> </span><span class="hs-identifier">appname</span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">appdir</span><span> </span><span class="hs-operator">&lt;/&gt;</span><span> </span><span class="hs-identifier">versionedFilePath</span><span> </span><span class="hs-identifier">platform</span><span>
</span><span id="line-1044"></span><span>
</span><span id="line-1045"></span><span class="hs-identifier">versionedFilePath</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">PlatformMini</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-1046"></span><span class="annot"><a href="GHC.Driver.Session.html#versionedFilePath"><span class="hs-identifier hs-type">versionedFilePath</span></a></span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">uniqueSubdir</span><span> </span><span class="hs-identifier">platform</span><span>
</span><span id="line-1047"></span><span>
</span><span id="line-1048"></span><span class="hs-comment">-- | The target code type of the compilation (if any).</span><span>
</span><span id="line-1049"></span><span class="hs-comment">--</span><span>
</span><span id="line-1050"></span><span class="hs-comment">-- Whenever you change the target, also make sure to set 'ghcLink' to</span><span>
</span><span id="line-1051"></span><span class="hs-comment">-- something sensible.</span><span>
</span><span id="line-1052"></span><span class="hs-comment">--</span><span>
</span><span id="line-1053"></span><span class="hs-comment">-- 'HscNothing' can be used to avoid generating any output, however, note</span><span>
</span><span id="line-1054"></span><span class="hs-comment">-- that:</span><span>
</span><span id="line-1055"></span><span class="hs-comment">--</span><span>
</span><span id="line-1056"></span><span class="hs-comment">--  * If a program uses Template Haskell the typechecker may need to run code</span><span>
</span><span id="line-1057"></span><span class="hs-comment">--    from an imported module.  To facilitate this, code generation is enabled</span><span>
</span><span id="line-1058"></span><span class="hs-comment">--    for modules imported by modules that use template haskell.</span><span>
</span><span id="line-1059"></span><span class="hs-comment">--    See Note [-fno-code mode].</span><span>
</span><span id="line-1060"></span><span class="hs-comment">--</span><span>
</span><span id="line-1061"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">HscTarget</span><span>
</span><span id="line-1062"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HscC</span><span>           </span><span class="hs-comment">-- ^ Generate C code.</span><span>
</span><span id="line-1063"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">HscAsm</span><span>         </span><span class="hs-comment">-- ^ Generate assembly using the native code generator.</span><span>
</span><span id="line-1064"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">HscLlvm</span><span>        </span><span class="hs-comment">-- ^ Generate assembly using the llvm code generator.</span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">HscInterpreted</span><span> </span><span class="hs-comment">-- ^ Generate bytecode.  (Requires 'LinkInMemory')</span><span>
</span><span id="line-1066"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">HscNothing</span><span>     </span><span class="hs-comment">-- ^ Don't generate any code.  See notes above.</span><span>
</span><span id="line-1067"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Show</span><span class="hs-special">)</span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span class="hs-comment">-- | Will this target result in an object file on the disk?</span><span>
</span><span id="line-1070"></span><span class="hs-identifier">isObjectTarget</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HscTarget</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1071"></span><span class="annot"><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier hs-type">isObjectTarget</span></a></span><span> </span><span class="hs-identifier">HscC</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-1072"></span><span id="isObjectTarget"><span class="annot"><span class="annottext">isObjectTarget :: HscTarget -&gt; Bool
</span><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier hs-var hs-var">isObjectTarget</span></a></span></span><span> </span><span class="hs-identifier">HscAsm</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1073"></span><span class="annot"><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier hs-var">isObjectTarget</span></a></span><span> </span><span class="hs-identifier">HscLlvm</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1074"></span><span class="annot"><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier hs-var">isObjectTarget</span></a></span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1075"></span><span>
</span><span id="line-1076"></span><span class="hs-comment">-- | Does this target retain *all* top-level bindings for a module,</span><span>
</span><span id="line-1077"></span><span class="hs-comment">-- rather than just the exported bindings, in the TypeEnv and compiled</span><span>
</span><span id="line-1078"></span><span class="hs-comment">-- code (if any)?  In interpreted mode we do this, so that GHCi can</span><span>
</span><span id="line-1079"></span><span class="hs-comment">-- call functions inside a module.  In HscNothing mode we also do it,</span><span>
</span><span id="line-1080"></span><span class="hs-comment">-- so that Haddock can get access to the GlobalRdrEnv for a module</span><span>
</span><span id="line-1081"></span><span class="hs-comment">-- after typechecking it.</span><span>
</span><span id="line-1082"></span><span class="hs-identifier">targetRetainsAllBindings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HscTarget</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1083"></span><span class="annot"><a href="GHC.Driver.Session.html#targetRetainsAllBindings"><span class="hs-identifier hs-type">targetRetainsAllBindings</span></a></span><span> </span><span class="hs-identifier">HscInterpreted</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-1084"></span><span id="targetRetainsAllBindings"><span class="annot"><span class="annottext">targetRetainsAllBindings :: HscTarget -&gt; Bool
</span><a href="GHC.Driver.Session.html#targetRetainsAllBindings"><span class="hs-identifier hs-var hs-var">targetRetainsAllBindings</span></a></span></span><span> </span><span class="hs-identifier">HscNothing</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1085"></span><span class="annot"><a href="GHC.Driver.Session.html#targetRetainsAllBindings"><span class="hs-identifier hs-var">targetRetainsAllBindings</span></a></span><span> </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1086"></span><span>
</span><span id="line-1087"></span><span class="hs-comment">-- | The 'GhcMode' tells us whether we're doing multi-module</span><span>
</span><span id="line-1088"></span><span class="hs-comment">-- compilation (controlled via the &quot;GHC&quot; API) or one-shot</span><span>
</span><span id="line-1089"></span><span class="hs-comment">-- (single-module) compilation.  This makes a difference primarily to</span><span>
</span><span id="line-1090"></span><span class="hs-comment">-- the &quot;GHC.Driver.Finder&quot;: in one-shot mode we look for interface files for</span><span>
</span><span id="line-1091"></span><span class="hs-comment">-- imported modules, but in multi-module mode we look for source files</span><span>
</span><span id="line-1092"></span><span class="hs-comment">-- in order to check whether they need to be recompiled.</span><span>
</span><span id="line-1093"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">GhcMode</span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">CompManager</span><span>         </span><span class="hs-comment">-- ^ @\-\-make@, GHCi, etc.</span><span>
</span><span id="line-1095"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">OneShot</span><span>             </span><span class="hs-comment">-- ^ @ghc -c Foo.hs@</span><span>
</span><span id="line-1096"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">MkDepend</span><span>            </span><span class="hs-comment">-- ^ @ghc -M@, see &quot;GHC.Driver.Finder&quot; for why we need this</span><span>
</span><span id="line-1097"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier">Eq</span><span>
</span><span id="line-1098"></span><span>
</span><span id="line-1099"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">GhcMode</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1100"></span><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">CompManager</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;CompManager&quot;</span><span>
</span><span id="line-1101"></span><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">OneShot</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;OneShot&quot;</span><span>
</span><span id="line-1102"></span><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">MkDepend</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;MkDepend&quot;</span><span>
</span><span id="line-1103"></span><span>
</span><span id="line-1104"></span><span class="hs-identifier">isOneShot</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GhcMode</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1105"></span><span class="annot"><a href="GHC.Driver.Session.html#isOneShot"><span class="hs-identifier hs-type">isOneShot</span></a></span><span> </span><span class="hs-identifier">OneShot</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-1106"></span><span id="isOneShot"><span class="annot"><span class="annottext">isOneShot :: GhcMode -&gt; Bool
</span><a href="GHC.Driver.Session.html#isOneShot"><span class="hs-identifier hs-var hs-var">isOneShot</span></a></span></span><span> </span><span class="hs-identifier">_other</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1107"></span><span>
</span><span id="line-1108"></span><span class="hs-comment">-- | What to do in the link step, if there is one.</span><span>
</span><span id="line-1109"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">GhcLink</span><span>
</span><span id="line-1110"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoLink</span><span>              </span><span class="hs-comment">-- ^ Don't link at all</span><span>
</span><span id="line-1111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">LinkBinary</span><span>          </span><span class="hs-comment">-- ^ Link object code into a binary</span><span>
</span><span id="line-1112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">LinkInMemory</span><span>        </span><span class="hs-comment">-- ^ Use the in-memory dynamic linker (works for both</span><span>
</span><span id="line-1113"></span><span>                        </span><span class="hs-comment">--   bytecode and object code).</span><span>
</span><span id="line-1114"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">LinkDynLib</span><span>          </span><span class="hs-comment">-- ^ Link objects into a dynamic lib (DLL on Windows, DSO on ELF platforms)</span><span>
</span><span id="line-1115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">LinkStaticLib</span><span>       </span><span class="hs-comment">-- ^ Link objects into a static lib</span><span>
</span><span id="line-1116"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Show</span><span class="hs-special">)</span><span>
</span><span id="line-1117"></span><span>
</span><span id="line-1118"></span><span class="hs-identifier">isNoLink</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GhcLink</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1119"></span><span class="annot"><a href="GHC.Driver.Session.html#isNoLink"><span class="hs-identifier hs-type">isNoLink</span></a></span><span> </span><span class="hs-identifier">NoLink</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-1120"></span><span id="isNoLink"><span class="annot"><span class="annottext">isNoLink :: GhcLink -&gt; Bool
</span><a href="GHC.Driver.Session.html#isNoLink"><span class="hs-identifier hs-var hs-var">isNoLink</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span class="hs-comment">-- | We accept flags which make packages visible, but how they select</span><span>
</span><span id="line-1123"></span><span class="hs-comment">-- the package varies; this data type reflects what selection criterion</span><span>
</span><span id="line-1124"></span><span class="hs-comment">-- is used.</span><span>
</span><span id="line-1125"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1126"></span><span>      </span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-identifier">String</span><span>    </span><span class="hs-comment">-- ^ @-package@, by 'PackageName'</span><span>
</span><span id="line-1127"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">UnitIdArg</span><span> </span><span class="hs-identifier">Unit</span><span>       </span><span class="hs-comment">-- ^ @-package-id@, by 'Unit'</span><span>
</span><span id="line-1128"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Show</span><span class="hs-special">)</span><span>
</span><span id="line-1129"></span><span>
</span><span id="line-1130"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1131"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-identifier">pn</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;package&quot;</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-identifier">pn</span><span>
</span><span id="line-1132"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">UnitIdArg</span><span> </span><span class="hs-identifier">uid</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;unit&quot;</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">uid</span><span>
</span><span id="line-1133"></span><span>
</span><span id="line-1134"></span><span class="hs-comment">-- | Represents the renaming that may be associated with an exposed</span><span>
</span><span id="line-1135"></span><span class="hs-comment">-- package, e.g. the @rns@ part of @-package &quot;foo (rns)&quot;@.</span><span>
</span><span id="line-1136"></span><span class="hs-comment">--</span><span>
</span><span id="line-1137"></span><span class="hs-comment">-- Here are some example parsings of the package flags (where</span><span>
</span><span id="line-1138"></span><span class="hs-comment">-- a string literal is punned to be a 'ModuleName':</span><span>
</span><span id="line-1139"></span><span class="hs-comment">--</span><span>
</span><span id="line-1140"></span><span class="hs-comment">--      * @-package foo@ is @ModRenaming True []@</span><span>
</span><span id="line-1141"></span><span class="hs-comment">--      * @-package foo ()@ is @ModRenaming False []@</span><span>
</span><span id="line-1142"></span><span class="hs-comment">--      * @-package foo (A)@ is @ModRenaming False [(&quot;A&quot;, &quot;A&quot;)]@</span><span>
</span><span id="line-1143"></span><span class="hs-comment">--      * @-package foo (A as B)@ is @ModRenaming False [(&quot;A&quot;, &quot;B&quot;)]@</span><span>
</span><span id="line-1144"></span><span class="hs-comment">--      * @-package foo with (A as B)@ is @ModRenaming True [(&quot;A&quot;, &quot;B&quot;)]@</span><span>
</span><span id="line-1145"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1146"></span><span>    </span><span class="hs-identifier">modRenamingWithImplicit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ Bring all exposed modules into scope?</span><span>
</span><span id="line-1147"></span><span>    </span><span class="hs-identifier">modRenamings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">ModuleName</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ModuleName</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Bring module @m@ into scope</span><span>
</span><span id="line-1148"></span><span>                                               </span><span class="hs-comment">--   under name @n@.</span><span>
</span><span id="line-1149"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span>
</span><span id="line-1150"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1151"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">rns</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">parens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">rns</span><span class="hs-special">)</span><span>
</span><span id="line-1152"></span><span>
</span><span id="line-1153"></span><span class="hs-comment">-- | Flags for manipulating the set of non-broken packages.</span><span>
</span><span id="line-1154"></span><span class="hs-keyword">newtype</span><span> </span><span class="hs-identifier">IgnorePackageFlag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IgnorePackage</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-comment">-- ^ @-ignore-package@</span><span>
</span><span id="line-1155"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span>
</span><span id="line-1156"></span><span>
</span><span id="line-1157"></span><span class="hs-comment">-- | Flags for manipulating package trust.</span><span>
</span><span id="line-1158"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">TrustFlag</span><span>
</span><span id="line-1159"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">TrustPackage</span><span>    </span><span class="hs-identifier">String</span><span> </span><span class="hs-comment">-- ^ @-trust@</span><span>
</span><span id="line-1160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">DistrustPackage</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-comment">-- ^ @-distrust@</span><span>
</span><span id="line-1161"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span>
</span><span id="line-1162"></span><span>
</span><span id="line-1163"></span><span class="hs-comment">-- | Flags for manipulating packages visibility.</span><span>
</span><span id="line-1164"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">PackageFlag</span><span>
</span><span id="line-1165"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ExposePackage</span><span>   </span><span class="hs-identifier">String</span><span> </span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-comment">-- ^ @-package@, @-package-id@</span><span>
</span><span id="line-1166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">HidePackage</span><span>     </span><span class="hs-identifier">String</span><span> </span><span class="hs-comment">-- ^ @-hide-package@</span><span>
</span><span id="line-1167"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- NB: equality instance is used by packageFlagsChanged</span><span>
</span><span id="line-1168"></span><span>
</span><span id="line-1169"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">PackageDBFlag</span><span>
</span><span id="line-1170"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">PackageDB</span><span> </span><span class="hs-identifier">PkgDbRef</span><span>
</span><span id="line-1171"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">NoUserPackageDB</span><span>
</span><span id="line-1172"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">NoGlobalPackageDB</span><span>
</span><span id="line-1173"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ClearPackageDBs</span><span>
</span><span id="line-1174"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">)</span><span>
</span><span id="line-1175"></span><span>
</span><span id="line-1176"></span><span class="hs-identifier">packageFlagsChanged</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1177"></span><span class="annot"><a href="GHC.Driver.Session.html#packageFlagsChanged"><span class="hs-identifier hs-type">packageFlagsChanged</span></a></span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1178"></span><span>  </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1179"></span><span>  </span><span class="hs-identifier">ignorePackageFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">ignorePackageFlags</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1181"></span><span>  </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1182"></span><span>  </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">idflags0</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1183"></span><span>  </span><span class="hs-identifier">packageGFlags</span><span> </span><span class="hs-identifier">idflags1</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">packageGFlags</span><span> </span><span class="hs-identifier">idflags0</span><span>
</span><span id="line-1184"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1185"></span><span>   </span><span class="hs-identifier">packageGFlags</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier">gopt</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1186"></span><span>     </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_HideAllPackages</span><span>
</span><span id="line-1187"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_HideAllPluginPackages</span><span>
</span><span id="line-1188"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_AutoLinkPackages</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1189"></span><span>
</span><span id="line-1190"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">PackageFlag</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1191"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ExposePackage</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">arg</span><span> </span><span class="hs-identifier">rn</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">&lt;&gt;</span><span> </span><span class="hs-identifier">braces</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">arg</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">rn</span><span class="hs-special">)</span><span>
</span><span id="line-1192"></span><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">HidePackage</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;-hide-package&quot;</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-1193"></span><span>
</span><span id="line-1194"></span><span class="hs-comment">-- | The 'HscTarget' value corresponding to the default way to create</span><span>
</span><span id="line-1195"></span><span class="hs-comment">-- object files on the current platform.</span><span>
</span><span id="line-1196"></span><span>
</span><span id="line-1197"></span><span class="hs-identifier">defaultHscTarget</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Platform</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">HscTarget</span><span>
</span><span id="line-1198"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultHscTarget"><span class="hs-identifier hs-type">defaultHscTarget</span></a></span><span> </span><span class="hs-identifier">platform</span><span>
</span><span id="line-1199"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">platformUnregisterised</span><span> </span><span class="hs-identifier">platform</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HscC</span><span>
</span><span id="line-1200"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">NCG</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">platformDefaultBackend</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HscAsm</span><span>
</span><span id="line-1201"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HscLlvm</span><span>
</span><span id="line-1202"></span><span>
</span><span id="line-1203"></span><span class="hs-identifier">defaultObjectTarget</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">HscTarget</span><span>
</span><span id="line-1204"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultObjectTarget"><span class="hs-identifier hs-type">defaultObjectTarget</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultHscTarget</span><span>
</span><span id="line-1205"></span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>
</span><span id="line-1207"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">DynLibLoader</span><span>
</span><span id="line-1208"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Deployable</span><span>
</span><span id="line-1209"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">SystemDependent</span><span>
</span><span id="line-1210"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier">Eq</span><span>
</span><span id="line-1211"></span><span>
</span><span id="line-1212"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">RtsOptsEnabled</span><span>
</span><span id="line-1213"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">RtsOptsNone</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">RtsOptsIgnore</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">RtsOptsIgnoreAll</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">RtsOptsSafeOnly</span><span>
</span><span id="line-1214"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">RtsOptsAll</span><span>
</span><span id="line-1215"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Show</span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>
</span><span id="line-1217"></span><span class="hs-comment">-- | Are we building with @-fPIE@ or @-fPIC@ enabled?</span><span>
</span><span id="line-1218"></span><span class="hs-identifier">positionIndependent</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1219"></span><span class="annot"><a href="GHC.Driver.Session.html#positionIndependent"><span class="hs-identifier hs-type">positionIndependent</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIC</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIE</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1220"></span><span>
</span><span id="line-1221"></span><span class="hs-identifier">whenGeneratingDynamicToo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1222"></span><span id="local-6989586621680788248"><span class="annot"><a href="GHC.Driver.Session.html#whenGeneratingDynamicToo"><span class="hs-identifier hs-type">whenGeneratingDynamicToo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ifGeneratingDynamicToo</span><span> </span><span class="hs-identifier">dflags</span></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>
</span><span id="line-1224"></span><span class="hs-identifier">ifGeneratingDynamicToo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1225"></span><span id="local-6989586621680788243"><span id="local-6989586621680788244"><span class="annot"><a href="GHC.Driver.Session.html#ifGeneratingDynamicToo"><span class="hs-identifier hs-type">ifGeneratingDynamicToo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">generateDynamicTooConditional</span><span> </span></span></span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-identifier">g</span><span>
</span><span id="line-1226"></span><span>
</span><span id="line-1227"></span><span class="hs-identifier">whenCannotGenerateDynamicToo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span id="local-6989586621680786281"><span class="annot"><a href="GHC.Driver.Session.html#whenCannotGenerateDynamicToo"><span class="hs-identifier hs-type">whenCannotGenerateDynamicToo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span></span><span>
</span><span id="line-1229"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ifCannotGenerateDynamicToo</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span class="hs-identifier">ifCannotGenerateDynamicToo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1232"></span><span id="local-6989586621680786272"><span id="local-6989586621680786273"><span class="annot"><a href="GHC.Driver.Session.html#ifCannotGenerateDynamicToo"><span class="hs-identifier hs-type">ifCannotGenerateDynamicToo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span></span></span><span>
</span><span id="line-1233"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">generateDynamicTooConditional</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span><span>
</span><span id="line-1234"></span><span>
</span><span id="line-1235"></span><span class="hs-identifier">generateDynamicTooConditional</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span id="local-6989586621680788239"><span id="local-6989586621680788240"></span></span><span>
</span><span id="line-1236"></span><span>                              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1237"></span><span class="hs-identifier">generateDynamicTooConditional</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">canGen</span><span> </span><span class="hs-identifier">cannotGen</span><span> </span><span class="hs-identifier">notTryingToGen</span><span>
</span><span id="line-1238"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_BuildDynamicToo</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1239"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">ref</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">canGenerateDynamicToo</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1240"></span><span>              </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">readIORef</span><span> </span><span class="hs-identifier">ref</span><span>
</span><span id="line-1241"></span><span>              </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">canGen</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">cannotGen</span><span>
</span><span id="line-1242"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">notTryingToGen</span><span>
</span><span id="line-1243"></span><span>
</span><span id="line-1244"></span><span class="hs-identifier">dynamicTooMkDynamicDynFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1245"></span><span class="annot"><a href="GHC.Driver.Session.html#dynamicTooMkDynamicDynFlags"><span class="hs-identifier hs-type">dynamicTooMkDynamicDynFlags</span></a></span><span> </span><span class="hs-identifier">dflags0</span><span>
</span><span id="line-1246"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">dflags1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">addWay'</span><span> </span><span class="hs-identifier">WayDyn</span><span> </span><span class="hs-identifier">dflags0</span><span>
</span><span id="line-1247"></span><span>          </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dflags1</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1248"></span><span>                        </span><span class="hs-identifier">outputFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynOutputFile</span><span> </span><span class="hs-identifier">dflags1</span><span class="hs-special">,</span><span>
</span><span id="line-1249"></span><span>                        </span><span class="hs-identifier">hiSuf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynHiSuf</span><span> </span><span class="hs-identifier">dflags1</span><span class="hs-special">,</span><span>
</span><span id="line-1250"></span><span>                        </span><span class="hs-identifier">objectSuf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynObjectSuf</span><span> </span><span class="hs-identifier">dflags1</span><span>
</span><span id="line-1251"></span><span>                    </span><span class="hs-special">}</span><span>
</span><span id="line-1252"></span><span>          </span><span class="hs-identifier">dflags3</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">gopt_unset</span><span> </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-identifier">Opt_BuildDynamicToo</span><span>
</span><span id="line-1253"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">dflags3</span><span>
</span><span id="line-1254"></span><span>
</span><span id="line-1255"></span><span class="hs-comment">-- | Compute the path of the dynamic object corresponding to an object file.</span><span>
</span><span id="line-1256"></span><span class="hs-identifier">dynamicOutputFile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-1257"></span><span class="annot"><a href="GHC.Driver.Session.html#dynamicOutputFile"><span class="hs-identifier hs-type">dynamicOutputFile</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">outputFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynOut</span><span> </span><span class="hs-identifier">outputFile</span><span>
</span><span id="line-1258"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1259"></span><span>    </span><span class="hs-identifier">dynOut</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">addExtension</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dynObjectSuf</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">dropExtension</span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1262"></span><span>
</span><span id="line-1263"></span><span class="hs-comment">-- | Used by 'GHC.runGhc' to partially initialize a new 'DynFlags' value</span><span>
</span><span id="line-1264"></span><span class="hs-identifier">initDynFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1265"></span><span class="annot"><a href="GHC.Driver.Session.html#initDynFlags"><span class="hs-identifier hs-type">initDynFlags</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1266"></span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-comment">-- We can't build with dynamic-too on Windows, as labels before</span><span>
</span><span id="line-1267"></span><span>     </span><span class="hs-comment">-- the fork point are different depending on whether we are</span><span>
</span><span id="line-1268"></span><span>     </span><span class="hs-comment">-- building dynamically or not.</span><span>
</span><span id="line-1269"></span><span>     </span><span class="hs-identifier">platformCanGenerateDynamicToo</span><span>
</span><span id="line-1270"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">OSMinGW32</span><span>
</span><span id="line-1271"></span><span> </span><span class="hs-identifier">refCanGenerateDynamicToo</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">platformCanGenerateDynamicToo</span><span>
</span><span id="line-1272"></span><span> </span><span class="hs-identifier">refNextTempSuffix</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-number">0</span><span>
</span><span id="line-1273"></span><span> </span><span class="hs-identifier">refFilesToClean</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">emptyFilesToClean</span><span>
</span><span id="line-1274"></span><span> </span><span class="hs-identifier">refDirsToClean</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">Map.empty</span><span>
</span><span id="line-1275"></span><span> </span><span class="hs-identifier">refGeneratedDumps</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">Set.empty</span><span>
</span><span id="line-1276"></span><span> </span><span class="hs-identifier">refRtldInfo</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-1277"></span><span> </span><span class="hs-identifier">refRtccInfo</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-1278"></span><span> </span><span class="hs-identifier">wrapperNum</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">newIORef</span><span> </span><span class="hs-identifier">emptyModuleEnv</span><span>
</span><span id="line-1279"></span><span> </span><span class="hs-identifier">canUseUnicode</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">enc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">localeEncoding</span><span>
</span><span id="line-1280"></span><span>                         </span><span class="hs-identifier">str</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&#8216;&#8217;&quot;</span><span>
</span><span id="line-1281"></span><span>                     </span><span class="hs-special">(</span><span class="hs-identifier">withCString</span><span> </span><span class="hs-identifier">enc</span><span> </span><span class="hs-identifier">str</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">cstr</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1282"></span><span>                          </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">str'</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">peekCString</span><span> </span><span class="hs-identifier">enc</span><span> </span><span class="hs-identifier">cstr</span><span>
</span><span id="line-1283"></span><span>                             </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">str</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">str'</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1284"></span><span>                         </span><span class="hs-special">`</span><span class="hs-identifier">catchIOError</span><span class="hs-special">`</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1285"></span><span> </span><span class="hs-identifier">ghcNoUnicodeEnv</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">lookupEnv</span><span> </span><span class="hs-string">&quot;GHC_NO_UNICODE&quot;</span><span>
</span><span id="line-1286"></span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">useUnicode'</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">isNothing</span><span> </span><span class="hs-identifier">ghcNoUnicodeEnv</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">canUseUnicode</span><span>
</span><span id="line-1287"></span><span> </span><span class="hs-identifier">maybeGhcColorsEnv</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">lookupEnv</span><span> </span><span class="hs-string">&quot;GHC_COLORS&quot;</span><span>
</span><span id="line-1288"></span><span> </span><span class="hs-identifier">maybeGhcColoursEnv</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">lookupEnv</span><span> </span><span class="hs-string">&quot;GHC_COLOURS&quot;</span><span>
</span><span id="line-1289"></span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">adjustCols</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">env</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Col.parseScheme</span><span> </span><span class="hs-identifier">env</span><span>
</span><span id="line-1290"></span><span>     </span><span class="hs-identifier">adjustCols</span><span> </span><span class="hs-identifier">Nothing</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">id</span><span>
</span><span id="line-1291"></span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">useColor'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">colScheme'</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1292"></span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">adjustCols</span><span> </span><span class="hs-identifier">maybeGhcColoursEnv</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">adjustCols</span><span> </span><span class="hs-identifier">maybeGhcColorsEnv</span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">useColor</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">colScheme</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1294"></span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">{</span><span>
</span><span id="line-1295"></span><span>        </span><span class="hs-identifier">canGenerateDynamicToo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refCanGenerateDynamicToo</span><span class="hs-special">,</span><span>
</span><span id="line-1296"></span><span>        </span><span class="hs-identifier">nextTempSuffix</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refNextTempSuffix</span><span class="hs-special">,</span><span>
</span><span id="line-1297"></span><span>        </span><span class="hs-identifier">filesToClean</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refFilesToClean</span><span class="hs-special">,</span><span>
</span><span id="line-1298"></span><span>        </span><span class="hs-identifier">dirsToClean</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refDirsToClean</span><span class="hs-special">,</span><span>
</span><span id="line-1299"></span><span>        </span><span class="hs-identifier">generatedDumps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refGeneratedDumps</span><span class="hs-special">,</span><span>
</span><span id="line-1300"></span><span>        </span><span class="hs-identifier">nextWrapperNum</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">wrapperNum</span><span class="hs-special">,</span><span>
</span><span id="line-1301"></span><span>        </span><span class="hs-identifier">useUnicode</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">useUnicode'</span><span class="hs-special">,</span><span>
</span><span id="line-1302"></span><span>        </span><span class="hs-identifier">useColor</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">useColor'</span><span class="hs-special">,</span><span>
</span><span id="line-1303"></span><span>        </span><span class="hs-identifier">canUseColor</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">stderrSupportsAnsiColors</span><span class="hs-special">,</span><span>
</span><span id="line-1304"></span><span>        </span><span class="hs-identifier">colScheme</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">colScheme'</span><span class="hs-special">,</span><span>
</span><span id="line-1305"></span><span>        </span><span class="hs-identifier">rtldInfo</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refRtldInfo</span><span class="hs-special">,</span><span>
</span><span id="line-1306"></span><span>        </span><span class="hs-identifier">rtccInfo</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">refRtccInfo</span><span>
</span><span id="line-1307"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-1308"></span><span>
</span><span id="line-1309"></span><span class="hs-comment">-- | The normal 'DynFlags'. Note that they are not suitable for use in this form</span><span>
</span><span id="line-1310"></span><span class="hs-comment">-- and must be fully initialized by 'GHC.runGhc' first.</span><span>
</span><span id="line-1311"></span><span class="hs-identifier">defaultDynFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Settings</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">LlvmConfig</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1312"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultDynFlags"><span class="hs-identifier hs-type">defaultDynFlags</span></a></span><span> </span><span class="hs-identifier">mySettings</span><span> </span><span class="hs-identifier">llvmConfig</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1313"></span><span id="defaultDynFlags"></span><span id="local-6989586621680786206"></span><span id="local-6989586621680786205"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-1314"></span><span>     </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1315"></span><span>        </span><span class="hs-identifier">ghcMode</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">CompManager</span><span class="hs-special">,</span><span>
</span><span id="line-1316"></span><span>        </span><span class="hs-identifier">ghcLink</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">LinkBinary</span><span class="hs-special">,</span><span>
</span><span id="line-1317"></span><span>        </span><span class="hs-identifier">hscTarget</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultHscTarget</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sTargetPlatform</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1318"></span><span>        </span><span class="hs-identifier">verbosity</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><span id="line-1319"></span><span>        </span><span class="hs-identifier">optLevel</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><span id="line-1320"></span><span>        </span><span class="hs-identifier">debugLevel</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><span id="line-1321"></span><span>        </span><span class="hs-identifier">simplPhases</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">2</span><span class="hs-special">,</span><span>
</span><span id="line-1322"></span><span>        </span><span class="hs-identifier">maxSimplIterations</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">4</span><span class="hs-special">,</span><span>
</span><span id="line-1323"></span><span>        </span><span class="hs-identifier">ruleCheck</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1324"></span><span>        </span><span class="hs-identifier">inlineCheck</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1325"></span><span>        </span><span class="hs-identifier">binBlobThreshold</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">500000</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- 500K is a good default (see #16190)</span><span>
</span><span id="line-1326"></span><span>        </span><span class="hs-identifier">maxRelevantBinds</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">6</span><span class="hs-special">,</span><span>
</span><span id="line-1327"></span><span>        </span><span class="hs-identifier">maxValidHoleFits</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">6</span><span class="hs-special">,</span><span>
</span><span id="line-1328"></span><span>        </span><span class="hs-identifier">maxRefHoleFits</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">6</span><span class="hs-special">,</span><span>
</span><span id="line-1329"></span><span>        </span><span class="hs-identifier">refLevelHoleFits</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1330"></span><span>        </span><span class="hs-identifier">maxUncoveredPatterns</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">4</span><span class="hs-special">,</span><span>
</span><span id="line-1331"></span><span>        </span><span class="hs-identifier">maxPmCheckModels</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">30</span><span class="hs-special">,</span><span>
</span><span id="line-1332"></span><span>        </span><span class="hs-identifier">simplTickFactor</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">100</span><span class="hs-special">,</span><span>
</span><span id="line-1333"></span><span>        </span><span class="hs-identifier">specConstrThreshold</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">2000</span><span class="hs-special">,</span><span>
</span><span id="line-1334"></span><span>        </span><span class="hs-identifier">specConstrCount</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">3</span><span class="hs-special">,</span><span>
</span><span id="line-1335"></span><span>        </span><span class="hs-identifier">specConstrRecursive</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">3</span><span class="hs-special">,</span><span>
</span><span id="line-1336"></span><span>        </span><span class="hs-identifier">liberateCaseThreshold</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">2000</span><span class="hs-special">,</span><span>
</span><span id="line-1337"></span><span>        </span><span class="hs-identifier">floatLamArgs</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Default: float only if no fvs</span><span>
</span><span id="line-1338"></span><span>        </span><span class="hs-identifier">liftLamsRecArgs</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">5</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Default: the number of available argument hardware registers on x86_64</span><span>
</span><span id="line-1339"></span><span>        </span><span class="hs-identifier">liftLamsNonRecArgs</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">5</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Default: the number of available argument hardware registers on x86_64</span><span>
</span><span id="line-1340"></span><span>        </span><span class="hs-identifier">liftLamsKnown</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>  </span><span class="hs-comment">-- Default: don't turn known calls into unknown ones</span><span>
</span><span id="line-1341"></span><span>        </span><span class="hs-identifier">cmmProcAlignment</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1342"></span><span>
</span><span id="line-1343"></span><span>        </span><span class="hs-identifier">historySize</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">20</span><span class="hs-special">,</span><span>
</span><span id="line-1344"></span><span>        </span><span class="hs-identifier">strictnessBefore</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span>        </span><span class="hs-identifier">parMakeCount</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span>
</span><span id="line-1347"></span><span>
</span><span id="line-1348"></span><span>        </span><span class="hs-identifier">enableTimeStats</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1349"></span><span>        </span><span class="hs-identifier">ghcHeapSize</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1350"></span><span>
</span><span id="line-1351"></span><span>        </span><span class="hs-identifier">importPaths</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;.&quot;</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1352"></span><span>        </span><span class="hs-identifier">mainModIs</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mAIN</span><span class="hs-special">,</span><span>
</span><span id="line-1353"></span><span>        </span><span class="hs-identifier">mainFunIs</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1354"></span><span>        </span><span class="hs-identifier">reductionDepth</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">mAX_REDUCTION_DEPTH</span><span class="hs-special">,</span><span>
</span><span id="line-1355"></span><span>        </span><span class="hs-identifier">solverIterations</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">mAX_SOLVER_ITERATIONS</span><span class="hs-special">,</span><span>
</span><span id="line-1356"></span><span>
</span><span id="line-1357"></span><span>        </span><span class="hs-identifier">homeUnitId</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mainUnitId</span><span class="hs-special">,</span><span>
</span><span id="line-1358"></span><span>        </span><span class="hs-identifier">homeUnitInstanceOfId</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1359"></span><span>        </span><span class="hs-identifier">homeUnitInstantiations</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1360"></span><span>
</span><span id="line-1361"></span><span>        </span><span class="hs-identifier">objectDir</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1362"></span><span>        </span><span class="hs-identifier">dylibInstallName</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1363"></span><span>        </span><span class="hs-identifier">hiDir</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1364"></span><span>        </span><span class="hs-identifier">hieDir</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1365"></span><span>        </span><span class="hs-identifier">stubDir</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1366"></span><span>        </span><span class="hs-identifier">dumpDir</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1367"></span><span>
</span><span id="line-1368"></span><span>        </span><span class="hs-identifier">objectSuf</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">phaseInputExt</span><span> </span><span class="hs-identifier">StopLn</span><span class="hs-special">,</span><span>
</span><span id="line-1369"></span><span>        </span><span class="hs-identifier">hcSuf</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">phaseInputExt</span><span> </span><span class="hs-identifier">HCc</span><span class="hs-special">,</span><span>
</span><span id="line-1370"></span><span>        </span><span class="hs-identifier">hiSuf</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;hi&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1371"></span><span>        </span><span class="hs-identifier">hieSuf</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;hie&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1372"></span><span>
</span><span id="line-1373"></span><span>        </span><span class="hs-identifier">canGenerateDynamicToo</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No canGenerateDynamicToo&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1374"></span><span>        </span><span class="hs-identifier">dynObjectSuf</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;dyn_&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">phaseInputExt</span><span> </span><span class="hs-identifier">StopLn</span><span class="hs-special">,</span><span>
</span><span id="line-1375"></span><span>        </span><span class="hs-identifier">dynHiSuf</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;dyn_hi&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1376"></span><span>
</span><span id="line-1377"></span><span>        </span><span class="hs-identifier">pluginModNames</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1378"></span><span>        </span><span class="hs-identifier">pluginModNameOpts</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1379"></span><span>        </span><span class="hs-identifier">frontendPluginOpts</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1380"></span><span>        </span><span class="hs-identifier">cachedPlugins</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1381"></span><span>        </span><span class="hs-identifier">staticPlugins</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1382"></span><span>        </span><span class="hs-identifier">hooks</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">emptyHooks</span><span class="hs-special">,</span><span>
</span><span id="line-1383"></span><span>
</span><span id="line-1384"></span><span>        </span><span class="hs-identifier">outputFile</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1385"></span><span>        </span><span class="hs-identifier">dynOutputFile</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1386"></span><span>        </span><span class="hs-identifier">outputHi</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1387"></span><span>        </span><span class="hs-identifier">dynLibLoader</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">SystemDependent</span><span class="hs-special">,</span><span>
</span><span id="line-1388"></span><span>        </span><span class="hs-identifier">dumpPrefix</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1389"></span><span>        </span><span class="hs-identifier">dumpPrefixForce</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1390"></span><span>        </span><span class="hs-identifier">ldInputs</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1391"></span><span>        </span><span class="hs-identifier">includePaths</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IncludeSpecs</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1392"></span><span>        </span><span class="hs-identifier">libraryPaths</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1393"></span><span>        </span><span class="hs-identifier">frameworkPaths</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1394"></span><span>        </span><span class="hs-identifier">cmdlineFrameworks</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1395"></span><span>        </span><span class="hs-identifier">rtsOpts</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1396"></span><span>        </span><span class="hs-identifier">rtsOptsEnabled</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">RtsOptsSafeOnly</span><span class="hs-special">,</span><span>
</span><span id="line-1397"></span><span>        </span><span class="hs-identifier">rtsOptsSuggestions</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">,</span><span>
</span><span id="line-1398"></span><span>
</span><span id="line-1399"></span><span>        </span><span class="hs-identifier">hpcDir</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;.hpc&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1400"></span><span>
</span><span id="line-1401"></span><span>        </span><span class="hs-identifier">packageDBFlags</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1402"></span><span>        </span><span class="hs-identifier">packageFlags</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1403"></span><span>        </span><span class="hs-identifier">pluginPackageFlags</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1404"></span><span>        </span><span class="hs-identifier">ignorePackageFlags</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1405"></span><span>        </span><span class="hs-identifier">trustFlags</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1406"></span><span>        </span><span class="hs-identifier">packageEnv</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1407"></span><span>        </span><span class="hs-identifier">unitDatabases</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1408"></span><span>        </span><span class="hs-identifier">unitState</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">emptyUnitState</span><span class="hs-special">,</span><span>
</span><span id="line-1409"></span><span>        </span><span class="hs-identifier">ways</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultWays</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1410"></span><span>        </span><span class="hs-identifier">splitInfo</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1411"></span><span>
</span><span id="line-1412"></span><span>        </span><span class="hs-identifier">ghcNameVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sGhcNameVersion</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1413"></span><span>        </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sFileSettings</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1414"></span><span>        </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sToolSettings</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1415"></span><span>        </span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sTargetPlatform</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1416"></span><span>        </span><span class="hs-identifier">platformMisc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sPlatformMisc</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1417"></span><span>        </span><span class="hs-identifier">platformConstants</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sPlatformConstants</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1418"></span><span>        </span><span class="hs-identifier">rawSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sRawSettings</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">,</span><span>
</span><span id="line-1419"></span><span>
</span><span id="line-1420"></span><span>        </span><span class="hs-comment">-- See Note [LLVM configuration].</span><span>
</span><span id="line-1421"></span><span>        </span><span class="hs-identifier">llvmConfig</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">llvmConfig</span><span class="hs-special">,</span><span>
</span><span id="line-1422"></span><span>
</span><span id="line-1423"></span><span>        </span><span class="hs-comment">-- ghc -M values</span><span>
</span><span id="line-1424"></span><span>        </span><span class="hs-identifier">depMakefile</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Makefile&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1425"></span><span>        </span><span class="hs-identifier">depIncludePkgDeps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1426"></span><span>        </span><span class="hs-identifier">depIncludeCppDeps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1427"></span><span>        </span><span class="hs-identifier">depExcludeMods</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1428"></span><span>        </span><span class="hs-identifier">depSuffixes</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1429"></span><span>        </span><span class="hs-comment">-- end of ghc -M values</span><span>
</span><span id="line-1430"></span><span>        </span><span class="hs-identifier">nextTempSuffix</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No nextTempSuffix&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1431"></span><span>        </span><span class="hs-identifier">filesToClean</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No filesToClean&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1432"></span><span>        </span><span class="hs-identifier">dirsToClean</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No dirsToClean&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1433"></span><span>        </span><span class="hs-identifier">generatedDumps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No generatedDumps&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1434"></span><span>        </span><span class="hs-identifier">ghcVersionFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1435"></span><span>        </span><span class="hs-identifier">haddockOptions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1436"></span><span>        </span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.empty</span><span class="hs-special">,</span><span>
</span><span id="line-1437"></span><span>        </span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.fromList</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">defaultFlags</span><span> </span><span class="hs-identifier">mySettings</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1438"></span><span>        </span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.fromList</span><span> </span><span class="hs-identifier">standardWarnings</span><span class="hs-special">,</span><span>
</span><span id="line-1439"></span><span>        </span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.empty</span><span class="hs-special">,</span><span>
</span><span id="line-1440"></span><span>        </span><span class="hs-identifier">ghciScripts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1441"></span><span>        </span><span class="hs-identifier">language</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1442"></span><span>        </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Sf_None</span><span class="hs-special">,</span><span>
</span><span id="line-1443"></span><span>        </span><span class="hs-identifier">safeInfer</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">,</span><span>
</span><span id="line-1444"></span><span>        </span><span class="hs-identifier">safeInferred</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">,</span><span>
</span><span id="line-1445"></span><span>        </span><span class="hs-identifier">thOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1446"></span><span>        </span><span class="hs-identifier">newDerivOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1447"></span><span>        </span><span class="hs-identifier">deriveViaOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1448"></span><span>        </span><span class="hs-identifier">overlapInstLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1449"></span><span>        </span><span class="hs-identifier">incoherentOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1450"></span><span>        </span><span class="hs-identifier">pkgTrustOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1451"></span><span>        </span><span class="hs-identifier">warnSafeOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1452"></span><span>        </span><span class="hs-identifier">warnUnsafeOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1453"></span><span>        </span><span class="hs-identifier">trustworthyOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">noSrcSpan</span><span class="hs-special">,</span><span>
</span><span id="line-1454"></span><span>        </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1455"></span><span>        </span><span class="hs-identifier">extensionFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flattenExtensionFlags</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1456"></span><span>
</span><span id="line-1457"></span><span>        </span><span class="hs-identifier">ufCreationThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">750</span><span class="hs-special">,</span><span>
</span><span id="line-1458"></span><span>           </span><span class="hs-comment">-- The ufCreationThreshold threshold must be reasonably high</span><span>
</span><span id="line-1459"></span><span>           </span><span class="hs-comment">-- to take account of possible discounts.</span><span>
</span><span id="line-1460"></span><span>           </span><span class="hs-comment">-- E.g. 450 is not enough in 'fulsom' for Interval.sqr to</span><span>
</span><span id="line-1461"></span><span>           </span><span class="hs-comment">-- inline into Csg.calc (The unfolding for sqr never makes it</span><span>
</span><span id="line-1462"></span><span>           </span><span class="hs-comment">-- into the interface file.)</span><span>
</span><span id="line-1463"></span><span>
</span><span id="line-1464"></span><span>        </span><span class="hs-identifier">ufUseThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">90</span><span class="hs-special">,</span><span>
</span><span id="line-1465"></span><span>           </span><span class="hs-comment">-- Last adjusted upwards in #18282, when I reduced</span><span>
</span><span id="line-1466"></span><span>           </span><span class="hs-comment">-- the result discount for constructors.</span><span>
</span><span id="line-1467"></span><span>
</span><span id="line-1468"></span><span>        </span><span class="hs-identifier">ufFunAppDiscount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">60</span><span class="hs-special">,</span><span>
</span><span id="line-1469"></span><span>           </span><span class="hs-comment">-- Be fairly keen to inline a function if that means</span><span>
</span><span id="line-1470"></span><span>           </span><span class="hs-comment">-- we'll be able to pick the right method from a dictionary</span><span>
</span><span id="line-1471"></span><span>
</span><span id="line-1472"></span><span>        </span><span class="hs-identifier">ufDictDiscount</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">30</span><span class="hs-special">,</span><span>
</span><span id="line-1473"></span><span>        </span><span class="hs-identifier">ufDearOp</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">40</span><span class="hs-special">,</span><span>
</span><span id="line-1474"></span><span>        </span><span class="hs-identifier">ufVeryAggressive</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1475"></span><span>
</span><span id="line-1476"></span><span>        </span><span class="hs-identifier">maxWorkerArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">10</span><span class="hs-special">,</span><span>
</span><span id="line-1477"></span><span>
</span><span id="line-1478"></span><span>        </span><span class="hs-identifier">ghciHistSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">50</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- keep a log of length 50 by default</span><span>
</span><span id="line-1479"></span><span>
</span><span id="line-1480"></span><span>        </span><span class="hs-comment">-- Logging</span><span>
</span><span id="line-1481"></span><span>
</span><span id="line-1482"></span><span>        </span><span class="hs-identifier">log_action</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultLogAction</span><span class="hs-special">,</span><span>
</span><span id="line-1483"></span><span>        </span><span class="hs-identifier">dump_action</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultDumpAction</span><span class="hs-special">,</span><span>
</span><span id="line-1484"></span><span>        </span><span class="hs-identifier">trace_action</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultTraceAction</span><span class="hs-special">,</span><span>
</span><span id="line-1485"></span><span>
</span><span id="line-1486"></span><span>        </span><span class="hs-identifier">flushOut</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultFlushOut</span><span class="hs-special">,</span><span>
</span><span id="line-1487"></span><span>        </span><span class="hs-identifier">flushErr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultFlushErr</span><span class="hs-special">,</span><span>
</span><span id="line-1488"></span><span>        </span><span class="hs-identifier">pprUserLength</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">5</span><span class="hs-special">,</span><span>
</span><span id="line-1489"></span><span>        </span><span class="hs-identifier">pprCols</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">100</span><span class="hs-special">,</span><span>
</span><span id="line-1490"></span><span>        </span><span class="hs-identifier">useUnicode</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1491"></span><span>        </span><span class="hs-identifier">useColor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Auto</span><span class="hs-special">,</span><span>
</span><span id="line-1492"></span><span>        </span><span class="hs-identifier">canUseColor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1493"></span><span>        </span><span class="hs-identifier">colScheme</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Col.defaultScheme</span><span class="hs-special">,</span><span>
</span><span id="line-1494"></span><span>        </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoProfAuto</span><span class="hs-special">,</span><span>
</span><span id="line-1495"></span><span>        </span><span class="hs-identifier">interactivePrint</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1496"></span><span>        </span><span class="hs-identifier">nextWrapperNum</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: No nextWrapperNum&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1497"></span><span>        </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1498"></span><span>        </span><span class="hs-identifier">bmiVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1499"></span><span>        </span><span class="hs-identifier">avx</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1500"></span><span>        </span><span class="hs-identifier">avx2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1501"></span><span>        </span><span class="hs-identifier">avx512cd</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1502"></span><span>        </span><span class="hs-identifier">avx512er</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1503"></span><span>        </span><span class="hs-identifier">avx512f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1504"></span><span>        </span><span class="hs-identifier">avx512pf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1505"></span><span>        </span><span class="hs-identifier">rtldInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: no rtldInfo&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1506"></span><span>        </span><span class="hs-identifier">rtccInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">panic</span><span> </span><span class="hs-string">&quot;defaultDynFlags: no rtccInfo&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-1507"></span><span>
</span><span id="line-1508"></span><span>        </span><span class="hs-identifier">maxInlineAllocSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">128</span><span class="hs-special">,</span><span>
</span><span id="line-1509"></span><span>        </span><span class="hs-identifier">maxInlineMemcpyInsns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">32</span><span class="hs-special">,</span><span>
</span><span id="line-1510"></span><span>        </span><span class="hs-identifier">maxInlineMemsetInsns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">32</span><span class="hs-special">,</span><span>
</span><span id="line-1511"></span><span>
</span><span id="line-1512"></span><span>        </span><span class="hs-identifier">initialUnique</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span class="hs-special">,</span><span>
</span><span id="line-1513"></span><span>        </span><span class="hs-identifier">uniqueIncrement</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span class="hs-special">,</span><span>
</span><span id="line-1514"></span><span>
</span><span id="line-1515"></span><span>        </span><span class="hs-identifier">reverseErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">,</span><span>
</span><span id="line-1516"></span><span>        </span><span class="hs-identifier">maxErrors</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span>
</span><span id="line-1517"></span><span>        </span><span class="hs-identifier">cfgWeightInfo</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultCfgWeights</span><span>
</span><span id="line-1518"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1519"></span><span>
</span><span id="line-1520"></span><span class="hs-identifier">defaultWays</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Settings</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Set</span><span> </span><span class="hs-identifier">Way</span><span>
</span><span id="line-1521"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultWays"><span class="hs-identifier hs-type">defaultWays</span></a></span><span> </span><span class="hs-identifier">settings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">pc_DYNAMIC_BY_DEFAULT</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sPlatformConstants</span><span> </span><span class="hs-identifier">settings</span><span class="hs-special">)</span><span>
</span><span id="line-1522"></span><span>                       </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">Set.singleton</span><span> </span><span class="hs-identifier">WayDyn</span><span>
</span><span id="line-1523"></span><span>                       </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">Set.empty</span><span>
</span><span id="line-1524"></span><span>
</span><span id="line-1525"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-1526"></span><span class="hs-comment">--</span><span>
</span><span id="line-1527"></span><span class="hs-comment">-- Note [JSON Error Messages]</span><span>
</span><span id="line-1528"></span><span class="hs-comment">--</span><span>
</span><span id="line-1529"></span><span class="hs-comment">-- When the user requests the compiler output to be dumped as json</span><span>
</span><span id="line-1530"></span><span class="hs-comment">-- we used to collect them all in an IORef and then print them at the end.</span><span>
</span><span id="line-1531"></span><span class="hs-comment">-- This doesn't work very well with GHCi. (See #14078) So instead we now</span><span>
</span><span id="line-1532"></span><span class="hs-comment">-- use the simpler method of just outputting a JSON document inplace to</span><span>
</span><span id="line-1533"></span><span class="hs-comment">-- stdout.</span><span>
</span><span id="line-1534"></span><span class="hs-comment">--</span><span>
</span><span id="line-1535"></span><span class="hs-comment">-- Before the compiler calls log_action, it has already turned the `ErrMsg`</span><span>
</span><span id="line-1536"></span><span class="hs-comment">-- into a formatted message. This means that we lose some possible</span><span>
</span><span id="line-1537"></span><span class="hs-comment">-- information to provide to the user but refactoring log_action is quite</span><span>
</span><span id="line-1538"></span><span class="hs-comment">-- invasive as it is called in many places. So, for now I left it alone</span><span>
</span><span id="line-1539"></span><span class="hs-comment">-- and we can refine its behaviour as users request different output.</span><span>
</span><span id="line-1540"></span><span>
</span><span id="line-1541"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">FatalMessager</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span>
</span><span id="line-1543"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">LogAction</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1544"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarnReason</span><span>
</span><span id="line-1545"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Severity</span><span>
</span><span id="line-1546"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SrcSpan</span><span>
</span><span id="line-1547"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">MsgDoc</span><span>
</span><span id="line-1548"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1549"></span><span>
</span><span id="line-1550"></span><span class="hs-identifier">defaultFatalMessager</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FatalMessager</span><span>
</span><span id="line-1551"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultFatalMessager"><span class="hs-identifier hs-type">defaultFatalMessager</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hPutStrLn</span><span> </span><span class="hs-identifier">stderr</span><span>
</span><span id="line-1552"></span><span>
</span><span id="line-1553"></span><span>
</span><span id="line-1554"></span><span class="hs-comment">-- See Note [JSON Error Messages]</span><span>
</span><span id="line-1555"></span><span class="hs-comment">--</span><span>
</span><span id="line-1556"></span><span class="hs-identifier">jsonLogAction</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LogAction</span><span>
</span><span id="line-1557"></span><span class="annot"><a href="GHC.Driver.Session.html#jsonLogAction"><span class="hs-identifier hs-type">jsonLogAction</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">reason</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-identifier">srcSpan</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1558"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1559"></span><span>    </span><span class="hs-identifier">defaultLogActionHPutStrDoc</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">stdout</span><span>
</span><span id="line-1560"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">withPprStyle</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkCodeStyle</span><span> </span><span class="hs-identifier">CStyle</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">doc</span><span> </span><span class="hs-operator">$$</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1561"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1562"></span><span>      </span><span class="hs-identifier">doc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">renderJSON</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-1563"></span><span>              </span><span class="hs-identifier">JSObject</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-string">&quot;span&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">json</span><span> </span><span class="hs-identifier">srcSpan</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1564"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-string">&quot;doc&quot;</span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">JSString</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">showSDoc</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">msg</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1565"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-string">&quot;severity&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">json</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1566"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-string">&quot;reason&quot;</span><span> </span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">json</span><span> </span><span class="hs-identifier">reason</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1567"></span><span>                       </span><span class="hs-special">]</span><span>
</span><span id="line-1568"></span><span>
</span><span id="line-1569"></span><span>
</span><span id="line-1570"></span><span class="hs-identifier">defaultLogAction</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LogAction</span><span>
</span><span id="line-1571"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogAction"><span class="hs-identifier hs-type">defaultLogAction</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">reason</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-identifier">srcSpan</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1572"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1573"></span><span>      </span><span class="hs-identifier">SevOutput</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printOut</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1574"></span><span>      </span><span class="hs-identifier">SevDump</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printOut</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">msg</span><span> </span><span class="hs-operator">$$</span><span> </span><span class="hs-identifier">blankLine</span><span class="hs-special">)</span><span>
</span><span id="line-1575"></span><span>      </span><span class="hs-identifier">SevInteractive</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">putStrSDoc</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1576"></span><span>      </span><span class="hs-identifier">SevInfo</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printErrs</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1577"></span><span>      </span><span class="hs-identifier">SevFatal</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printErrs</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1578"></span><span>      </span><span class="hs-identifier">SevWarning</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printWarns</span><span>
</span><span id="line-1579"></span><span>      </span><span class="hs-identifier">SevError</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">printWarns</span><span>
</span><span id="line-1580"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1581"></span><span>      </span><span class="hs-identifier">printOut</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultLogActionHPrintDoc</span><span>  </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">stdout</span><span>
</span><span id="line-1582"></span><span>      </span><span class="hs-identifier">printErrs</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultLogActionHPrintDoc</span><span>  </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">stderr</span><span>
</span><span id="line-1583"></span><span>      </span><span class="hs-identifier">putStrSDoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultLogActionHPutStrDoc</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">stdout</span><span>
</span><span id="line-1584"></span><span>      </span><span class="hs-comment">-- Pretty print the warning flag, if any (#10752)</span><span>
</span><span id="line-1585"></span><span>      </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkLocMessageAnn</span><span> </span><span class="hs-identifier">flagMsg</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-identifier">srcSpan</span><span> </span><span class="hs-identifier">msg</span><span>
</span><span id="line-1586"></span><span>
</span><span id="line-1587"></span><span>      </span><span class="hs-identifier">printWarns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1588"></span><span>        </span><span class="hs-identifier">hPutChar</span><span> </span><span class="hs-identifier">stderr</span><span> </span><span class="hs-char">'\n'</span><span>
</span><span id="line-1589"></span><span>        </span><span class="hs-identifier">caretDiagnostic</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1590"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_DiagnosticsShowCaret</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1591"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">getCaretDiagnostic</span><span> </span><span class="hs-identifier">severity</span><span> </span><span class="hs-identifier">srcSpan</span><span>
</span><span id="line-1592"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">empty</span><span>
</span><span id="line-1593"></span><span>        </span><span class="hs-identifier">printErrs</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">getPprStyle</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">style</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1594"></span><span>          </span><span class="hs-identifier">withPprStyle</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setStyleColoured</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-identifier">style</span><span class="hs-special">)</span><span>
</span><span id="line-1595"></span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">message</span><span> </span><span class="hs-operator">$+$</span><span> </span><span class="hs-identifier">caretDiagnostic</span><span class="hs-special">)</span><span>
</span><span id="line-1596"></span><span>        </span><span class="hs-comment">-- careful (#2302): printErrs prints in UTF-8,</span><span>
</span><span id="line-1597"></span><span>        </span><span class="hs-comment">-- whereas converting to string first and using</span><span>
</span><span id="line-1598"></span><span>        </span><span class="hs-comment">-- hPutStr would just emit the low 8 bits of</span><span>
</span><span id="line-1599"></span><span>        </span><span class="hs-comment">-- each unicode char.</span><span>
</span><span id="line-1600"></span><span>
</span><span id="line-1601"></span><span>      </span><span class="hs-identifier">flagMsg</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1602"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">reason</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1603"></span><span>          </span><span class="hs-identifier">NoReason</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-1604"></span><span>          </span><span class="hs-identifier">Reason</span><span> </span><span class="hs-identifier">wflag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1605"></span><span>            </span><span class="hs-identifier">spec</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">flagSpecOf</span><span> </span><span class="hs-identifier">wflag</span><span>
</span><span id="line-1606"></span><span>            </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-W&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">warnFlagGrp</span><span> </span><span class="hs-identifier">wflag</span><span class="hs-special">)</span><span>
</span><span id="line-1607"></span><span>          </span><span class="hs-identifier">ErrReason</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1608"></span><span>            </span><span class="hs-identifier">return</span><span> </span><span class="hs-string">&quot;-Werror&quot;</span><span>
</span><span id="line-1609"></span><span>          </span><span class="hs-identifier">ErrReason</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">wflag</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1610"></span><span>            </span><span class="hs-identifier">spec</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">flagSpecOf</span><span> </span><span class="hs-identifier">wflag</span><span>
</span><span id="line-1611"></span><span>            </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-1612"></span><span>              </span><span class="hs-string">&quot;-W&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-identifier">spec</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">warnFlagGrp</span><span> </span><span class="hs-identifier">wflag</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-1613"></span><span>              </span><span class="hs-string">&quot;, -Werror=&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-identifier">spec</span><span>
</span><span id="line-1614"></span><span>
</span><span id="line-1615"></span><span>      </span><span class="hs-identifier">warnFlagGrp</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-1616"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_ShowWarnGroups</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1617"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">smallestGroups</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1618"></span><span>                    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&quot;</span><span>
</span><span id="line-1619"></span><span>                    </span><span class="hs-identifier">groups</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot; (in &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">intercalate</span><span> </span><span class="hs-string">&quot;, &quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-W&quot;</span><span class="hs-operator">++</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">groups</span><span class="hs-special">)</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><span id="line-1620"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&quot;</span><span>
</span><span id="line-1621"></span><span>
</span><span id="line-1622"></span><span class="hs-comment">-- | Like 'defaultLogActionHPutStrDoc' but appends an extra newline.</span><span>
</span><span id="line-1623"></span><span class="hs-identifier">defaultLogActionHPrintDoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Handle</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1624"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogActionHPrintDoc"><span class="hs-identifier hs-type">defaultLogActionHPrintDoc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">h</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-1625"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defaultLogActionHPutStrDoc</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">h</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">d</span><span> </span><span class="hs-operator">$$</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-1626"></span><span>
</span><span id="line-1627"></span><span class="hs-identifier">defaultLogActionHPutStrDoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Handle</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1628"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultLogActionHPutStrDoc"><span class="hs-identifier hs-type">defaultLogActionHPutStrDoc</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">h</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-1629"></span><span>  </span><span class="hs-comment">-- Don't add a newline at the end, so that successive</span><span>
</span><span id="line-1630"></span><span>  </span><span class="hs-comment">-- calls to this log-action can output all on the same line</span><span>
</span><span id="line-1631"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">printSDoc</span><span> </span><span class="hs-identifier">ctx</span><span> </span><span class="hs-identifier">Pretty.PageMode</span><span> </span><span class="hs-identifier">h</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-1632"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">ctx</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">initSDocContext</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">defaultUserStyle</span><span>
</span><span id="line-1633"></span><span>
</span><span id="line-1634"></span><span class="hs-keyword">newtype</span><span> </span><span class="hs-identifier">FlushOut</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlushOut</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1635"></span><span>
</span><span id="line-1636"></span><span class="hs-identifier">defaultFlushOut</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FlushOut</span><span>
</span><span id="line-1637"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultFlushOut"><span class="hs-identifier hs-type">defaultFlushOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlushOut</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hFlush</span><span> </span><span class="hs-identifier">stdout</span><span>
</span><span id="line-1638"></span><span>
</span><span id="line-1639"></span><span class="hs-keyword">newtype</span><span> </span><span class="hs-identifier">FlushErr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlushErr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1640"></span><span>
</span><span id="line-1641"></span><span class="hs-identifier">defaultFlushErr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FlushErr</span><span>
</span><span id="line-1642"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultFlushErr"><span class="hs-identifier hs-type">defaultFlushErr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlushErr</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hFlush</span><span> </span><span class="hs-identifier">stderr</span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span class="hs-comment">{-
Note [Verbosity levels]
~~~~~~~~~~~~~~~~~~~~~~~
    0   |   print errors &amp; warnings only
    1   |   minimal verbosity: print &quot;compiling M ... done.&quot; for each module.
    2   |   equivalent to -dshow-passes
    3   |   equivalent to existing &quot;ghc -v&quot;
    4   |   &quot;ghc -v -ddump-most&quot;
    5   |   &quot;ghc -v -ddump-all&quot;
-}</span><span>
</span><span id="line-1654"></span><span>
</span><span id="line-1655"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">OnOff</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">On</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1656"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Off</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1657"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Show</span><span class="hs-special">)</span><span>
</span><span id="line-1658"></span><span>
</span><span id="line-1659"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Outputable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">OnOff</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span id="local-6989586621680788367"></span><span>
</span><span id="line-1660"></span><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">On</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;On&quot;</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-1661"></span><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Off</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">text</span><span> </span><span class="hs-string">&quot;Off&quot;</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-1662"></span><span>
</span><span id="line-1663"></span><span class="hs-comment">-- OnOffs accumulate in reverse order, so we use foldr in order to</span><span>
</span><span id="line-1664"></span><span class="hs-comment">-- process them in the right order</span><span>
</span><span id="line-1665"></span><span class="hs-identifier">flattenExtensionFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Language</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">OnOff</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">EnumSet</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span>
</span><span id="line-1666"></span><span class="annot"><a href="GHC.Driver.Session.html#flattenExtensionFlags"><span class="hs-identifier hs-type">flattenExtensionFlags</span></a></span><span> </span><span class="hs-identifier">ml</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">defaultExtensionFlags</span><span>
</span><span id="line-1667"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">On</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>  </span><span class="hs-identifier">flags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.insert</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">flags</span><span>
</span><span id="line-1668"></span><span>          </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Off</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">flags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.delete</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">flags</span><span>
</span><span id="line-1669"></span><span>          </span><span class="hs-identifier">defaultExtensionFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.fromList</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-identifier">ml</span><span class="hs-special">)</span><span>
</span><span id="line-1670"></span><span>
</span><span id="line-1671"></span><span class="hs-comment">-- | The language extensions implied by the various language variants.</span><span>
</span><span id="line-1672"></span><span class="hs-comment">-- When updating this be sure to update the flag documentation in</span><span>
</span><span id="line-1673"></span><span class="hs-comment">-- @docs/users_guide/exts@.</span><span>
</span><span id="line-1674"></span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Language</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span>
</span><span id="line-1675"></span><span>
</span><span id="line-1676"></span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-1677"></span><span>    </span><span class="hs-comment">-- Nothing =&gt; the default case</span><span>
</span><span id="line-1678"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">LangExt.NondecreasingIndentation</span><span> </span><span class="hs-comment">-- This has been on by default for some time</span><span>
</span><span id="line-1679"></span><span>    </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">delete</span><span> </span><span class="hs-identifier">LangExt.DatatypeContexts</span><span>  </span><span class="hs-comment">-- The Haskell' committee decided to</span><span>
</span><span id="line-1680"></span><span>                                       </span><span class="hs-comment">-- remove datatype contexts from the</span><span>
</span><span id="line-1681"></span><span>                                       </span><span class="hs-comment">-- language:</span><span>
</span><span id="line-1682"></span><span>   </span><span class="hs-comment">-- http://www.haskell.org/pipermail/haskell-prime/2011-January/003335.html</span><span>
</span><span id="line-1683"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">Haskell2010</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1684"></span><span>
</span><span id="line-1685"></span><span>   </span><span class="hs-comment">-- NB: MonoPatBinds is no longer the default</span><span>
</span><span id="line-1686"></span><span>
</span><span id="line-1687"></span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">Haskell98</span><span class="hs-special">)</span><span>
</span><span id="line-1688"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">LangExt.ImplicitPrelude</span><span class="hs-special">,</span><span>
</span><span id="line-1689"></span><span>       </span><span class="hs-comment">-- See Note [When is StarIsType enabled]</span><span>
</span><span id="line-1690"></span><span>       </span><span class="hs-identifier">LangExt.StarIsType</span><span class="hs-special">,</span><span>
</span><span id="line-1691"></span><span>       </span><span class="hs-identifier">LangExt.CUSKs</span><span class="hs-special">,</span><span>
</span><span id="line-1692"></span><span>       </span><span class="hs-identifier">LangExt.MonomorphismRestriction</span><span class="hs-special">,</span><span>
</span><span id="line-1693"></span><span>       </span><span class="hs-identifier">LangExt.NPlusKPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-1694"></span><span>       </span><span class="hs-identifier">LangExt.DatatypeContexts</span><span class="hs-special">,</span><span>
</span><span id="line-1695"></span><span>       </span><span class="hs-identifier">LangExt.TraditionalRecordSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-1696"></span><span>       </span><span class="hs-identifier">LangExt.NondecreasingIndentation</span><span>
</span><span id="line-1697"></span><span>           </span><span class="hs-comment">-- strictly speaking non-standard, but we always had this</span><span>
</span><span id="line-1698"></span><span>           </span><span class="hs-comment">-- on implicitly before the option was added in 7.1, and</span><span>
</span><span id="line-1699"></span><span>           </span><span class="hs-comment">-- turning it off breaks code, so we're keeping it on for</span><span>
</span><span id="line-1700"></span><span>           </span><span class="hs-comment">-- backwards compatibility.  Cabal uses -XHaskell98 by</span><span>
</span><span id="line-1701"></span><span>           </span><span class="hs-comment">-- default unless you specify another language.</span><span>
</span><span id="line-1702"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1703"></span><span>
</span><span id="line-1704"></span><span class="hs-identifier">languageExtensions</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">Haskell2010</span><span class="hs-special">)</span><span>
</span><span id="line-1705"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">LangExt.ImplicitPrelude</span><span class="hs-special">,</span><span>
</span><span id="line-1706"></span><span>       </span><span class="hs-comment">-- See Note [When is StarIsType enabled]</span><span>
</span><span id="line-1707"></span><span>       </span><span class="hs-identifier">LangExt.StarIsType</span><span class="hs-special">,</span><span>
</span><span id="line-1708"></span><span>       </span><span class="hs-identifier">LangExt.CUSKs</span><span class="hs-special">,</span><span>
</span><span id="line-1709"></span><span>       </span><span class="hs-identifier">LangExt.MonomorphismRestriction</span><span class="hs-special">,</span><span>
</span><span id="line-1710"></span><span>       </span><span class="hs-identifier">LangExt.DatatypeContexts</span><span class="hs-special">,</span><span>
</span><span id="line-1711"></span><span>       </span><span class="hs-identifier">LangExt.TraditionalRecordSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-1712"></span><span>       </span><span class="hs-identifier">LangExt.EmptyDataDecls</span><span class="hs-special">,</span><span>
</span><span id="line-1713"></span><span>       </span><span class="hs-identifier">LangExt.ForeignFunctionInterface</span><span class="hs-special">,</span><span>
</span><span id="line-1714"></span><span>       </span><span class="hs-identifier">LangExt.PatternGuards</span><span class="hs-special">,</span><span>
</span><span id="line-1715"></span><span>       </span><span class="hs-identifier">LangExt.DoAndIfThenElse</span><span class="hs-special">,</span><span>
</span><span id="line-1716"></span><span>       </span><span class="hs-identifier">LangExt.RelaxedPolyRec</span><span class="hs-special">]</span><span>
</span><span id="line-1717"></span><span>
</span><span id="line-1718"></span><span class="hs-identifier">hasPprDebug</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1719"></span><span class="annot"><a href="GHC.Driver.Session.html#hasPprDebug"><span class="hs-identifier hs-type">hasPprDebug</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dopt</span><span> </span><span class="hs-identifier">Opt_D_ppr_debug</span><span>
</span><span id="line-1720"></span><span>
</span><span id="line-1721"></span><span class="hs-identifier">hasNoDebugOutput</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1722"></span><span class="annot"><a href="GHC.Driver.Session.html#hasNoDebugOutput"><span class="hs-identifier hs-type">hasNoDebugOutput</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dopt</span><span> </span><span class="hs-identifier">Opt_D_no_debug_output</span><span>
</span><span id="line-1723"></span><span>
</span><span id="line-1724"></span><span class="hs-identifier">hasNoStateHack</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1725"></span><span class="annot"><a href="GHC.Driver.Session.html#hasNoStateHack"><span class="hs-identifier hs-type">hasNoStateHack</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_G_NoStateHack</span><span>
</span><span id="line-1726"></span><span>
</span><span id="line-1727"></span><span class="hs-identifier">hasNoOptCoercion</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1728"></span><span class="annot"><a href="GHC.Driver.Session.html#hasNoOptCoercion"><span class="hs-identifier hs-type">hasNoOptCoercion</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_G_NoOptCoercion</span><span>
</span><span id="line-1729"></span><span>
</span><span id="line-1730"></span><span>
</span><span id="line-1731"></span><span class="hs-comment">-- | Test whether a 'DumpFlag' is set</span><span>
</span><span id="line-1732"></span><span class="hs-identifier">dopt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DumpFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1733"></span><span class="annot"><a href="GHC.Driver.Session.html#dopt"><span class="hs-identifier hs-type">dopt</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">EnumSet.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1734"></span><span>             </span><span class="hs-operator">||</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">verbosity</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">&gt;=</span><span> </span><span class="hs-number">4</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-1735"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_tc_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1736"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rn_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1737"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_cs_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1738"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_if_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1739"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_vt_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1740"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_tc</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1741"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rn</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1742"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rn_stats</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1743"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_hi_diffs</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1744"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_verbose_core2core</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1745"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_verbose_stg2stg</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1746"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_splices</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1747"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_th_dec_file</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1748"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rule_firings</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1749"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rule_rewrites</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1750"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl_trace</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1751"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_rtti</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1752"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_inlinings</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1753"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_verbose_inlinings</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1754"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_core_stats</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1755"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_stats</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1756"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_types</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1757"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl_iterations</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1758"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_ticked</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1759"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_view_pattern_commoning</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1760"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_mod_cycles</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1761"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_mod_map</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1762"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">Opt_D_dump_ec_trace</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-1763"></span><span>          </span><span class="hs-identifier">enableIfVerbose</span><span> </span><span class="hs-identifier">_</span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-1764"></span><span>
</span><span id="line-1765"></span><span class="hs-comment">-- | Set a 'DumpFlag'</span><span>
</span><span id="line-1766"></span><span class="hs-identifier">dopt_set</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DumpFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1767"></span><span class="annot"><a href="GHC.Driver.Session.html#dopt_set"><span class="hs-identifier hs-type">dopt_set</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.insert</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1768"></span><span>
</span><span id="line-1769"></span><span class="hs-comment">-- | Unset a 'DumpFlag'</span><span>
</span><span id="line-1770"></span><span class="hs-identifier">dopt_unset</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DumpFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1771"></span><span class="annot"><a href="GHC.Driver.Session.html#dopt_unset"><span class="hs-identifier hs-type">dopt_unset</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.delete</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dumpFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1772"></span><span>
</span><span id="line-1773"></span><span class="hs-comment">-- | Test whether a 'GeneralFlag' is set</span><span>
</span><span id="line-1774"></span><span class="hs-identifier">gopt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1775"></span><span class="annot"><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-type">gopt</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">EnumSet.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1776"></span><span>
</span><span id="line-1777"></span><span class="hs-comment">-- | Set a 'GeneralFlag'</span><span>
</span><span id="line-1778"></span><span class="hs-identifier">gopt_set</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1779"></span><span class="annot"><a href="GHC.Driver.Session.html#gopt_set"><span class="hs-identifier hs-type">gopt_set</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.insert</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1780"></span><span>
</span><span id="line-1781"></span><span class="hs-comment">-- | Unset a 'GeneralFlag'</span><span>
</span><span id="line-1782"></span><span class="hs-identifier">gopt_unset</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1783"></span><span class="annot"><a href="GHC.Driver.Session.html#gopt_unset"><span class="hs-identifier hs-type">gopt_unset</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.delete</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">generalFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1784"></span><span>
</span><span id="line-1785"></span><span class="hs-comment">-- | Test whether a 'WarningFlag' is set</span><span>
</span><span id="line-1786"></span><span class="hs-identifier">wopt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1787"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt"><span class="hs-identifier hs-type">wopt</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">EnumSet.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1788"></span><span>
</span><span id="line-1789"></span><span class="hs-comment">-- | Set a 'WarningFlag'</span><span>
</span><span id="line-1790"></span><span class="hs-identifier">wopt_set</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1791"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt_set"><span class="hs-identifier hs-type">wopt_set</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.insert</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1792"></span><span>
</span><span id="line-1793"></span><span class="hs-comment">-- | Unset a 'WarningFlag'</span><span>
</span><span id="line-1794"></span><span class="hs-identifier">wopt_unset</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1795"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt_unset"><span class="hs-identifier hs-type">wopt_unset</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.delete</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1796"></span><span>
</span><span id="line-1797"></span><span class="hs-comment">-- | Test whether a 'WarningFlag' is set as fatal</span><span>
</span><span id="line-1798"></span><span class="hs-identifier">wopt_fatal</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1799"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt_fatal"><span class="hs-identifier hs-type">wopt_fatal</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">EnumSet.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1800"></span><span>
</span><span id="line-1801"></span><span class="hs-comment">-- | Mark a 'WarningFlag' as fatal (do not set the flag)</span><span>
</span><span id="line-1802"></span><span class="hs-identifier">wopt_set_fatal</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1803"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt_set_fatal"><span class="hs-identifier hs-type">wopt_set_fatal</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1804"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.insert</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1805"></span><span>
</span><span id="line-1806"></span><span class="hs-comment">-- | Mark a 'WarningFlag' as not fatal</span><span>
</span><span id="line-1807"></span><span class="hs-identifier">wopt_unset_fatal</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1808"></span><span class="annot"><a href="GHC.Driver.Session.html#wopt_unset_fatal"><span class="hs-identifier hs-type">wopt_unset_fatal</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1809"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.delete</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fatalWarningFlags</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1810"></span><span>
</span><span id="line-1811"></span><span class="hs-comment">-- | Test whether a 'LangExt.Extension' is set</span><span>
</span><span id="line-1812"></span><span class="hs-identifier">xopt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1813"></span><span class="annot"><a href="GHC.Driver.Session.html#xopt"><span class="hs-identifier hs-type">xopt</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">EnumSet.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">extensionFlags</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1814"></span><span>
</span><span id="line-1815"></span><span class="hs-comment">-- | Set a 'LangExt.Extension'</span><span>
</span><span id="line-1816"></span><span class="hs-identifier">xopt_set</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1817"></span><span class="annot"><a href="GHC.Driver.Session.html#xopt_set"><span class="hs-identifier hs-type">xopt_set</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1818"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">onoffs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">On</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-identifier">dfs</span><span>
</span><span id="line-1819"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">onoffs</span><span class="hs-special">,</span><span>
</span><span id="line-1820"></span><span>               </span><span class="hs-identifier">extensionFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flattenExtensionFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">language</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">onoffs</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1821"></span><span>
</span><span id="line-1822"></span><span class="hs-comment">-- | Unset a 'LangExt.Extension'</span><span>
</span><span id="line-1823"></span><span class="hs-identifier">xopt_unset</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1824"></span><span class="annot"><a href="GHC.Driver.Session.html#xopt_unset"><span class="hs-identifier hs-type">xopt_unset</span></a></span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1825"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">onoffs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Off</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-identifier">dfs</span><span>
</span><span id="line-1826"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">onoffs</span><span class="hs-special">,</span><span>
</span><span id="line-1827"></span><span>               </span><span class="hs-identifier">extensionFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flattenExtensionFlags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">language</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">onoffs</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1828"></span><span>
</span><span id="line-1829"></span><span class="hs-comment">-- | Set or unset a 'LangExt.Extension', unless it has been explicitly</span><span>
</span><span id="line-1830"></span><span class="hs-comment">--   set or unset before.</span><span>
</span><span id="line-1831"></span><span class="hs-identifier">xopt_set_unlessExplSpec</span><span>
</span><span id="line-1832"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span>
</span><span id="line-1833"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-1834"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1835"></span><span class="hs-identifier">xopt_set_unlessExplSpec</span><span> </span><span class="hs-identifier">ext</span><span> </span><span class="hs-identifier">setUnset</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1836"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">referedExts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">stripOnOff</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">extensions</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1837"></span><span>        </span><span class="hs-identifier">stripOnOff</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">On</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-1838"></span><span>        </span><span class="hs-identifier">stripOnOff</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Off</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-1839"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-1840"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">ext</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">referedExts</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">setUnset</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">ext</span><span>
</span><span id="line-1841"></span><span>
</span><span id="line-1842"></span><span class="hs-identifier">lang_set</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Language</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1843"></span><span class="annot"><a href="GHC.Driver.Session.html#lang_set"><span class="hs-identifier hs-type">lang_set</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">lang</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1844"></span><span>   </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1845"></span><span>            </span><span class="hs-identifier">language</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lang</span><span class="hs-special">,</span><span>
</span><span id="line-1846"></span><span>            </span><span class="hs-identifier">extensionFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flattenExtensionFlags</span><span> </span><span class="hs-identifier">lang</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">extensions</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1847"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1848"></span><span>
</span><span id="line-1849"></span><span class="hs-comment">-- | Set the Haskell language standard to use</span><span>
</span><span id="line-1850"></span><span class="hs-identifier">setLanguage</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Language</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1851"></span><span class="annot"><a href="GHC.Driver.Session.html#setLanguage"><span class="hs-identifier hs-type">setLanguage</span></a></span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier">lang_set</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">l</span><span class="hs-special">)</span><span>
</span><span id="line-1852"></span><span>
</span><span id="line-1853"></span><span class="hs-comment">-- | Some modules have dependencies on others through the DynFlags rather than textual imports</span><span>
</span><span id="line-1854"></span><span class="hs-identifier">dynFlagDependencies</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">ModuleName</span><span class="hs-special">]</span><span>
</span><span id="line-1855"></span><span class="annot"><a href="GHC.Driver.Session.html#dynFlagDependencies"><span class="hs-identifier hs-type">dynFlagDependencies</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pluginModNames</span><span>
</span><span id="line-1856"></span><span>
</span><span id="line-1857"></span><span class="hs-comment">-- | Is the -fpackage-trust mode on</span><span>
</span><span id="line-1858"></span><span class="hs-identifier">packageTrustOn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1859"></span><span class="annot"><a href="GHC.Driver.Session.html#packageTrustOn"><span class="hs-identifier hs-type">packageTrustOn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PackageTrust</span><span>
</span><span id="line-1860"></span><span>
</span><span id="line-1861"></span><span class="hs-comment">-- | Is Safe Haskell on in some way (including inference mode)</span><span>
</span><span id="line-1862"></span><span class="hs-identifier">safeHaskellOn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1863"></span><span class="annot"><a href="GHC.Driver.Session.html#safeHaskellOn"><span class="hs-identifier hs-type">safeHaskellOn</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeHaskellModeEnabled</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">safeInferOn</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1864"></span><span>
</span><span id="line-1865"></span><span class="hs-identifier">safeHaskellModeEnabled</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1866"></span><span class="annot"><a href="GHC.Driver.Session.html#safeHaskellModeEnabled"><span class="hs-identifier hs-type">safeHaskellModeEnabled</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Sf_Unsafe</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Sf_Trustworthy</span><span>
</span><span id="line-1867"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Sf_Safe</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1868"></span><span>
</span><span id="line-1869"></span><span>
</span><span id="line-1870"></span><span class="hs-comment">-- | Is the Safe Haskell safe language in use</span><span>
</span><span id="line-1871"></span><span class="hs-identifier">safeLanguageOn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1872"></span><span class="annot"><a href="GHC.Driver.Session.html#safeLanguageOn"><span class="hs-identifier hs-type">safeLanguageOn</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Safe</span><span>
</span><span id="line-1873"></span><span>
</span><span id="line-1874"></span><span class="hs-comment">-- | Is the Safe Haskell safe inference mode active</span><span>
</span><span id="line-1875"></span><span class="hs-identifier">safeInferOn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1876"></span><span class="annot"><a href="GHC.Driver.Session.html#safeInferOn"><span class="hs-identifier hs-type">safeInferOn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeInfer</span><span>
</span><span id="line-1877"></span><span>
</span><span id="line-1878"></span><span class="hs-comment">-- | Test if Safe Imports are on in some form</span><span>
</span><span id="line-1879"></span><span class="hs-identifier">safeImportsOn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1880"></span><span class="annot"><a href="GHC.Driver.Session.html#safeImportsOn"><span class="hs-identifier hs-type">safeImportsOn</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Unsafe</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1881"></span><span>                       </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Trustworthy</span><span> </span><span class="hs-operator">||</span><span>
</span><span id="line-1882"></span><span>                       </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Safe</span><span>
</span><span id="line-1883"></span><span>
</span><span id="line-1884"></span><span class="hs-comment">-- | Set a 'Safe Haskell' flag</span><span>
</span><span id="line-1885"></span><span class="hs-identifier">setSafeHaskell</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1886"></span><span class="annot"><a href="GHC.Driver.Session.html#setSafeHaskell"><span class="hs-identifier hs-type">setSafeHaskell</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">updM</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1887"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1888"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">sf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-identifier">dfs</span><span>
</span><span id="line-1889"></span><span>              </span><span class="hs-identifier">safeM</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">combineSafeFlags</span><span> </span><span class="hs-identifier">sf</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-1890"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1891"></span><span>                </span><span class="hs-identifier">Sf_Safe</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeM</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">safeInfer</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1892"></span><span>                </span><span class="hs-comment">-- leave safe inferrence on in Trustworthy mode so we can warn</span><span>
</span><span id="line-1893"></span><span>                </span><span class="hs-comment">-- if it could have been inferred safe.</span><span>
</span><span id="line-1894"></span><span>                </span><span class="hs-identifier">Sf_Trustworthy</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1895"></span><span>                  </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">getCurLoc</span><span>
</span><span id="line-1896"></span><span>                  </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeM</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">trustworthyOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1897"></span><span>                </span><span class="hs-comment">-- leave safe inference on in Unsafe mode as well.</span><span>
</span><span id="line-1898"></span><span>                </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">safeHaskell</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeM</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1899"></span><span>
</span><span id="line-1900"></span><span class="hs-comment">-- | Are all direct imports required to be safe for this Safe Haskell mode?</span><span>
</span><span id="line-1901"></span><span class="hs-comment">-- Direct imports are when the code explicitly imports a module</span><span>
</span><span id="line-1902"></span><span class="hs-identifier">safeDirectImpsReq</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1903"></span><span class="annot"><a href="GHC.Driver.Session.html#safeDirectImpsReq"><span class="hs-identifier hs-type">safeDirectImpsReq</span></a></span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeLanguageOn</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-1904"></span><span>
</span><span id="line-1905"></span><span class="hs-comment">-- | Are all implicit imports required to be safe for this Safe Haskell mode?</span><span>
</span><span id="line-1906"></span><span class="hs-comment">-- Implicit imports are things in the prelude. e.g System.IO when print is used.</span><span>
</span><span id="line-1907"></span><span class="hs-identifier">safeImplicitImpsReq</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-1908"></span><span class="annot"><a href="GHC.Driver.Session.html#safeImplicitImpsReq"><span class="hs-identifier hs-type">safeImplicitImpsReq</span></a></span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeLanguageOn</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-1909"></span><span>
</span><span id="line-1910"></span><span class="hs-comment">-- | Combine two Safe Haskell modes correctly. Used for dealing with multiple flags.</span><span>
</span><span id="line-1911"></span><span class="hs-comment">-- This makes Safe Haskell very much a monoid but for now I prefer this as I don't</span><span>
</span><span id="line-1912"></span><span class="hs-comment">-- want to export this functionality from the module but do want to export the</span><span>
</span><span id="line-1913"></span><span class="hs-comment">-- type constructors.</span><span>
</span><span id="line-1914"></span><span class="hs-identifier">combineSafeFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span>
</span><span id="line-1915"></span><span class="annot"><a href="GHC.Driver.Session.html#combineSafeFlags"><span class="hs-identifier hs-type">combineSafeFlags</span></a></span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_None</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">b</span><span>
</span><span id="line-1916"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_None</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1917"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span>
</span><span id="line-1918"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">b</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1919"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">addErr</span><span> </span><span class="hs-identifier">errm</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-1920"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">errm</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Incompatible Safe Haskell flags! (&quot;</span><span>
</span><span id="line-1921"></span><span>                    </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot;, &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot;)&quot;</span><span>
</span><span id="line-1922"></span><span>
</span><span id="line-1923"></span><span class="hs-comment">-- | A list of unsafe flags under Safe Haskell. Tuple elements are:</span><span>
</span><span id="line-1924"></span><span class="hs-comment">--     * name of the flag</span><span>
</span><span id="line-1925"></span><span class="hs-comment">--     * function to get srcspan that enabled the flag</span><span>
</span><span id="line-1926"></span><span class="hs-comment">--     * function to test if the flag is on</span><span>
</span><span id="line-1927"></span><span class="hs-comment">--     * function to turn the flag off</span><span>
</span><span id="line-1928"></span><span class="hs-identifier">unsafeFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unsafeFlagsForInfer</span><span>
</span><span id="line-1929"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SrcSpan</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1930"></span><span class="hs-identifier">unsafeFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-XGeneralizedNewtypeDeriving&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">newDerivOnLoc</span><span class="hs-special">,</span><span>
</span><span id="line-1931"></span><span>                    </span><span class="hs-identifier">xopt</span><span> </span><span class="hs-identifier">LangExt.GeneralizedNewtypeDeriving</span><span class="hs-special">,</span><span>
</span><span id="line-1932"></span><span>                    </span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">xopt_unset</span><span> </span><span class="hs-identifier">LangExt.GeneralizedNewtypeDeriving</span><span class="hs-special">)</span><span>
</span><span id="line-1933"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-XDerivingVia&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">deriveViaOnLoc</span><span class="hs-special">,</span><span>
</span><span id="line-1934"></span><span>                    </span><span class="hs-identifier">xopt</span><span> </span><span class="hs-identifier">LangExt.DerivingVia</span><span class="hs-special">,</span><span>
</span><span id="line-1935"></span><span>                    </span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">xopt_unset</span><span> </span><span class="hs-identifier">LangExt.DerivingVia</span><span class="hs-special">)</span><span>
</span><span id="line-1936"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-XTemplateHaskell&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">thOnLoc</span><span class="hs-special">,</span><span>
</span><span id="line-1937"></span><span>                    </span><span class="hs-identifier">xopt</span><span> </span><span class="hs-identifier">LangExt.TemplateHaskell</span><span class="hs-special">,</span><span>
</span><span id="line-1938"></span><span>                    </span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">xopt_unset</span><span> </span><span class="hs-identifier">LangExt.TemplateHaskell</span><span class="hs-special">)</span><span>
</span><span id="line-1939"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-1940"></span><span class="hs-identifier">unsafeFlagsForInfer</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unsafeFlags</span><span>
</span><span id="line-1941"></span><span>
</span><span id="line-1942"></span><span>
</span><span id="line-1943"></span><span class="hs-comment">-- | Retrieve the options corresponding to a particular @opt_*@ field in the correct order</span><span>
</span><span id="line-1944"></span><span class="hs-identifier">getOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span>             </span><span class="hs-comment">-- ^ 'DynFlags' to retrieve the options from</span><span id="local-6989586621680788179"></span><span>
</span><span id="line-1945"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- ^ Relevant record accessor: one of the @opt_*@ accessors</span><span>
</span><span id="line-1946"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span>                  </span><span class="hs-comment">-- ^ Correctly ordered extracted options</span><span>
</span><span id="line-1947"></span><span class="hs-identifier">getOpts</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">opts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">reverse</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">opts</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-1948"></span><span>        </span><span class="hs-comment">-- We add to the options from the front, so we need to reverse the list</span><span>
</span><span id="line-1949"></span><span>
</span><span id="line-1950"></span><span class="hs-comment">-- | Gets the verbosity flag for the current verbosity level. This is fed to</span><span>
</span><span id="line-1951"></span><span class="hs-comment">-- other tools, so GHC-specific verbosity flags like @-ddump-most@ are not included</span><span>
</span><span id="line-1952"></span><span class="hs-identifier">getVerbFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-1953"></span><span class="annot"><a href="GHC.Driver.Session.html#getVerbFlags"><span class="hs-identifier hs-type">getVerbFlags</span></a></span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-1954"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">verbosity</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">&gt;=</span><span> </span><span class="hs-number">4</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-v&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-1955"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1956"></span><span>
</span><span id="line-1957"></span><span class="hs-identifier">setObjectDir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setHiDir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setHieDir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setStubDir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setDumpDir</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setOutputDir</span><span class="hs-special">,</span><span>
</span><span id="line-1958"></span><span>         </span><span class="hs-identifier">setDynObjectSuf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setDynHiSuf</span><span class="hs-special">,</span><span>
</span><span id="line-1959"></span><span>         </span><span class="hs-identifier">setDylibInstallName</span><span class="hs-special">,</span><span>
</span><span id="line-1960"></span><span>         </span><span class="hs-identifier">setObjectSuf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setHiSuf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setHieSuf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setHcSuf</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">parseDynLibLoaderMode</span><span class="hs-special">,</span><span>
</span><span id="line-1961"></span><span>         </span><span class="hs-identifier">setPgmP</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addOptl</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addOptc</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addOptcxx</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addOptP</span><span class="hs-special">,</span><span>
</span><span id="line-1962"></span><span>         </span><span class="hs-identifier">addCmdlineFramework</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addHaddockOpts</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addGhciScript</span><span class="hs-special">,</span><span>
</span><span id="line-1963"></span><span>         </span><span class="hs-identifier">setInteractivePrint</span><span>
</span><span id="line-1964"></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1965"></span><span class="hs-identifier">setOutputFile</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setDynOutputFile</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setOutputHi</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">setDumpPrefixForce</span><span>
</span><span id="line-1966"></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1967"></span><span>
</span><span id="line-1968"></span><span class="hs-identifier">setObjectDir</span><span>  </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">objectDir</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1969"></span><span id="setObjectDir"><span class="hs-identifier">setHiDir</span></span><span>      </span><span id="local-6989586621680785896"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785896"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785895"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785895"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785895"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hiDir</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe [Char]
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785896"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1970"></span><span id="setHiDir"></span><span class="hs-identifier">setHieDir</span><span>     </span><span id="local-6989586621680785894"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785894"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785893"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785893"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785893"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hieDir</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe [Char]
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785894"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1971"></span><span id="setHieDir"></span><span class="hs-identifier">setStubDir</span><span>    </span><span id="local-6989586621680785892"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785892"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785891"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785891"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785891"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">stubDir</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe [Char]
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785892"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1972"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">includePaths</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">addGlobalInclude</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">includePaths</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">f</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1973"></span><span>  </span><span class="hs-comment">-- -stubdir D adds an implicit -I D, so that gcc can find the _stub.h file</span><span>
</span><span id="line-1974"></span><span>  </span><span class="hs-comment">-- \#included from the .hc file when compiling via C (i.e. unregisterised</span><span>
</span><span id="line-1975"></span><span>  </span><span class="hs-comment">-- builds).</span><span>
</span><span id="line-1976"></span><span class="hs-identifier">setDumpDir</span><span>    </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dumpDir</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1977"></span><span id="setDumpDir"></span><span class="hs-identifier">setOutputDir</span><span>  </span><span id="local-6989586621680785888"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785888"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785887"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785887"><span class="hs-glyph hs-var">=</span></a></span></span><span> </span><span class="hs-identifier">setObjectDir</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1978"></span><span>                </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setHieDir</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1979"></span><span>                </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setHiDir</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1980"></span><span>                </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setStubDir</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1981"></span><span>                </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setDumpDir</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-1982"></span><span class="hs-identifier">setDylibInstallName</span><span>  </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dylibInstallName</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1983"></span><span>
</span><span id="line-1984"></span><span class="hs-identifier">setObjectSuf</span><span>    </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">objectSuf</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1985"></span><span id="setObjectSuf"></span><span class="hs-identifier">setDynObjectSuf</span><span> </span><span id="local-6989586621680785883"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785883"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785882"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785882"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785882"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynObjectSuf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785883"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1986"></span><span id="setDynObjectSuf"><span class="hs-identifier">setHiSuf</span></span><span>        </span><span id="local-6989586621680785881"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785881"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785880"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785880"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785880"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hiSuf</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785881"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1987"></span><span id="setHiSuf"></span><span class="hs-identifier">setHieSuf</span><span>       </span><span id="local-6989586621680785879"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785879"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785878"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785878"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785878"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hieSuf</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785879"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1988"></span><span id="setHieSuf"></span><span class="hs-identifier">setDynHiSuf</span><span>     </span><span id="local-6989586621680785877"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785877"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785876"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785876"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785876"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynHiSuf</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785877"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1989"></span><span id="setDynHiSuf"><span class="hs-identifier">setHcSuf</span></span><span>        </span><span id="local-6989586621680785875"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785875"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680785874"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785874"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680785874"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hcSuf</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785875"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1990"></span><span>
</span><span id="line-1991"></span><span class="hs-identifier">setOutputFile</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">outputFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1992"></span><span id="setOutputFile"></span><span id="local-6989586621680785871"></span><span class="hs-identifier">setDynOutputFile</span><span id="local-6989586621680785870"><span> </span></span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynOutputFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1993"></span><span id="setDynOutputFile"><span class="hs-identifier">setOutputHi</span><span>   </span><span class="hs-identifier">f</span><span> </span></span><span class="hs-identifier">d</span><span id="local-6989586621680785869"><span> </span></span><span class="hs-glyph">=</span><span id="local-6989586621680785868"><span> </span></span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">outputHi</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-1994"></span><span>
</span><span id="line-1995"></span><span class="hs-identifier">setJsonLogAction</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-1996"></span><span class="annot"><a href="GHC.Driver.Session.html#setJsonLogAction"><span class="hs-identifier hs-type">setJsonLogAction</span></a></span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">log_action</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">jsonLogAction</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1997"></span><span>
</span><span id="line-1998"></span><span class="hs-comment">-- | Make a module in home unit</span><span>
</span><span id="line-1999"></span><span class="hs-identifier">mkHomeModule</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ModuleName</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Module</span><span>
</span><span id="line-2000"></span><span class="annot"><a href="GHC.Driver.Session.html#mkHomeModule"><span class="hs-identifier hs-type">mkHomeModule</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkModule</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">homeUnit</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-2001"></span><span>
</span><span id="line-2002"></span><span class="hs-comment">-- | Test if the module comes from the home unit</span><span>
</span><span id="line-2003"></span><span class="hs-identifier">isHomeModule</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Module</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-2004"></span><span class="annot"><a href="GHC.Driver.Session.html#isHomeModule"><span class="hs-identifier hs-type">isHomeModule</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">moduleUnit</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">homeUnit</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-2005"></span><span>
</span><span id="line-2006"></span><span class="hs-comment">-- | Get home unit</span><span>
</span><span id="line-2007"></span><span class="hs-identifier">homeUnit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Unit</span><span>
</span><span id="line-2008"></span><span class="annot"><a href="GHC.Driver.Session.html#homeUnit"><span class="hs-identifier hs-type">homeUnit</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2009"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">homeUnitInstanceOfId</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">homeUnitInstantiations</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2010"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">RealUnit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Definite</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">homeUnitId</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2011"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Nothing</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Use of -instantiated-with requires -this-component-id&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-2012"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Use of -this-component-id requires -instantiated-with&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-2013"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">u</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">is</span><span class="hs-special">)</span><span>
</span><span id="line-2014"></span><span>         </span><span class="hs-comment">-- detect fully indefinite units: all their instantiations are hole</span><span>
</span><span id="line-2015"></span><span>         </span><span class="hs-comment">-- modules and the home unit id is the same as the instantiating unit</span><span>
</span><span id="line-2016"></span><span>         </span><span class="hs-comment">-- id (see Note [About units] in GHC.Unit)</span><span>
</span><span id="line-2017"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">all</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">isHoleModule</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">snd</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">is</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">indefUnit</span><span> </span><span class="hs-identifier">u</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">homeUnitId</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-2018"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">mkVirtUnit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">updateIndefUnitId</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unitState</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">u</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">is</span><span>
</span><span id="line-2019"></span><span>         </span><span class="hs-comment">-- otherwise it must be that we compile a fully definite units</span><span>
</span><span id="line-2020"></span><span>         </span><span class="hs-comment">-- TODO: error when the unit is partially instantiated??</span><span>
</span><span id="line-2021"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>
</span><span id="line-2022"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">RealUnit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Definite</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">homeUnitId</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2023"></span><span>
</span><span id="line-2024"></span><span class="hs-identifier">parseUnitInsts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Instantiations</span><span>
</span><span id="line-2025"></span><span class="annot"><a href="GHC.Driver.Session.html#parseUnitInsts"><span class="hs-identifier hs-type">parseUnitInsts</span></a></span><span> </span><span class="hs-identifier">str</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">filter</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator">==</span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">snd</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">readP_to_S</span><span> </span><span class="hs-identifier">parse</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2026"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span>
</span><span id="line-2027"></span><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Can't parse -instantiated-with: &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span>
</span><span id="line-2028"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">parse</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sepBy</span><span> </span><span class="hs-identifier">parseEntry</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">R.char</span><span> </span><span class="hs-char">','</span><span class="hs-special">)</span><span>
</span><span id="line-2029"></span><span>        </span><span class="hs-identifier">parseEntry</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2030"></span><span>            </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">parseModuleName</span><span>
</span><span id="line-2031"></span><span>            </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">R.char</span><span> </span><span class="hs-char">'='</span><span>
</span><span id="line-2032"></span><span>            </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">parseHoleyModule</span><span>
</span><span id="line-2033"></span><span>            </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">n</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><span id="line-2034"></span><span>
</span><span id="line-2035"></span><span class="hs-identifier">setUnitInstantiations</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2036"></span><span class="annot"><a href="GHC.Driver.Session.html#setUnitInstantiations"><span class="hs-identifier hs-type">setUnitInstantiations</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2037"></span><span>    </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">homeUnitInstantiations</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">parseUnitInsts</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2038"></span><span>
</span><span id="line-2039"></span><span class="hs-identifier">setUnitInstanceOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2040"></span><span class="annot"><a href="GHC.Driver.Session.html#setUnitInstanceOf"><span class="hs-identifier hs-type">setUnitInstanceOf</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2041"></span><span>    </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">homeUnitInstanceOfId</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Indefinite</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">UnitId</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fsLit</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2042"></span><span>
</span><span id="line-2043"></span><span class="hs-identifier">addPluginModuleName</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2044"></span><span class="annot"><a href="GHC.Driver.Session.html#addPluginModuleName"><span class="hs-identifier hs-type">addPluginModuleName</span></a></span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pluginModNames</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkModuleName</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pluginModNames</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2045"></span><span>
</span><span id="line-2046"></span><span class="hs-identifier">clearPluginModuleNames</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2047"></span><span class="annot"><a href="GHC.Driver.Session.html#clearPluginModuleNames"><span class="hs-identifier hs-type">clearPluginModuleNames</span></a></span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2048"></span><span>    </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pluginModNames</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2049"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pluginModNameOpts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2050"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">cachedPlugins</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2051"></span><span>
</span><span id="line-2052"></span><span class="hs-identifier">addPluginModuleNameOption</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2053"></span><span class="annot"><a href="GHC.Driver.Session.html#addPluginModuleNameOption"><span class="hs-identifier hs-type">addPluginModuleNameOption</span></a></span><span> </span><span class="hs-identifier">optflag</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pluginModNameOpts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkModuleName</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">option</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pluginModNameOpts</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2054"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">break</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span> </span><span class="hs-char">':'</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">optflag</span><span>
</span><span id="line-2055"></span><span>        </span><span class="hs-identifier">option</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">rest</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2056"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-comment">-- should probably signal an error</span><span>
</span><span id="line-2057"></span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-glyph">:</span><span class="hs-identifier">plug_opt</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">plug_opt</span><span> </span><span class="hs-comment">-- ignore the ':' from break</span><span>
</span><span id="line-2058"></span><span>
</span><span id="line-2059"></span><span class="hs-identifier">addFrontendPluginOption</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2060"></span><span class="annot"><a href="GHC.Driver.Session.html#addFrontendPluginOption"><span class="hs-identifier hs-type">addFrontendPluginOption</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">frontendPluginOpts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">frontendPluginOpts</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2061"></span><span>
</span><span id="line-2062"></span><span class="hs-identifier">parseDynLibLoaderMode</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2063"></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">splitAt</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2064"></span><span>   </span><span class="hs-special">(</span><span class="hs-string">&quot;deploy&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynLibLoader</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Deployable</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2065"></span><span>   </span><span class="hs-special">(</span><span class="hs-string">&quot;sysdep&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynLibLoader</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">SystemDependent</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2066"></span><span>   </span><span class="hs-identifier">_</span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Unknown dynlib loader: &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2067"></span><span>
</span><span id="line-2068"></span><span class="hs-identifier">setDumpPrefixForce</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dumpPrefixForce</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-2069"></span><span>
</span><span id="line-2070"></span><span class="hs-comment">-- XXX HACK: Prelude&gt; words &quot;'does not' work&quot; ===&gt; [&quot;'does&quot;,&quot;not'&quot;,&quot;work&quot;]</span><span>
</span><span id="line-2071"></span><span class="hs-comment">-- Config.hs should really use Option.</span><span>
</span><span id="line-2072"></span><span class="hs-identifier">setPgmP</span><span>   </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_P</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pgm</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">Option</span><span> </span><span class="hs-identifier">args</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2073"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pgm</span><span class="hs-glyph">:</span><span class="hs-identifier">args</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">words</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-2074"></span><span class="hs-identifier">addOptl</span><span>   </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_l</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_l</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2075"></span><span id="addOptl"><span class="annot"><span class="annottext">addOptl :: [Char] -&gt; DynFlags -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#addOptl"><span class="hs-identifier hs-var hs-var">addOptc</span></a></span></span><span>   </span><span id="local-6989586621680785793"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785793"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ToolSettings -&gt; ToolSettings) -&gt; DynFlags -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#alterToolSettings"><span class="hs-identifier hs-var">alterToolSettings</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680785792"><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785792"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785792"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toolSettings_opt_l :: [[Char]]
</span><a href="GHC.Settings.html#toolSettings_opt_l"><span class="hs-identifier hs-var">toolSettings_opt_c</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785793"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [[Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">ToolSettings -&gt; [[Char]]
</span><a href="GHC.Settings.html#toolSettings_opt_l"><span class="hs-identifier hs-var hs-var">toolSettings_opt_c</span></a></span><span> </span><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785792"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2076"></span><span id="addOptc"></span><span class="hs-identifier">addOptcxx</span><span> </span><span id="local-6989586621680785791"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785791"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ToolSettings -&gt; ToolSettings) -&gt; DynFlags -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#alterToolSettings"><span class="hs-identifier hs-var">alterToolSettings</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680785790"><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785790"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785790"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_cxx</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785791"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]] -&gt; [[Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="hs-identifier">toolSettings_opt_cxx</span></span><span> </span><span class="hs-identifier">s</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2077"></span><span id="addOptcxx"><span class="hs-identifier">addOptP</span></span><span>   </span><span id="local-6989586621680785789"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785789"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ToolSettings -&gt; ToolSettings) -&gt; DynFlags -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#alterToolSettings"><span class="hs-identifier hs-var">alterToolSettings</span></a></span><span> </span><span class="hs-operator">$</span><span> </span><span id="local-6989586621680785788"><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621680785788"><span class="hs-glyph hs-var">\</span></a></span></span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-2078"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_P</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_P</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-2079"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">toolSettings_opt_P_fingerprint</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fingerprintStrings</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_P</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span>
</span><span id="line-2080"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-2081"></span><span>          </span><span class="hs-comment">-- See Note [Repeated -optP hashing]</span><span>
</span><span id="line-2082"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2083"></span><span>  </span><span class="hs-identifier">fingerprintStrings</span><span> </span><span class="hs-identifier">ss</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fingerprintFingerprints</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">fingerprintString</span><span> </span><span class="hs-identifier">ss</span><span>
</span><span id="line-2084"></span><span>
</span><span id="line-2085"></span><span>
</span><span id="line-2086"></span><span class="hs-identifier">setDepMakefile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2087"></span><span class="annot"><a href="GHC.Driver.Session.html#setDepMakefile"><span class="hs-identifier hs-type">setDepMakefile</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">depMakefile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2088"></span><span>
</span><span id="line-2089"></span><span class="hs-identifier">setDepIncludeCppDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2090"></span><span class="annot"><a href="GHC.Driver.Session.html#setDepIncludeCppDeps"><span class="hs-identifier hs-type">setDepIncludeCppDeps</span></a></span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">depIncludeCppDeps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2091"></span><span>
</span><span id="line-2092"></span><span class="hs-identifier">setDepIncludePkgDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2093"></span><span class="annot"><a href="GHC.Driver.Session.html#setDepIncludePkgDeps"><span class="hs-identifier hs-type">setDepIncludePkgDeps</span></a></span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">depIncludePkgDeps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2094"></span><span>
</span><span id="line-2095"></span><span class="hs-identifier">addDepExcludeMod</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2096"></span><span class="annot"><a href="GHC.Driver.Session.html#addDepExcludeMod"><span class="hs-identifier hs-type">addDepExcludeMod</span></a></span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-2097"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">depExcludeMods</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkModuleName</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">depExcludeMods</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2098"></span><span>
</span><span id="line-2099"></span><span class="hs-identifier">addDepSuffix</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2100"></span><span class="annot"><a href="GHC.Driver.Session.html#addDepSuffix"><span class="hs-identifier hs-type">addDepSuffix</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">depSuffixes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">depSuffixes</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2101"></span><span>
</span><span id="line-2102"></span><span class="hs-identifier">addCmdlineFramework</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cmdlineFrameworks</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">cmdlineFrameworks</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">}</span><span>
</span><span id="line-2103"></span><span>
</span><span id="line-2104"></span><span class="hs-identifier">addGhcVersionFile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2105"></span><span class="annot"><a href="GHC.Driver.Session.html#addGhcVersionFile"><span class="hs-identifier hs-type">addGhcVersionFile</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcVersionFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2106"></span><span>
</span><span id="line-2107"></span><span class="hs-identifier">addHaddockOpts</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">haddockOptions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-2108"></span><span>
</span><span id="line-2109"></span><span class="hs-identifier">addGhciScript</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghciScripts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">ghciScripts</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">}</span><span>
</span><span id="line-2110"></span><span>
</span><span id="line-2111"></span><span class="hs-identifier">setInteractivePrint</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">interactivePrint</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-2112"></span><span>
</span><span id="line-2113"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2114"></span><span class="hs-comment">-- Setting the optimisation level</span><span>
</span><span id="line-2115"></span><span>
</span><span id="line-2116"></span><span class="hs-identifier">updOptLevel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-2117"></span><span class="hs-comment">-- ^ Sets the 'DynFlags' to be appropriate to the optimisation level</span><span>
</span><span id="line-2118"></span><span class="hs-identifier">updOptLevel</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">dfs</span><span>
</span><span id="line-2119"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dfs2</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">optLevel</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">final_n</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2120"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2121"></span><span>   </span><span class="hs-identifier">final_n</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">max</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">min</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Clamp to 0 &lt;= n &lt;= 2</span><span>
</span><span id="line-2122"></span><span>   </span><span class="hs-identifier">dfs1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">gopt_unset</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">dfs</span><span>  </span><span class="hs-identifier">remove_gopts</span><span>
</span><span id="line-2123"></span><span>   </span><span class="hs-identifier">dfs2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">gopt_set</span><span class="hs-special">)</span><span>   </span><span class="hs-identifier">dfs1</span><span> </span><span class="hs-identifier">extra_gopts</span><span>
</span><span id="line-2124"></span><span>
</span><span id="line-2125"></span><span>   </span><span class="hs-identifier">extra_gopts</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ns</span><span class="hs-special">,</span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">optLevelFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">final_n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2126"></span><span>   </span><span class="hs-identifier">remove_gopts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ns</span><span class="hs-special">,</span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">optLevelFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">final_n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">notElem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2127"></span><span>
</span><span id="line-2128"></span><span class="hs-comment">{- **********************************************************************
%*                                                                      *
                DynFlags parser
%*                                                                      *
%********************************************************************* -}</span><span>
</span><span id="line-2133"></span><span>
</span><span id="line-2134"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-2135"></span><span class="hs-comment">-- Parsing the dynamic flags.</span><span>
</span><span id="line-2136"></span><span>
</span><span id="line-2137"></span><span>
</span><span id="line-2138"></span><span class="hs-comment">-- | Parse dynamic flags from a list of command line arguments.  Returns</span><span>
</span><span id="line-2139"></span><span class="hs-comment">-- the parsed 'DynFlags', the left-over arguments, and a list of warnings.</span><span>
</span><span id="line-2140"></span><span class="hs-comment">-- Throws a 'UsageError' if errors occurred during parsing (such as unknown</span><span>
</span><span id="line-2141"></span><span class="hs-comment">-- flags or missing arguments).</span><span>
</span><span id="line-2142"></span><span class="hs-identifier">parseDynamicFlagsCmdLine</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span id="local-6989586621680788149"></span><span>
</span><span id="line-2143"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Warn</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2144"></span><span>                            </span><span class="hs-comment">-- ^ Updated 'DynFlags', left-over arguments, and</span><span>
</span><span id="line-2145"></span><span>                            </span><span class="hs-comment">-- list of warnings.</span><span>
</span><span id="line-2146"></span><span class="hs-identifier">parseDynamicFlagsCmdLine</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">parseDynamicFlagsFull</span><span> </span><span class="hs-identifier">flagsAll</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-2147"></span><span>
</span><span id="line-2148"></span><span>
</span><span id="line-2149"></span><span class="hs-comment">-- | Like 'parseDynamicFlagsCmdLine' but does not allow the package flags</span><span>
</span><span id="line-2150"></span><span class="hs-comment">-- (-package, -hide-package, -ignore-package, -hide-all-packages, -package-db).</span><span>
</span><span id="line-2151"></span><span class="hs-comment">-- Used to parse flags set in a modules pragma.</span><span>
</span><span id="line-2152"></span><span class="hs-identifier">parseDynamicFilePragma</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span id="local-6989586621680785728"></span><span>
</span><span id="line-2153"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Warn</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2154"></span><span>                          </span><span class="hs-comment">-- ^ Updated 'DynFlags', left-over arguments, and</span><span>
</span><span id="line-2155"></span><span>                          </span><span class="hs-comment">-- list of warnings.</span><span>
</span><span id="line-2156"></span><span class="hs-identifier">parseDynamicFilePragma</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">parseDynamicFlagsFull</span><span> </span><span class="hs-identifier">flagsDynamic</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-2157"></span><span>
</span><span id="line-2158"></span><span>
</span><span id="line-2159"></span><span class="hs-comment">-- | Parses the dynamically set flags for GHC. This is the most general form of</span><span>
</span><span id="line-2160"></span><span class="hs-comment">-- the dynamic flag parser that the other methods simply wrap. It allows</span><span>
</span><span id="line-2161"></span><span class="hs-comment">-- saying which flags are valid flags and indicating if we are parsing</span><span>
</span><span id="line-2162"></span><span class="hs-comment">-- arguments from the command line or from a file pragma.</span><span>
</span><span id="line-2163"></span><span class="hs-identifier">parseDynamicFlagsFull</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">MonadIO</span><span> </span><span class="hs-identifier">m</span><span id="local-6989586621680788144"></span><span>
</span><span id="line-2164"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- ^ valid flags to match against</span><span>
</span><span id="line-2165"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>                          </span><span class="hs-comment">-- ^ are the arguments from the command line?</span><span>
</span><span id="line-2166"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>                      </span><span class="hs-comment">-- ^ current dynamic flags</span><span>
</span><span id="line-2167"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>              </span><span class="hs-comment">-- ^ arguments to parse</span><span>
</span><span id="line-2168"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Warn</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2169"></span><span class="hs-identifier">parseDynamicFlagsFull</span><span> </span><span class="hs-identifier">activeFlags</span><span> </span><span class="hs-identifier">cmdline</span><span> </span><span class="hs-identifier">dflags0</span><span> </span><span class="hs-identifier">args</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2170"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">leftover</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">errs</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dflags1</span><span class="hs-special">)</span><span>
</span><span id="line-2171"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">runCmdLine</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">processArgs</span><span> </span><span class="hs-identifier">activeFlags</span><span> </span><span class="hs-identifier">args</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">dflags0</span><span>
</span><span id="line-2172"></span><span>
</span><span id="line-2173"></span><span>  </span><span class="hs-comment">-- See Note [Handling errors when parsing commandline flags]</span><span>
</span><span id="line-2174"></span><span>  </span><span class="hs-identifier">unless</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">errs</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">throwGhcExceptionIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">errorsToGhcException</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-2175"></span><span>    </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">showPpr</span><span> </span><span class="hs-identifier">dflags0</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">getLoc</span><span> </span><span class="hs-operator">&amp;&amp;&amp;</span><span> </span><span class="hs-identifier">unLoc</span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">errMsg</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">errs</span><span>
</span><span id="line-2176"></span><span>
</span><span id="line-2177"></span><span>  </span><span class="hs-comment">-- check for disabled flags in safe haskell</span><span>
</span><span id="line-2178"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags2</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sh_warns</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">safeFlagCheck</span><span> </span><span class="hs-identifier">cmdline</span><span> </span><span class="hs-identifier">dflags1</span><span>
</span><span id="line-2179"></span><span>      </span><span class="hs-identifier">theWays</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags2</span><span>
</span><span id="line-2180"></span><span>
</span><span id="line-2181"></span><span>  </span><span class="hs-identifier">unless</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">allowed_combination</span><span> </span><span class="hs-identifier">theWays</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-2182"></span><span>      </span><span class="hs-identifier">throwGhcExceptionIO</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;combination not supported: &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-2183"></span><span>                               </span><span class="hs-identifier">intercalate</span><span> </span><span class="hs-string">&quot;/&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">wayDesc</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Set.toAscList</span><span> </span><span class="hs-identifier">theWays</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2184"></span><span>
</span><span id="line-2185"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">chooseOutput</span><span>
</span><span id="line-2186"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isJust</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">outputFile</span><span> </span><span class="hs-identifier">dflags2</span><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- Only iff user specified -o ...</span><span>
</span><span id="line-2187"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">isJust</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dynOutputFile</span><span> </span><span class="hs-identifier">dflags2</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- but not -dyno</span><span>
</span><span id="line-2188"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">dynOutputFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dynamicOutputFile</span><span> </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-identifier">outFile</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2189"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>
</span><span id="line-2190"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">dflags2</span><span>
</span><span id="line-2191"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-2192"></span><span>          </span><span class="hs-identifier">outFile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fromJust</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">outputFile</span><span> </span><span class="hs-identifier">dflags2</span><span>
</span><span id="line-2193"></span><span>  </span><span class="hs-identifier">dflags3</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">ifGeneratingDynamicToo</span><span> </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-identifier">chooseOutput</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">dflags2</span><span class="hs-special">)</span><span>
</span><span id="line-2194"></span><span>
</span><span id="line-2195"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags4</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">consistency_warnings</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">makeDynFlagsConsistent</span><span> </span><span class="hs-identifier">dflags3</span><span>
</span><span id="line-2196"></span><span>
</span><span id="line-2197"></span><span>  </span><span class="hs-comment">-- Set timer stats &amp; heap size</span><span>
</span><span id="line-2198"></span><span>  </span><span class="hs-identifier">when</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">enableTimeStats</span><span> </span><span class="hs-identifier">dflags4</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-identifier">enableTimingStats</span><span>
</span><span id="line-2199"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ghcHeapSize</span><span> </span><span class="hs-identifier">dflags4</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2200"></span><span>    </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setHeapSize</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><span id="line-2201"></span><span>    </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2202"></span><span>
</span><span id="line-2203"></span><span>  </span><span class="hs-identifier">liftIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setUnsafeGlobalDynFlags</span><span> </span><span class="hs-identifier">dflags4</span><span>
</span><span id="line-2204"></span><span>
</span><span id="line-2205"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">warns'</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Warn</span><span> </span><span class="hs-identifier">Cmd.NoReason</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">consistency_warnings</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">sh_warns</span><span class="hs-special">)</span><span>
</span><span id="line-2206"></span><span>
</span><span id="line-2207"></span><span>  </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags4</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">leftover</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns'</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span>
</span><span id="line-2208"></span><span>
</span><span id="line-2209"></span><span class="hs-comment">-- | Write an error or warning to the 'LogOutput'.</span><span>
</span><span id="line-2210"></span><span class="hs-identifier">putLogMsg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">WarnReason</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Severity</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">SrcSpan</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">MsgDoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2211"></span><span class="annot"><a href="GHC.Driver.Session.html#putLogMsg"><span class="hs-identifier hs-type">putLogMsg</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">log_action</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-2212"></span><span>
</span><span id="line-2213"></span><span class="hs-comment">-- | Check (and potentially disable) any extensions that aren't allowed</span><span>
</span><span id="line-2214"></span><span class="hs-comment">-- in safe mode.</span><span>
</span><span id="line-2215"></span><span class="hs-comment">--</span><span>
</span><span id="line-2216"></span><span class="hs-comment">-- The bool is to indicate if we are parsing command line flags (false means</span><span>
</span><span id="line-2217"></span><span class="hs-comment">-- file pragma). This allows us to generate better warnings.</span><span>
</span><span id="line-2218"></span><span class="hs-identifier">safeFlagCheck</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Located</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2219"></span><span class="annot"><a href="GHC.Driver.Session.html#safeFlagCheck"><span class="hs-identifier hs-type">safeFlagCheck</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">safeLanguageOn</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflagsUnset</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span>
</span><span id="line-2220"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2221"></span><span>    </span><span class="hs-comment">-- Handle illegal flags under safe language.</span><span>
</span><span id="line-2222"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">dflagsUnset</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldl'</span><span> </span><span class="hs-identifier">check_method</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">unsafeFlags</span><span>
</span><span id="line-2223"></span><span>
</span><span id="line-2224"></span><span>    </span><span class="hs-identifier">check_method</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">df</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">str</span><span class="hs-special">,</span><span class="hs-identifier">loc</span><span class="hs-special">,</span><span class="hs-identifier">test</span><span class="hs-special">,</span><span class="hs-identifier">fix</span><span class="hs-special">)</span><span>
</span><span id="line-2225"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">test</span><span> </span><span class="hs-identifier">df</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fix</span><span> </span><span class="hs-identifier">df</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">safeFailure</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">loc</span><span> </span><span class="hs-identifier">df</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span>
</span><span id="line-2226"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">df</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warns</span><span class="hs-special">)</span><span>
</span><span id="line-2227"></span><span>
</span><span id="line-2228"></span><span>    </span><span class="hs-identifier">safeFailure</span><span> </span><span class="hs-identifier">loc</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-2229"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">L</span><span> </span><span class="hs-identifier">loc</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">str</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; is not allowed in Safe Haskell; ignoring &quot;</span><span>
</span><span id="line-2230"></span><span>           </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">]</span><span>
</span><span id="line-2231"></span><span>
</span><span id="line-2232"></span><span class="hs-identifier">safeFlagCheck</span><span> </span><span class="hs-identifier">cmdl</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2233"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">safeInferOn</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2234"></span><span>    </span><span class="hs-identifier">True</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">safeFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warn</span><span class="hs-special">)</span><span>
</span><span id="line-2235"></span><span>    </span><span class="hs-identifier">True</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags'</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">safeInferred</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warn</span><span class="hs-special">)</span><span>
</span><span id="line-2236"></span><span>    </span><span class="hs-identifier">False</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warn</span><span class="hs-special">)</span><span>
</span><span id="line-2237"></span><span>
</span><span id="line-2238"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2239"></span><span>    </span><span class="hs-comment">-- dynflags and warn for when -fpackage-trust by itself with no safe</span><span>
</span><span id="line-2240"></span><span>    </span><span class="hs-comment">-- haskell flag</span><span>
</span><span id="line-2241"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">dflags'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">warn</span><span class="hs-special">)</span><span>
</span><span id="line-2242"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">safeHaskellModeEnabled</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-identifier">cmdl</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">packageTrustOn</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-2243"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">gopt_unset</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">Opt_PackageTrust</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pkgWarnMsg</span><span class="hs-special">)</span><span>
</span><span id="line-2244"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dflags</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2245"></span><span>
</span><span id="line-2246"></span><span>    </span><span class="hs-identifier">pkgWarnMsg</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">L</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pkgTrustOnLoc</span><span> </span><span class="hs-identifier">dflags'</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-2247"></span><span>                    </span><span class="hs-string">&quot;-fpackage-trust ignored;&quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-2248"></span><span>                    </span><span class="hs-string">&quot; must be specified with a Safe Haskell flag&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-2249"></span><span>
</span><span id="line-2250"></span><span>    </span><span class="hs-comment">-- Have we inferred Unsafe? See Note [GHC.Driver.Main . Safe Haskell Inference]</span><span>
</span><span id="line-2251"></span><span>    </span><span class="hs-identifier">safeFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">all</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span class="hs-identifier">t</span><span class="hs-special">,</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">unsafeFlagsForInfer</span><span>
</span><span id="line-2252"></span><span>
</span><span id="line-2253"></span><span>
</span><span id="line-2254"></span><span class="hs-comment">{- **********************************************************************
%*                                                                      *
                DynFlags specifications
%*                                                                      *
%********************************************************************* -}</span><span>
</span><span id="line-2259"></span><span>
</span><span id="line-2260"></span><span class="hs-comment">-- | All dynamic flags option strings without the deprecated ones.</span><span>
</span><span id="line-2261"></span><span class="hs-comment">-- These are the user facing strings for enabling and disabling options.</span><span>
</span><span id="line-2262"></span><span class="hs-identifier">allNonDeprecatedFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-2263"></span><span class="annot"><a href="GHC.Driver.Session.html#allNonDeprecatedFlags"><span class="hs-identifier hs-type">allNonDeprecatedFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">allFlagsDeps</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-2264"></span><span>
</span><span id="line-2265"></span><span class="hs-comment">-- | All flags with possibility to filter deprecated ones</span><span>
</span><span id="line-2266"></span><span class="hs-identifier">allFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-2267"></span><span class="annot"><a href="GHC.Driver.Session.html#allFlagsDeps"><span class="hs-identifier hs-type">allFlagsDeps</span></a></span><span> </span><span class="hs-identifier">keepDeprecated</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><span class="hs-identifier">flagName</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-2268"></span><span>                              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">flagsAllDeps</span><span>
</span><span id="line-2269"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">keepDeprecated</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">isDeprecated</span><span> </span><span class="hs-identifier">deprecated</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2270"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">isDeprecated</span><span> </span><span class="hs-identifier">Deprecated</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-2271"></span><span>        </span><span class="hs-identifier">isDeprecated</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-2272"></span><span>
</span><span id="line-2273"></span><span class="hs-comment">{-
 - Below we export user facing symbols for GHC dynamic flags for use with the
 - GHC API.
 -}</span><span>
</span><span id="line-2277"></span><span>
</span><span id="line-2278"></span><span class="hs-comment">-- All dynamic flags present in GHC.</span><span>
</span><span id="line-2279"></span><span class="hs-identifier">flagsAll</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2280"></span><span class="annot"><a href="GHC.Driver.Session.html#flagsAll"><span class="hs-identifier hs-type">flagsAll</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">flagsAllDeps</span><span>
</span><span id="line-2281"></span><span>
</span><span id="line-2282"></span><span class="hs-comment">-- All dynamic flags present in GHC with deprecation information.</span><span>
</span><span id="line-2283"></span><span class="hs-identifier">flagsAllDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2284"></span><span class="annot"><a href="GHC.Driver.Session.html#flagsAllDeps"><span class="hs-identifier hs-type">flagsAllDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">package_flags_deps</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">dynamic_flags_deps</span><span>
</span><span id="line-2285"></span><span>
</span><span id="line-2286"></span><span>
</span><span id="line-2287"></span><span class="hs-comment">-- All dynamic flags, minus package flags, present in GHC.</span><span>
</span><span id="line-2288"></span><span class="hs-identifier">flagsDynamic</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2289"></span><span class="annot"><a href="GHC.Driver.Session.html#flagsDynamic"><span class="hs-identifier hs-type">flagsDynamic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">dynamic_flags_deps</span><span>
</span><span id="line-2290"></span><span>
</span><span id="line-2291"></span><span class="hs-comment">-- ALl package flags present in GHC.</span><span>
</span><span id="line-2292"></span><span class="hs-identifier">flagsPackage</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2293"></span><span class="annot"><a href="GHC.Driver.Session.html#flagsPackage"><span class="hs-identifier hs-type">flagsPackage</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">package_flags_deps</span><span>
</span><span id="line-2294"></span><span>
</span><span id="line-2295"></span><span class="hs-comment">----------------Helpers to make flags and keep deprecation information----------</span><span>
</span><span id="line-2296"></span><span>
</span><span id="line-2297"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">FlagMaker</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-identifier">m</span><span>
</span><span id="line-2298"></span><span class="hs-keyword">type</span><span> </span><span id="FlagMaker"></span><span id="local-6989586621680785619"></span><span class="hs-identifier">DynFlagMaker</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlagMaker</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-2299"></span><span class="hs-keyword">data</span><span> </span><span id="DynFlagMaker"><span class="hs-identifier">Deprecation</span><span> </span></span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NotDeprecated</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">Deprecated</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Ord</span><span class="hs-special">)</span><span>
</span><span id="line-2300"></span><span>
</span><span id="line-2301"></span><span class="hs-comment">-- Make a non-deprecated flag</span><span>
</span><span id="line-2302"></span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlagMaker</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-2303"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2304"></span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">fm</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">kind</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NotDeprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fm</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">kind</span><span class="hs-special">)</span><span>
</span><span id="line-2305"></span><span>
</span><span id="line-2306"></span><span class="hs-comment">-- Make a deprecated flag</span><span>
</span><span id="line-2307"></span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlagMaker</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-2308"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2309"></span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">fm</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">kind</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span>
</span><span id="line-2310"></span><span>                                      </span><span class="hs-identifier">fm</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-identifier">kind</span><span> </span><span class="hs-identifier">message</span><span class="hs-special">)</span><span>
</span><span id="line-2311"></span><span>
</span><span id="line-2312"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-2313"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-2314"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2315"></span><span id="add_dep_message"><span class="annot"><span class="annottext">add_dep_message :: OptKind (CmdLineP DynFlags)
-&gt; [Char] -&gt; OptKind (CmdLineP DynFlags)
</span><a href="GHC.Driver.Session.html#add_dep_message"><span class="hs-identifier hs-var hs-var">add_dep_message</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span id="local-6989586621680785582"><span> </span></span><span class="hs-identifier">f</span><span class="hs-special">)</span><span id="local-6989586621680785581"><span> </span></span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HasArg</span><span> </span><span class="annot"><span class="annottext">DynP ()
</span><a href="#local-6989586621680785582"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2316"></span><span class="annot"><a href="GHC.Driver.Session.html#add_dep_message"><span class="hs-identifier hs-var">add_dep_message</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.CmdLine.html#HasArg"><span class="hs-identifier hs-type">SepArg</span></a></span><span> </span><span id="local-6989586621680785578"><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
</span><a href="#local-6989586621680785578"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680785577"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785577"><span class="hs-identifier hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags)
forall (m :: * -&gt; *). ([Char] -&gt; EwM m ()) -&gt; OptKind m
</span><a href="GHC.Driver.CmdLine.html#HasArg"><span class="hs-identifier hs-var">SepArg</span></a></span><span> </span><span class="annot"><span class="annottext">(([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags))
-&gt; ([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680785576"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785576"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
</span><a href="#local-6989586621680785578"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785576"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">DynP () -&gt; DynP () -&gt; DynP ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
forall (m :: * -&gt; *). Monad m =&gt; [Char] -&gt; EwM m ()
</span><a href="GHC.Driver.CmdLine.html#deprecate"><span class="hs-identifier hs-var">deprecate</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785577"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-2317"></span><span class="annot"><a href="GHC.Driver.Session.html#add_dep_message"><span class="hs-identifier hs-var">add_dep_message</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.CmdLine.html#SepArg"><span class="hs-identifier hs-type">Prefix</span></a></span><span> </span><span id="local-6989586621680785574"><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
</span><a href="#local-6989586621680785574"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680785573"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785573"><span class="hs-identifier hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags)
forall (m :: * -&gt; *). ([Char] -&gt; EwM m ()) -&gt; OptKind m
</span><a href="GHC.Driver.CmdLine.html#SepArg"><span class="hs-identifier hs-var">Prefix</span></a></span><span> </span><span class="annot"><span class="annottext">(([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags))
-&gt; ([Char] -&gt; DynP ()) -&gt; OptKind (CmdLineP DynFlags)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680785572"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785572"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
</span><a href="#local-6989586621680785574"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785572"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">DynP () -&gt; DynP () -&gt; DynP ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; DynP ()
forall (m :: * -&gt; *). Monad m =&gt; [Char] -&gt; EwM m ()
</span><a href="GHC.Driver.CmdLine.html#deprecate"><span class="hs-identifier hs-var">deprecate</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680785573"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-2318"></span><span class="annot"><a href="GHC.Driver.Session.html#add_dep_message"><span class="hs-identifier hs-var">add_dep_message</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">OptPrefix</span><span> </span><span id="local-6989586621680785569"><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span></span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2319"></span><span>                                  </span><span class="hs-identifier">OptPrefix</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2320"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">OptIntSuffix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2321"></span><span>                               </span><span class="hs-identifier">OptIntSuffix</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">oi</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">oi</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2322"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IntSuffix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2323"></span><span>                                  </span><span class="hs-identifier">IntSuffix</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2324"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FloatSuffix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2325"></span><span>                                </span><span class="hs-identifier">FloatSuffix</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">fl</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">fl</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2326"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PassFlag</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2327"></span><span>                                   </span><span class="hs-identifier">PassFlag</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2328"></span><span class="hs-identifier">add_dep_message</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">AnySuffix</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">message</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2329"></span><span>                                  </span><span class="hs-identifier">AnySuffix</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">message</span><span>
</span><span id="line-2330"></span><span>
</span><span id="line-2331"></span><span class="hs-comment">----------------------- The main flags themselves ------------------------------</span><span>
</span><span id="line-2332"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-2333"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-2334"></span><span class="hs-identifier">dynamic_flags_deps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2335"></span><span class="annot"><a href="GHC.Driver.Session.html#dynamic_flags_deps"><span class="hs-identifier hs-type">dynamic_flags_deps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2336"></span><span>    </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;n&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2337"></span><span>        </span><span class="hs-string">&quot;The -n flag is deprecated and no longer has any effect&quot;</span><span>
</span><span id="line-2338"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;cpp&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setExtensionFlag</span><span> </span><span class="hs-identifier">LangExt.Cpp</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2339"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;F&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Pp</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2340"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;#include&quot;</span><span>
</span><span id="line-2341"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2342"></span><span>         </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-#include and INCLUDE pragmas are &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-2343"></span><span>                    </span><span class="hs-string">&quot;deprecated: They no longer have any effect&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2344"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;v&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">OptIntSuffix</span><span> </span><span class="hs-identifier">setVerbosity</span><span class="hs-special">)</span><span>
</span><span id="line-2345"></span><span>
</span><span id="line-2346"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;j&quot;</span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">OptIntSuffix</span><span>
</span><span id="line-2347"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2348"></span><span>                 </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span>
</span><span id="line-2349"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">&gt;</span><span> </span><span class="hs-number">0</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">parMakeCount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2350"></span><span>                     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">addErr</span><span> </span><span class="hs-string">&quot;Syntax: -j[n] where n &gt; 0&quot;</span><span>
</span><span id="line-2351"></span><span>                 </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">parMakeCount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2352"></span><span>                 </span><span class="hs-comment">-- When the number of parallel builds</span><span>
</span><span id="line-2353"></span><span>                 </span><span class="hs-comment">-- is omitted, it is the same</span><span>
</span><span id="line-2354"></span><span>                 </span><span class="hs-comment">-- as specifying that the number of</span><span>
</span><span id="line-2355"></span><span>                 </span><span class="hs-comment">-- parallel builds is equal to the</span><span>
</span><span id="line-2356"></span><span>                 </span><span class="hs-comment">-- result of getNumProcessors</span><span>
</span><span id="line-2357"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;instantiated-with&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-identifier">setUnitInstantiations</span><span class="hs-special">)</span><span>
</span><span id="line-2358"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;this-component-id&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-identifier">setUnitInstanceOf</span><span class="hs-special">)</span><span>
</span><span id="line-2359"></span><span>
</span><span id="line-2360"></span><span>    </span><span class="hs-comment">-- RTS options -------------------------------------------------------------</span><span>
</span><span id="line-2361"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;H&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2362"></span><span>          </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcHeapSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">decodeSize</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2363"></span><span>
</span><span id="line-2364"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Rghc-timing&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2365"></span><span>                                               </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">enableTimeStats</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2366"></span><span>
</span><span id="line-2367"></span><span>    </span><span class="hs-comment">------- ways ---------------------------------------------------------------</span><span>
</span><span id="line-2368"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;prof&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayProf</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2369"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;eventlog&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayEventLog</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2370"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;debug&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayDebug</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2371"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;threaded&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayThreaded</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2372"></span><span>
</span><span id="line-2373"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ticky&quot;</span><span>
</span><span id="line-2374"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Ticky</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayDebug</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2375"></span><span>
</span><span id="line-2376"></span><span>    </span><span class="hs-comment">-- -ticky enables ticky-ticky code generation, and also implies -debug which</span><span>
</span><span id="line-2377"></span><span>    </span><span class="hs-comment">-- is required to get the RTS ticky support.</span><span>
</span><span id="line-2378"></span><span>
</span><span id="line-2379"></span><span>        </span><span class="hs-comment">----- Linker --------------------------------------------------------</span><span>
</span><span id="line-2380"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;static&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">removeWayDyn</span><span class="hs-special">)</span><span>
</span><span id="line-2381"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dynamic&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay</span><span> </span><span class="hs-identifier">WayDyn</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2382"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rdynamic&quot;</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">noArg</span><span> </span><span class="hs-operator">$</span><span class="hs-cpp">
#if defined(linux_HOST_OS)
</span><span>                              </span><span class="hs-identifier">addOptl</span><span> </span><span class="hs-string">&quot;-rdynamic&quot;</span><span class="hs-cpp">
#elif defined(mingw32_HOST_OS)
</span><span>                              </span><span class="hs-identifier">addOptl</span><span> </span><span class="hs-string">&quot;-Wl,--export-all-symbols&quot;</span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-comment">-- ignored for compat w/ gcc:</span><span>
</span><span id="line-2389"></span><span>                              </span><span class="hs-identifier">id</span><span class="hs-cpp">
#endif
</span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;relative-dynlib-paths&quot;</span><span>
</span><span id="line-2392"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_RelativeDynlibPaths</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2393"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;copy-libs-when-linking&quot;</span><span>
</span><span id="line-2394"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SingleLibFolder</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2395"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;pie&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PICExecutable</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2396"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-pie&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PICExecutable</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2397"></span><span>
</span><span id="line-2398"></span><span>        </span><span class="hs-comment">------- Specific phases  --------------------------------------------</span><span>
</span><span id="line-2399"></span><span>    </span><span class="hs-comment">-- need to appear before -pgmL to be parsed as LLVM flags.</span><span>
</span><span id="line-2400"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmlo&quot;</span><span>
</span><span id="line-2401"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_lo</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2402"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmlc&quot;</span><span>
</span><span id="line-2403"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_lc</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2404"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmlm&quot;</span><span>
</span><span id="line-2405"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_lm</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2406"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmi&quot;</span><span>
</span><span id="line-2407"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_i</span><span>   </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2408"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmL&quot;</span><span>
</span><span id="line-2409"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_L</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2410"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmP&quot;</span><span>
</span><span id="line-2411"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setPgmP</span><span class="hs-special">)</span><span>
</span><span id="line-2412"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmF&quot;</span><span>
</span><span id="line-2413"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_F</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2414"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmc&quot;</span><span>
</span><span id="line-2415"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-2416"></span><span>         </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_c</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-2417"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Don't pass -no-pie with -pgmc</span><span>
</span><span id="line-2418"></span><span>           </span><span class="hs-comment">-- (see #15319)</span><span>
</span><span id="line-2419"></span><span>           </span><span class="hs-identifier">toolSettings_ccSupportsNoPie</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-2420"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-2421"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmc-supports-no-pie&quot;</span><span>
</span><span id="line-2422"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">noArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_ccSupportsNoPie</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2423"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgms&quot;</span><span>
</span><span id="line-2424"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">addWarn</span><span> </span><span class="hs-string">&quot;Object splitting was removed in GHC 8.8&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2425"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgma&quot;</span><span>
</span><span id="line-2426"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_a</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2427"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgml&quot;</span><span>
</span><span id="line-2428"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_l</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2429"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmdll&quot;</span><span>
</span><span id="line-2430"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_dll</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2431"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmwindres&quot;</span><span>
</span><span id="line-2432"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_windres</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2433"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmlibtool&quot;</span><span>
</span><span id="line-2434"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_libtool</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2435"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmar&quot;</span><span>
</span><span id="line-2436"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_ar</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2437"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmotool&quot;</span><span>
</span><span id="line-2438"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_otool</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-2439"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgminstall_name_tool&quot;</span><span>
</span><span id="line-2440"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_install_name_tool</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">}</span><span>
</span><span id="line-2441"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;pgmranlib&quot;</span><span>
</span><span id="line-2442"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_pgm_ranlib</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2443"></span><span>
</span><span id="line-2444"></span><span>
</span><span id="line-2445"></span><span>    </span><span class="hs-comment">-- need to appear before -optl/-opta to be parsed as LLVM flags.</span><span>
</span><span id="line-2446"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optlm&quot;</span><span>
</span><span id="line-2447"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_lm</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_lm</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2448"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optlo&quot;</span><span>
</span><span id="line-2449"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_lo</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_lo</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2450"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optlc&quot;</span><span>
</span><span id="line-2451"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_lc</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_lc</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2452"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;opti&quot;</span><span>
</span><span id="line-2453"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_i</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_i</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2454"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optL&quot;</span><span>
</span><span id="line-2455"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_L</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_L</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2456"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optP&quot;</span><span>
</span><span id="line-2457"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addOptP</span><span class="hs-special">)</span><span>
</span><span id="line-2458"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optF&quot;</span><span>
</span><span id="line-2459"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_F</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_F</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2460"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optc&quot;</span><span>
</span><span id="line-2461"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addOptc</span><span class="hs-special">)</span><span>
</span><span id="line-2462"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optcxx&quot;</span><span>
</span><span id="line-2463"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addOptcxx</span><span class="hs-special">)</span><span>
</span><span id="line-2464"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;opta&quot;</span><span>
</span><span id="line-2465"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_a</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_a</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2466"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optl&quot;</span><span>
</span><span id="line-2467"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addOptl</span><span class="hs-special">)</span><span>
</span><span id="line-2468"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;optwindres&quot;</span><span>
</span><span id="line-2469"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2470"></span><span>        </span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings_opt_windres</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">toolSettings_opt_windres</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2471"></span><span>
</span><span id="line-2472"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;split-objs&quot;</span><span>
</span><span id="line-2473"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">addWarn</span><span> </span><span class="hs-string">&quot;ignoring -split-objs&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-2474"></span><span>
</span><span id="line-2475"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;split-sections&quot;</span><span>
</span><span id="line-2476"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArgM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2477"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">platformHasSubsectionsViaSymbols</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-2478"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">addWarn</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-2479"></span><span>                    </span><span class="hs-string">&quot;-split-sections is not useful on this platform &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-2480"></span><span>                    </span><span class="hs-string">&quot;since it always uses subsections via symbols. Ignoring.&quot;</span><span>
</span><span id="line-2481"></span><span>                  </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-2482"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">gopt_set</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">Opt_SplitSections</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2483"></span><span>
</span><span id="line-2484"></span><span>        </span><span class="hs-comment">-------- ghc -M -----------------------------------------------------</span><span>
</span><span id="line-2485"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dep-suffix&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addDepSuffix</span><span class="hs-special">)</span><span>
</span><span id="line-2486"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dep-makefile&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setDepMakefile</span><span class="hs-special">)</span><span>
</span><span id="line-2487"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;include-cpp-deps&quot;</span><span>
</span><span id="line-2488"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setDepIncludeCppDeps</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2489"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;include-pkg-deps&quot;</span><span>
</span><span id="line-2490"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setDepIncludePkgDeps</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2491"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;exclude-module&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addDepExcludeMod</span><span class="hs-special">)</span><span>
</span><span id="line-2492"></span><span>
</span><span id="line-2493"></span><span>        </span><span class="hs-comment">-------- Linking ----------------------------------------------------</span><span>
</span><span id="line-2494"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-link&quot;</span><span>
</span><span id="line-2495"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcLink</span><span class="hs-glyph">=</span><span class="hs-identifier">NoLink</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2496"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;shared&quot;</span><span>
</span><span id="line-2497"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcLink</span><span class="hs-glyph">=</span><span class="hs-identifier">LinkDynLib</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2498"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;staticlib&quot;</span><span>
</span><span id="line-2499"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">setGeneralFlag'</span><span> </span><span class="hs-identifier">Opt_LinkRts</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcLink</span><span class="hs-glyph">=</span><span class="hs-identifier">LinkStaticLib</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2500"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dynload&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">parseDynLibLoaderMode</span><span class="hs-special">)</span><span>
</span><span id="line-2501"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dylib-install-name&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setDylibInstallName</span><span class="hs-special">)</span><span>
</span><span id="line-2502"></span><span>
</span><span id="line-2503"></span><span>        </span><span class="hs-comment">------- Libraries ---------------------------------------------------</span><span>
</span><span id="line-2504"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;L&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">Prefix</span><span> </span><span class="hs-identifier">addLibraryPath</span><span class="hs-special">)</span><span>
</span><span id="line-2505"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;l&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addLdInputs</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Option</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;-l&quot;</span><span> </span><span class="hs-operator">++</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2506"></span><span>
</span><span id="line-2507"></span><span>        </span><span class="hs-comment">------- Frameworks --------------------------------------------------</span><span>
</span><span id="line-2508"></span><span>        </span><span class="hs-comment">-- -framework-path should really be -F ...</span><span>
</span><span id="line-2509"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;framework-path&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">addFrameworkPath</span><span class="hs-special">)</span><span>
</span><span id="line-2510"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;framework&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addCmdlineFramework</span><span class="hs-special">)</span><span>
</span><span id="line-2511"></span><span>
</span><span id="line-2512"></span><span>        </span><span class="hs-comment">------- Output Redirection ------------------------------------------</span><span>
</span><span id="line-2513"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;odir&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setObjectDir</span><span class="hs-special">)</span><span>
</span><span id="line-2514"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;o&quot;</span><span>                 </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setOutputFile</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Just</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2515"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dyno&quot;</span><span>
</span><span id="line-2516"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setDynOutputFile</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Just</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2517"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ohi&quot;</span><span>
</span><span id="line-2518"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setOutputHi</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2519"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;osuf&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setObjectSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2520"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dynosuf&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setDynObjectSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2521"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hcsuf&quot;</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setHcSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2522"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hisuf&quot;</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setHiSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2523"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hiesuf&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setHieSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2524"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dynhisuf&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setDynHiSuf</span><span class="hs-special">)</span><span>
</span><span id="line-2525"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hidir&quot;</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setHiDir</span><span class="hs-special">)</span><span>
</span><span id="line-2526"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hiedir&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setHieDir</span><span class="hs-special">)</span><span>
</span><span id="line-2527"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;tmpdir&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setTmpDir</span><span class="hs-special">)</span><span>
</span><span id="line-2528"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;stubdir&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setStubDir</span><span class="hs-special">)</span><span>
</span><span id="line-2529"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dumpdir&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setDumpDir</span><span class="hs-special">)</span><span>
</span><span id="line-2530"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;outputdir&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setOutputDir</span><span class="hs-special">)</span><span>
</span><span id="line-2531"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-file-prefix&quot;</span><span>
</span><span id="line-2532"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setDumpPrefixForce</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Just</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2533"></span><span>
</span><span id="line-2534"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dynamic-too&quot;</span><span>
</span><span id="line-2535"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_BuildDynamicToo</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2536"></span><span>
</span><span id="line-2537"></span><span>        </span><span class="hs-comment">------- Keeping temporary files -------------------------------------</span><span>
</span><span id="line-2538"></span><span>     </span><span class="hs-comment">-- These can be singular (think ghc -c) or plural (think ghc --make)</span><span>
</span><span id="line-2539"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hc-file&quot;</span><span>
</span><span id="line-2540"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHcFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2541"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hc-files&quot;</span><span>
</span><span id="line-2542"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHcFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2543"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hscpp-file&quot;</span><span>
</span><span id="line-2544"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHscppFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2545"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hscpp-files&quot;</span><span>
</span><span id="line-2546"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHscppFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2547"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-s-file&quot;</span><span>
</span><span id="line-2548"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepSFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2549"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-s-files&quot;</span><span>
</span><span id="line-2550"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepSFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2551"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-llvm-file&quot;</span><span>
</span><span id="line-2552"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-identifier">HscLlvm</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepLlvmFiles</span><span class="hs-special">)</span><span>
</span><span id="line-2553"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-llvm-files&quot;</span><span>
</span><span id="line-2554"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-identifier">HscLlvm</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepLlvmFiles</span><span class="hs-special">)</span><span>
</span><span id="line-2555"></span><span>     </span><span class="hs-comment">-- This only makes sense as plural</span><span>
</span><span id="line-2556"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-tmp-files&quot;</span><span>
</span><span id="line-2557"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepTmpFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2558"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hi-file&quot;</span><span>
</span><span id="line-2559"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHiFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2560"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-keep-hi-file&quot;</span><span>
</span><span id="line-2561"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHiFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2562"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-hi-files&quot;</span><span>
</span><span id="line-2563"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHiFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2564"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-keep-hi-files&quot;</span><span>
</span><span id="line-2565"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepHiFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2566"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-o-file&quot;</span><span>
</span><span id="line-2567"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepOFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2568"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-keep-o-file&quot;</span><span>
</span><span id="line-2569"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepOFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2570"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;keep-o-files&quot;</span><span>
</span><span id="line-2571"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepOFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2572"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-keep-o-files&quot;</span><span>
</span><span id="line-2573"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_KeepOFiles</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2574"></span><span>
</span><span id="line-2575"></span><span>        </span><span class="hs-comment">------- Miscellaneous ----------------------------------------------</span><span>
</span><span id="line-2576"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-auto-link-packages&quot;</span><span>
</span><span id="line-2577"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_AutoLinkPackages</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2578"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-hs-main&quot;</span><span>
</span><span id="line-2579"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_NoHsMain</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2580"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fno-state-hack&quot;</span><span>
</span><span id="line-2581"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_G_NoStateHack</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2582"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fno-opt-coercion&quot;</span><span>
</span><span id="line-2583"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_G_NoOptCoercion</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2584"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;with-rtsopts&quot;</span><span>
</span><span id="line-2585"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">setRtsOpts</span><span class="hs-special">)</span><span>
</span><span id="line-2586"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts&quot;</span><span>
</span><span id="line-2587"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsAll</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2588"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts=all&quot;</span><span>
</span><span id="line-2589"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsAll</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2590"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts=some&quot;</span><span>
</span><span id="line-2591"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsSafeOnly</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2592"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts=none&quot;</span><span>
</span><span id="line-2593"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsNone</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2594"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts=ignore&quot;</span><span>
</span><span id="line-2595"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsIgnore</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2596"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;rtsopts=ignoreAll&quot;</span><span>
</span><span id="line-2597"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsIgnoreAll</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2598"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-rtsopts&quot;</span><span>
</span><span id="line-2599"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-identifier">RtsOptsNone</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2600"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-rtsopts-suggestions&quot;</span><span>
</span><span id="line-2601"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">rtsOptsSuggestions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2602"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dhex-word-literals&quot;</span><span>
</span><span id="line-2603"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_HexWordLiterals</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2604"></span><span>
</span><span id="line-2605"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ghcversion-file&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addGhcVersionFile</span><span class="hs-special">)</span><span>
</span><span id="line-2606"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;main-is&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">SepArg</span><span> </span><span class="hs-identifier">setMainIs</span><span class="hs-special">)</span><span>
</span><span id="line-2607"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;haddock&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Haddock</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2608"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-haddock&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Haddock</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2609"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;haddock-opts&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addHaddockOpts</span><span class="hs-special">)</span><span>
</span><span id="line-2610"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;hpcdir&quot;</span><span>               </span><span class="hs-special">(</span><span class="hs-identifier">SepArg</span><span> </span><span class="hs-identifier">setOptHpcDir</span><span class="hs-special">)</span><span>
</span><span id="line-2611"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhciFlag</span><span> </span><span class="hs-string">&quot;ghci-script&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addGhciScript</span><span class="hs-special">)</span><span>
</span><span id="line-2612"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhciFlag</span><span> </span><span class="hs-string">&quot;interactive-print&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setInteractivePrint</span><span class="hs-special">)</span><span>
</span><span id="line-2613"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ticky-allocd&quot;</span><span>
</span><span id="line-2614"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Ticky_Allocd</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2615"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ticky-LNE&quot;</span><span>
</span><span id="line-2616"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Ticky_LNE</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2617"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ticky-dyn-thunk&quot;</span><span>
</span><span id="line-2618"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_Ticky_Dyn_Thunk</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2619"></span><span>        </span><span class="hs-comment">------- recompilation checker --------------------------------------</span><span>
</span><span id="line-2620"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;recomp&quot;</span><span>
</span><span id="line-2621"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_ForceRecomp</span><span class="hs-special">)</span><span>
</span><span id="line-2622"></span><span>             </span><span class="hs-string">&quot;Use -fno-force-recomp instead&quot;</span><span>
</span><span id="line-2623"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-recomp&quot;</span><span>
</span><span id="line-2624"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_ForceRecomp</span><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;Use -fforce-recomp instead&quot;</span><span>
</span><span id="line-2625"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-errors&quot;</span><span>
</span><span id="line-2626"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">max</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2627"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-max-errors&quot;</span><span>
</span><span id="line-2628"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2629"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;freverse-errors&quot;</span><span>
</span><span id="line-2630"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">reverseErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2631"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-reverse-errors&quot;</span><span>
</span><span id="line-2632"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">reverseErrors</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2633"></span><span>
</span><span id="line-2634"></span><span>        </span><span class="hs-comment">------ HsCpp opts ---------------------------------------------------</span><span>
</span><span id="line-2635"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;D&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">AnySuffix</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">addOptP</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2636"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;U&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">AnySuffix</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">addOptP</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2637"></span><span>
</span><span id="line-2638"></span><span>        </span><span class="hs-comment">------- Include/Import Paths ----------------------------------------</span><span>
</span><span id="line-2639"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;I&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">Prefix</span><span>    </span><span class="hs-identifier">addIncludePath</span><span class="hs-special">)</span><span>
</span><span id="line-2640"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;i&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">OptPrefix</span><span> </span><span class="hs-identifier">addImportPath</span><span class="hs-special">)</span><span>
</span><span id="line-2641"></span><span>
</span><span id="line-2642"></span><span>        </span><span class="hs-comment">------ Output style options -----------------------------------------</span><span>
</span><span id="line-2643"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;dppr-user-length&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2644"></span><span>                                                       </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pprUserLength</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2645"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;dppr-cols&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2646"></span><span>                                                             </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pprCols</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2647"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fdiagnostics-color=auto&quot;</span><span>
</span><span id="line-2648"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">useColor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Auto</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2649"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fdiagnostics-color=always&quot;</span><span>
</span><span id="line-2650"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">useColor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Always</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2651"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fdiagnostics-color=never&quot;</span><span>
</span><span id="line-2652"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">useColor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Never</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2653"></span><span>
</span><span id="line-2654"></span><span>  </span><span class="hs-comment">-- Suppress all that is suppressable in core dumps.</span><span>
</span><span id="line-2655"></span><span>  </span><span class="hs-comment">-- Except for uniques, as some simplifier phases introduce new variables that</span><span>
</span><span id="line-2656"></span><span>  </span><span class="hs-comment">-- have otherwise identical names.</span><span>
</span><span id="line-2657"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dsuppress-all&quot;</span><span>
</span><span id="line-2658"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressCoercions</span><span>
</span><span id="line-2659"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressVarKinds</span><span>
</span><span id="line-2660"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressModulePrefixes</span><span>
</span><span id="line-2661"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressTypeApplications</span><span>
</span><span id="line-2662"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressIdInfo</span><span>
</span><span id="line-2663"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressTicks</span><span>
</span><span id="line-2664"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressStgExts</span><span>
</span><span id="line-2665"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressTypeSignatures</span><span>
</span><span id="line-2666"></span><span>                  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_SuppressTimestamps</span><span class="hs-special">)</span><span>
</span><span id="line-2667"></span><span>
</span><span id="line-2668"></span><span>        </span><span class="hs-comment">------ Debugging ----------------------------------------------------</span><span>
</span><span id="line-2669"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dstg-stats&quot;</span><span>
</span><span id="line-2670"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_StgStats</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2671"></span><span>
</span><span id="line-2672"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm&quot;</span><span>
</span><span id="line-2673"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm</span><span class="hs-special">)</span><span>
</span><span id="line-2674"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-from-stg&quot;</span><span>
</span><span id="line-2675"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_from_stg</span><span class="hs-special">)</span><span>
</span><span id="line-2676"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-raw&quot;</span><span>
</span><span id="line-2677"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_raw</span><span class="hs-special">)</span><span>
</span><span id="line-2678"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-verbose&quot;</span><span>
</span><span id="line-2679"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_verbose</span><span class="hs-special">)</span><span>
</span><span id="line-2680"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-verbose-by-proc&quot;</span><span>
</span><span id="line-2681"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_verbose_by_proc</span><span class="hs-special">)</span><span>
</span><span id="line-2682"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-cfg&quot;</span><span>
</span><span id="line-2683"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_cfg</span><span class="hs-special">)</span><span>
</span><span id="line-2684"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-cbe&quot;</span><span>
</span><span id="line-2685"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_cbe</span><span class="hs-special">)</span><span>
</span><span id="line-2686"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-switch&quot;</span><span>
</span><span id="line-2687"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_switch</span><span class="hs-special">)</span><span>
</span><span id="line-2688"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-proc&quot;</span><span>
</span><span id="line-2689"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_proc</span><span class="hs-special">)</span><span>
</span><span id="line-2690"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-sp&quot;</span><span>
</span><span id="line-2691"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_sp</span><span class="hs-special">)</span><span>
</span><span id="line-2692"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-sink&quot;</span><span>
</span><span id="line-2693"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_sink</span><span class="hs-special">)</span><span>
</span><span id="line-2694"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-caf&quot;</span><span>
</span><span id="line-2695"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_caf</span><span class="hs-special">)</span><span>
</span><span id="line-2696"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-procmap&quot;</span><span>
</span><span id="line-2697"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_procmap</span><span class="hs-special">)</span><span>
</span><span id="line-2698"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-split&quot;</span><span>
</span><span id="line-2699"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_split</span><span class="hs-special">)</span><span>
</span><span id="line-2700"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-info&quot;</span><span>
</span><span id="line-2701"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_info</span><span class="hs-special">)</span><span>
</span><span id="line-2702"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-cps&quot;</span><span>
</span><span id="line-2703"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cmm_cps</span><span class="hs-special">)</span><span>
</span><span id="line-2704"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cmm-opt&quot;</span><span>
</span><span id="line-2705"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_opt_cmm</span><span class="hs-special">)</span><span>
</span><span id="line-2706"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cfg-weights&quot;</span><span>
</span><span id="line-2707"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cfg_weights</span><span class="hs-special">)</span><span>
</span><span id="line-2708"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-core-stats&quot;</span><span>
</span><span id="line-2709"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_core_stats</span><span class="hs-special">)</span><span>
</span><span id="line-2710"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm&quot;</span><span>
</span><span id="line-2711"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm</span><span class="hs-special">)</span><span>
</span><span id="line-2712"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-native&quot;</span><span>
</span><span id="line-2713"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_native</span><span class="hs-special">)</span><span>
</span><span id="line-2714"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-liveness&quot;</span><span>
</span><span id="line-2715"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_liveness</span><span class="hs-special">)</span><span>
</span><span id="line-2716"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-regalloc&quot;</span><span>
</span><span id="line-2717"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_regalloc</span><span class="hs-special">)</span><span>
</span><span id="line-2718"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-conflicts&quot;</span><span>
</span><span id="line-2719"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_conflicts</span><span class="hs-special">)</span><span>
</span><span id="line-2720"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-regalloc-stages&quot;</span><span>
</span><span id="line-2721"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_regalloc_stages</span><span class="hs-special">)</span><span>
</span><span id="line-2722"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-stats&quot;</span><span>
</span><span id="line-2723"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_stats</span><span class="hs-special">)</span><span>
</span><span id="line-2724"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-asm-expanded&quot;</span><span>
</span><span id="line-2725"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_asm_expanded</span><span class="hs-special">)</span><span>
</span><span id="line-2726"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-llvm&quot;</span><span>
</span><span id="line-2727"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-identifier">HscLlvm</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-identifier">Opt_D_dump_llvm</span><span class="hs-special">)</span><span>
</span><span id="line-2728"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-deriv&quot;</span><span>
</span><span id="line-2729"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_deriv</span><span class="hs-special">)</span><span>
</span><span id="line-2730"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-ds&quot;</span><span>
</span><span id="line-2731"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_ds</span><span class="hs-special">)</span><span>
</span><span id="line-2732"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-ds-preopt&quot;</span><span>
</span><span id="line-2733"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_ds_preopt</span><span class="hs-special">)</span><span>
</span><span id="line-2734"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-foreign&quot;</span><span>
</span><span id="line-2735"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_foreign</span><span class="hs-special">)</span><span>
</span><span id="line-2736"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-inlinings&quot;</span><span>
</span><span id="line-2737"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_inlinings</span><span class="hs-special">)</span><span>
</span><span id="line-2738"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-verbose-inlinings&quot;</span><span>
</span><span id="line-2739"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_verbose_inlinings</span><span class="hs-special">)</span><span>
</span><span id="line-2740"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rule-firings&quot;</span><span>
</span><span id="line-2741"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rule_firings</span><span class="hs-special">)</span><span>
</span><span id="line-2742"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rule-rewrites&quot;</span><span>
</span><span id="line-2743"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rule_rewrites</span><span class="hs-special">)</span><span>
</span><span id="line-2744"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-simpl-trace&quot;</span><span>
</span><span id="line-2745"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2746"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-occur-anal&quot;</span><span>
</span><span id="line-2747"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_occur_anal</span><span class="hs-special">)</span><span>
</span><span id="line-2748"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-parsed&quot;</span><span>
</span><span id="line-2749"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_parsed</span><span class="hs-special">)</span><span>
</span><span id="line-2750"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-parsed-ast&quot;</span><span>
</span><span id="line-2751"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_parsed_ast</span><span class="hs-special">)</span><span>
</span><span id="line-2752"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rn&quot;</span><span>
</span><span id="line-2753"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rn</span><span class="hs-special">)</span><span>
</span><span id="line-2754"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rn-ast&quot;</span><span>
</span><span id="line-2755"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rn_ast</span><span class="hs-special">)</span><span>
</span><span id="line-2756"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-simpl&quot;</span><span>
</span><span id="line-2757"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl</span><span class="hs-special">)</span><span>
</span><span id="line-2758"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-simpl-iterations&quot;</span><span>
</span><span id="line-2759"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl_iterations</span><span class="hs-special">)</span><span>
</span><span id="line-2760"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-spec&quot;</span><span>
</span><span id="line-2761"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_spec</span><span class="hs-special">)</span><span>
</span><span id="line-2762"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-prep&quot;</span><span>
</span><span id="line-2763"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_prep</span><span class="hs-special">)</span><span>
</span><span id="line-2764"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-stg&quot;</span><span>
</span><span id="line-2765"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_stg</span><span class="hs-special">)</span><span>
</span><span id="line-2766"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-stg-unarised&quot;</span><span>
</span><span id="line-2767"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_stg_unarised</span><span class="hs-special">)</span><span>
</span><span id="line-2768"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-stg-final&quot;</span><span>
</span><span id="line-2769"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_stg_final</span><span class="hs-special">)</span><span>
</span><span id="line-2770"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-call-arity&quot;</span><span>
</span><span id="line-2771"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_call_arity</span><span class="hs-special">)</span><span>
</span><span id="line-2772"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-exitify&quot;</span><span>
</span><span id="line-2773"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_exitify</span><span class="hs-special">)</span><span>
</span><span id="line-2774"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-stranal&quot;</span><span>
</span><span id="line-2775"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_stranal</span><span class="hs-special">)</span><span>
</span><span id="line-2776"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-str-signatures&quot;</span><span>
</span><span id="line-2777"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_str_signatures</span><span class="hs-special">)</span><span>
</span><span id="line-2778"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cpranal&quot;</span><span>
</span><span id="line-2779"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cpranal</span><span class="hs-special">)</span><span>
</span><span id="line-2780"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cpr-signatures&quot;</span><span>
</span><span id="line-2781"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cpr_signatures</span><span class="hs-special">)</span><span>
</span><span id="line-2782"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-tc&quot;</span><span>
</span><span id="line-2783"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_tc</span><span class="hs-special">)</span><span>
</span><span id="line-2784"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-tc-ast&quot;</span><span>
</span><span id="line-2785"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_tc_ast</span><span class="hs-special">)</span><span>
</span><span id="line-2786"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-hie&quot;</span><span>
</span><span id="line-2787"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_hie</span><span class="hs-special">)</span><span>
</span><span id="line-2788"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-types&quot;</span><span>
</span><span id="line-2789"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_types</span><span class="hs-special">)</span><span>
</span><span id="line-2790"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rules&quot;</span><span>
</span><span id="line-2791"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rules</span><span class="hs-special">)</span><span>
</span><span id="line-2792"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cse&quot;</span><span>
</span><span id="line-2793"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cse</span><span class="hs-special">)</span><span>
</span><span id="line-2794"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-worker-wrapper&quot;</span><span>
</span><span id="line-2795"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_worker_wrapper</span><span class="hs-special">)</span><span>
</span><span id="line-2796"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rn-trace&quot;</span><span>
</span><span id="line-2797"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rn_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2798"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-if-trace&quot;</span><span>
</span><span id="line-2799"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_if_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2800"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-cs-trace&quot;</span><span>
</span><span id="line-2801"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_cs_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2802"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-tc-trace&quot;</span><span>
</span><span id="line-2803"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-identifier">Opt_D_dump_tc_trace</span><span>
</span><span id="line-2804"></span><span>                   </span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-identifier">Opt_D_dump_cs_trace</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2805"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-ec-trace&quot;</span><span>
</span><span id="line-2806"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_ec_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2807"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-vt-trace&quot;</span><span>
</span><span id="line-2808"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_vt_trace</span><span class="hs-special">)</span><span>
</span><span id="line-2809"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-splices&quot;</span><span>
</span><span id="line-2810"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_splices</span><span class="hs-special">)</span><span>
</span><span id="line-2811"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dth-dec-file&quot;</span><span>
</span><span id="line-2812"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_th_dec_file</span><span class="hs-special">)</span><span>
</span><span id="line-2813"></span><span>
</span><span id="line-2814"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rn-stats&quot;</span><span>
</span><span id="line-2815"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rn_stats</span><span class="hs-special">)</span><span>
</span><span id="line-2816"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-opt-cmm&quot;</span><span> </span><span class="hs-comment">--old alias for cmm-opt</span><span>
</span><span id="line-2817"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_opt_cmm</span><span class="hs-special">)</span><span>
</span><span id="line-2818"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-simpl-stats&quot;</span><span>
</span><span id="line-2819"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_simpl_stats</span><span class="hs-special">)</span><span>
</span><span id="line-2820"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-bcos&quot;</span><span>
</span><span id="line-2821"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_BCOs</span><span class="hs-special">)</span><span>
</span><span id="line-2822"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dsource-stats&quot;</span><span>
</span><span id="line-2823"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_source_stats</span><span class="hs-special">)</span><span>
</span><span id="line-2824"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dverbose-core2core&quot;</span><span>
</span><span id="line-2825"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setVerbosity</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setVerboseCore2Core</span><span class="hs-special">)</span><span>
</span><span id="line-2826"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dverbose-stg2stg&quot;</span><span>
</span><span id="line-2827"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_verbose_stg2stg</span><span class="hs-special">)</span><span>
</span><span id="line-2828"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-hi&quot;</span><span>
</span><span id="line-2829"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_hi</span><span class="hs-special">)</span><span>
</span><span id="line-2830"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-minimal-imports&quot;</span><span>
</span><span id="line-2831"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_minimal_imports</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2832"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-hpc&quot;</span><span>
</span><span id="line-2833"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_ticked</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- back compat</span><span>
</span><span id="line-2834"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-ticked&quot;</span><span>
</span><span id="line-2835"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_ticked</span><span class="hs-special">)</span><span>
</span><span id="line-2836"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-mod-cycles&quot;</span><span>
</span><span id="line-2837"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_mod_cycles</span><span class="hs-special">)</span><span>
</span><span id="line-2838"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-mod-map&quot;</span><span>
</span><span id="line-2839"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_mod_map</span><span class="hs-special">)</span><span>
</span><span id="line-2840"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-timings&quot;</span><span>
</span><span id="line-2841"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_timings</span><span class="hs-special">)</span><span>
</span><span id="line-2842"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-view-pattern-commoning&quot;</span><span>
</span><span id="line-2843"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_view_pattern_commoning</span><span class="hs-special">)</span><span>
</span><span id="line-2844"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-to-file&quot;</span><span>
</span><span id="line-2845"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DumpToFile</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2846"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-hi-diffs&quot;</span><span>
</span><span id="line-2847"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_hi_diffs</span><span class="hs-special">)</span><span>
</span><span id="line-2848"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-rtti&quot;</span><span>
</span><span id="line-2849"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_rtti</span><span class="hs-special">)</span><span>
</span><span id="line-2850"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dcore-lint&quot;</span><span>
</span><span id="line-2851"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoCoreLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2852"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dlinear-core-lint&quot;</span><span>
</span><span id="line-2853"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoLinearCoreLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2854"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dstg-lint&quot;</span><span>
</span><span id="line-2855"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoStgLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2856"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dcmm-lint&quot;</span><span>
</span><span id="line-2857"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoCmmLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2858"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dasm-lint&quot;</span><span>
</span><span id="line-2859"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoAsmLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2860"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dannot-lint&quot;</span><span>
</span><span id="line-2861"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DoAnnotationLinting</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2862"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dshow-passes&quot;</span><span>
</span><span id="line-2863"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">forceRecompile</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setVerbosity</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-number">2</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2864"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dfaststring-stats&quot;</span><span>
</span><span id="line-2865"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_D_faststring_stats</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2866"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dno-llvm-mangler&quot;</span><span>
</span><span id="line-2867"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_NoLlvmMangler</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- hidden flag</span><span>
</span><span id="line-2868"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dno-typeable-binds&quot;</span><span>
</span><span id="line-2869"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_NoTypeableBinds</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2870"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-debug&quot;</span><span>
</span><span id="line-2871"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_dump_debug</span><span class="hs-special">)</span><span>
</span><span id="line-2872"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddump-json&quot;</span><span>
</span><span id="line-2873"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">dopt_set</span><span> </span><span class="hs-identifier">Opt_D_dump_json</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setJsonLogAction</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2874"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dppr-debug&quot;</span><span>
</span><span id="line-2875"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_ppr_debug</span><span class="hs-special">)</span><span>
</span><span id="line-2876"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ddebug-output&quot;</span><span>
</span><span id="line-2877"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">dopt_unset</span><span> </span><span class="hs-identifier">Opt_D_no_debug_output</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2878"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dno-debug-output&quot;</span><span>
</span><span id="line-2879"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-identifier">Opt_D_no_debug_output</span><span class="hs-special">)</span><span>
</span><span id="line-2880"></span><span>
</span><span id="line-2881"></span><span>        </span><span class="hs-comment">------ Machine dependent (-m&lt;blah&gt;) stuff ---------------------------</span><span>
</span><span id="line-2882"></span><span>
</span><span id="line-2883"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;msse&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2884"></span><span>                                                  </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">SSE1</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2885"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;msse2&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2886"></span><span>                                                  </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">SSE2</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2887"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;msse3&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2888"></span><span>                                                  </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">SSE3</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2889"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;msse4&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2890"></span><span>                                                  </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">SSE4</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2891"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;msse4.2&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2892"></span><span>                                                 </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sseVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">SSE42</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2893"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mbmi&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2894"></span><span>                                                 </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">bmiVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">BMI1</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2895"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mbmi2&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2896"></span><span>                                                 </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">bmiVersion</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">BMI2</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2897"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2898"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx2&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2899"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx512cd&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2900"></span><span>                                                         </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx512cd</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2901"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx512er&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2902"></span><span>                                                         </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx512er</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2903"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx512f&quot;</span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx512f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2904"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;mavx512pf&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2905"></span><span>                                                         </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">avx512pf</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2906"></span><span>
</span><span id="line-2907"></span><span>     </span><span class="hs-comment">------ Warning opts -------------------------------------------------</span><span>
</span><span id="line-2908"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;W&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">minusWOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2909"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Werror&quot;</span><span>
</span><span id="line-2910"></span><span>               </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_WarnIsError</span><span>
</span><span id="line-2911"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">setFatalWarningFlag</span><span> </span><span class="hs-identifier">minusWeverythingOpts</span><span>   </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2912"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wwarn&quot;</span><span>
</span><span id="line-2913"></span><span>               </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_WarnIsError</span><span>
</span><span id="line-2914"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-identifier">minusWeverythingOpts</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2915"></span><span>                          </span><span class="hs-comment">-- Opt_WarnIsError is still needed to pass -Werror</span><span>
</span><span id="line-2916"></span><span>                          </span><span class="hs-comment">-- to CPP; see runCpp in SysTools</span><span>
</span><span id="line-2917"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wnot&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2918"></span><span>                                              </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.empty</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2919"></span><span>                                             </span><span class="hs-string">&quot;Use -w or -Wno-everything instead&quot;</span><span>
</span><span id="line-2920"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;w&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2921"></span><span>                                              </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.empty</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2922"></span><span>
</span><span id="line-2923"></span><span>     </span><span class="hs-comment">-- New-style uniform warning sets</span><span>
</span><span id="line-2924"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-2925"></span><span>     </span><span class="hs-comment">-- Note that -Weverything &gt; -Wall &gt; -Wextra &gt; -Wdefault &gt; -Wno-everything</span><span>
</span><span id="line-2926"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Weverything&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2927"></span><span>                                           </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">minusWeverythingOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2928"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-everything&quot;</span><span>
</span><span id="line-2929"></span><span>                           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">warningFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EnumSet.empty</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2930"></span><span>
</span><span id="line-2931"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wall&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2932"></span><span>                                                  </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">minusWallOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2933"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-all&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2934"></span><span>                                                </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-identifier">minusWallOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2935"></span><span>
</span><span id="line-2936"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wextra&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2937"></span><span>                                                     </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">minusWOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2938"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-extra&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2939"></span><span>                                                   </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-identifier">minusWOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2940"></span><span>
</span><span id="line-2941"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wdefault&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2942"></span><span>                                               </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">standardWarnings</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2943"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-default&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2944"></span><span>                                             </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-identifier">standardWarnings</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2945"></span><span>
</span><span id="line-2946"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wcompat&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2947"></span><span>                                               </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2948"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-compat&quot;</span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span>
</span><span id="line-2949"></span><span>                                             </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2950"></span><span>
</span><span id="line-2951"></span><span>        </span><span class="hs-comment">------ Plugin flags ------------------------------------------------</span><span>
</span><span id="line-2952"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fplugin-opt&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addPluginModuleNameOption</span><span class="hs-special">)</span><span>
</span><span id="line-2953"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fplugin-trustworthy&quot;</span><span>
</span><span id="line-2954"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PluginTrustworthy</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2955"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fplugin&quot;</span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addPluginModuleName</span><span class="hs-special">)</span><span>
</span><span id="line-2956"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fclear-plugins&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-identifier">clearPluginModuleNames</span><span class="hs-special">)</span><span>
</span><span id="line-2957"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;ffrontend-opt&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">addFrontendPluginOption</span><span class="hs-special">)</span><span>
</span><span id="line-2958"></span><span>
</span><span id="line-2959"></span><span>        </span><span class="hs-comment">------ Optimisation flags ------------------------------------------</span><span>
</span><span id="line-2960"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;Onot&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">noArgM</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">setOptLevel</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-2961"></span><span>                                                            </span><span class="hs-string">&quot;Use -O0 instead&quot;</span><span>
</span><span id="line-2962"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;O&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">optIntSuffixM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2963"></span><span>                                                </span><span class="hs-identifier">setOptLevel</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">orElse</span><span class="hs-special">`</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2964"></span><span>                </span><span class="hs-comment">-- If the number is missing, use 1</span><span>
</span><span id="line-2965"></span><span>
</span><span id="line-2966"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fbinary-blob-threshold&quot;</span><span>
</span><span id="line-2967"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">binBlobThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2968"></span><span>
</span><span id="line-2969"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-relevant-binds&quot;</span><span>
</span><span id="line-2970"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxRelevantBinds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2971"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-max-relevant-binds&quot;</span><span>
</span><span id="line-2972"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxRelevantBinds</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2973"></span><span>
</span><span id="line-2974"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-valid-hole-fits&quot;</span><span>
</span><span id="line-2975"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxValidHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2976"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-max-valid-hole-fits&quot;</span><span>
</span><span id="line-2977"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxValidHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2978"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-refinement-hole-fits&quot;</span><span>
</span><span id="line-2979"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxRefHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2980"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-max-refinement-hole-fits&quot;</span><span>
</span><span id="line-2981"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxRefHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2982"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;frefinement-level-hole-fits&quot;</span><span>
</span><span id="line-2983"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">refLevelHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2984"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-refinement-level-hole-fits&quot;</span><span>
</span><span id="line-2985"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">refLevelHoleFits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2986"></span><span>
</span><span id="line-2987"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fllvm-pass-vectors-in-regs&quot;</span><span>
</span><span id="line-2988"></span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-identifier">id</span><span class="hs-special">)</span><span>
</span><span id="line-2989"></span><span>            </span><span class="hs-string">&quot;vectors registers are now passed in registers by default.&quot;</span><span>
</span><span id="line-2990"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-uncovered-patterns&quot;</span><span>
</span><span id="line-2991"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxUncoveredPatterns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2992"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-pmcheck-models&quot;</span><span>
</span><span id="line-2993"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxPmCheckModels</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2994"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fsimplifier-phases&quot;</span><span>
</span><span id="line-2995"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">simplPhases</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2996"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-simplifier-iterations&quot;</span><span>
</span><span id="line-2997"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxSimplIterations</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2998"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-pmcheck-iterations&quot;</span><span>
</span><span id="line-2999"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffixM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3000"></span><span>       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;use -fmax-pmcheck-models instead&quot;</span><span>
</span><span id="line-3001"></span><span>          </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3002"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fsimpl-tick-factor&quot;</span><span>
</span><span id="line-3003"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">simplTickFactor</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3004"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fspec-constr-threshold&quot;</span><span>
</span><span id="line-3005"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">specConstrThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3006"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-spec-constr-threshold&quot;</span><span>
</span><span id="line-3007"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">specConstrThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3008"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fspec-constr-count&quot;</span><span>
</span><span id="line-3009"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">specConstrCount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3010"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-spec-constr-count&quot;</span><span>
</span><span id="line-3011"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">specConstrCount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3012"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fspec-constr-recursive&quot;</span><span>
</span><span id="line-3013"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">specConstrRecursive</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3014"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fliberate-case-threshold&quot;</span><span>
</span><span id="line-3015"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liberateCaseThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3016"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-liberate-case-threshold&quot;</span><span>
</span><span id="line-3017"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liberateCaseThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3018"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;drule-check&quot;</span><span>
</span><span id="line-3019"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ruleCheck</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3020"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;dinline-check&quot;</span><span>
</span><span id="line-3021"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inlineCheck</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3022"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;freduction-depth&quot;</span><span>
</span><span id="line-3023"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">reductionDepth</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3024"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fconstraint-solver-iterations&quot;</span><span>
</span><span id="line-3025"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">solverIterations</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3026"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fcontext-stack&quot;</span><span>
</span><span id="line-3027"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffixM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3028"></span><span>       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;use -freduction-depth=&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; instead&quot;</span><span>
</span><span id="line-3029"></span><span>          </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">reductionDepth</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3030"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;ftype-function-depth&quot;</span><span>
</span><span id="line-3031"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffixM</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3032"></span><span>       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;use -freduction-depth=&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; instead&quot;</span><span>
</span><span id="line-3033"></span><span>          </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">reductionDepth</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3034"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstrictness-before&quot;</span><span>
</span><span id="line-3035"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">strictnessBefore</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">strictnessBefore</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3036"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;ffloat-lam-args&quot;</span><span>
</span><span id="line-3037"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">floatLamArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3038"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;ffloat-all-lams&quot;</span><span>
</span><span id="line-3039"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">floatLamArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3040"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstg-lift-lams-rec-args&quot;</span><span>
</span><span id="line-3041"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsRecArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3042"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstg-lift-lams-rec-args-any&quot;</span><span>
</span><span id="line-3043"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsRecArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3044"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstg-lift-lams-non-rec-args&quot;</span><span>
</span><span id="line-3045"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsRecArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3046"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstg-lift-lams-non-rec-args-any&quot;</span><span>
</span><span id="line-3047"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsRecArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3048"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fstg-lift-lams-known&quot;</span><span>
</span><span id="line-3049"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsKnown</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3050"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-stg-lift-lams-known&quot;</span><span>
</span><span id="line-3051"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">liftLamsKnown</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3052"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fproc-alignment&quot;</span><span>
</span><span id="line-3053"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cmmProcAlignment</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3054"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fblock-layout-weights&quot;</span><span>
</span><span id="line-3055"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3056"></span><span>            </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cfgWeightInfo</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3057"></span><span>                </span><span class="hs-identifier">parseCfgWeights</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">cfgWeightInfo</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3058"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fhistory-size&quot;</span><span>
</span><span id="line-3059"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">historySize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3060"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;funfolding-creation-threshold&quot;</span><span>
</span><span id="line-3061"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span>   </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">ufCreationThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3062"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;funfolding-use-threshold&quot;</span><span>
</span><span id="line-3063"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span>   </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">ufUseThreshold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3064"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;funfolding-fun-discount&quot;</span><span>
</span><span id="line-3065"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span>   </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">ufFunAppDiscount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3066"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;funfolding-dict-discount&quot;</span><span>
</span><span id="line-3067"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span>   </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">ufDictDiscount</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3068"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;funfolding-keeness-factor&quot;</span><span>
</span><span id="line-3069"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">floatSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3070"></span><span>      </span><span class="hs-string">&quot;-funfolding-keeness-factor is no longer respected as of GHC 9.0&quot;</span><span>
</span><span id="line-3071"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fmax-worker-args&quot;</span><span>
</span><span id="line-3072"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">maxWorkerArgs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3073"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhciFlag</span><span> </span><span class="hs-string">&quot;fghci-hist-size&quot;</span><span>
</span><span id="line-3074"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">ghciHistSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3075"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fmax-inline-alloc-size&quot;</span><span>
</span><span id="line-3076"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxInlineAllocSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3077"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fmax-inline-memcpy-insns&quot;</span><span>
</span><span id="line-3078"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxInlineMemcpyInsns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3079"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fmax-inline-memset-insns&quot;</span><span>
</span><span id="line-3080"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">maxInlineMemsetInsns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3081"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dinitial-unique&quot;</span><span>
</span><span id="line-3082"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">initialUnique</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3083"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;dunique-increment&quot;</span><span>
</span><span id="line-3084"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">uniqueIncrement</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3085"></span><span>
</span><span id="line-3086"></span><span>        </span><span class="hs-comment">------ Profiling ----------------------------------------------------</span><span>
</span><span id="line-3087"></span><span>
</span><span id="line-3088"></span><span>        </span><span class="hs-comment">-- OLD profiling flags</span><span>
</span><span id="line-3089"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;auto-all&quot;</span><span>
</span><span id="line-3090"></span><span>                    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoAll</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3091"></span><span>                    </span><span class="hs-string">&quot;Use -fprof-auto instead&quot;</span><span>
</span><span id="line-3092"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-auto-all&quot;</span><span>
</span><span id="line-3093"></span><span>                    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoProfAuto</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3094"></span><span>                    </span><span class="hs-string">&quot;Use -fno-prof-auto instead&quot;</span><span>
</span><span id="line-3095"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;auto&quot;</span><span>
</span><span id="line-3096"></span><span>                    </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoExports</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3097"></span><span>                    </span><span class="hs-string">&quot;Use -fprof-auto-exported instead&quot;</span><span>
</span><span id="line-3098"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-auto&quot;</span><span>
</span><span id="line-3099"></span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoProfAuto</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3100"></span><span>                    </span><span class="hs-string">&quot;Use -fno-prof-auto instead&quot;</span><span>
</span><span id="line-3101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;caf-all&quot;</span><span>
</span><span id="line-3102"></span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_AutoSccsOnIndividualCafs</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3103"></span><span>                    </span><span class="hs-string">&quot;Use -fprof-cafs instead&quot;</span><span>
</span><span id="line-3104"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;no-caf-all&quot;</span><span>
</span><span id="line-3105"></span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_AutoSccsOnIndividualCafs</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3106"></span><span>                    </span><span class="hs-string">&quot;Use -fno-prof-cafs instead&quot;</span><span>
</span><span id="line-3107"></span><span>
</span><span id="line-3108"></span><span>        </span><span class="hs-comment">-- NEW profiling flags</span><span>
</span><span id="line-3109"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fprof-auto&quot;</span><span>
</span><span id="line-3110"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoAll</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fprof-auto-top&quot;</span><span>
</span><span id="line-3112"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoTop</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fprof-auto-exported&quot;</span><span>
</span><span id="line-3114"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoExports</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fprof-auto-calls&quot;</span><span>
</span><span id="line-3116"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ProfAutoCalls</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fno-prof-auto&quot;</span><span>
</span><span id="line-3118"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">profAuto</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoProfAuto</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3119"></span><span>
</span><span id="line-3120"></span><span>        </span><span class="hs-comment">------ Compiler flags -----------------------------------------------</span><span>
</span><span id="line-3121"></span><span>
</span><span id="line-3122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fasm&quot;</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-identifier">HscAsm</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fvia-c&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span>
</span><span id="line-3124"></span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;The -fvia-c flag does nothing; &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3125"></span><span>                      </span><span class="hs-string">&quot;it will be removed in a future GHC release&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3126"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fvia-C&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span>
</span><span id="line-3127"></span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-string">&quot;The -fvia-C flag does nothing; &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3128"></span><span>                      </span><span class="hs-string">&quot;it will be removed in a future GHC release&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fllvm&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-identifier">HscLlvm</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3130"></span><span>
</span><span id="line-3131"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-code&quot;</span><span>         </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3132"></span><span>                  </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ghcLink</span><span class="hs-glyph">=</span><span class="hs-identifier">NoLink</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setTarget</span><span> </span><span class="hs-identifier">HscNothing</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3133"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fbyte-code&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3134"></span><span>      </span><span class="hs-comment">-- Enabling Opt_ByteCodeIfUnboxed is a workaround for #18955.</span><span>
</span><span id="line-3135"></span><span>      </span><span class="hs-comment">-- See the comments for resetOptByteCodeIfUnboxed for more details.</span><span>
</span><span id="line-3136"></span><span>      </span><span class="hs-identifier">gopt_set</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-identifier">Opt_ByteCodeIfUnboxed</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">setTarget</span><span> </span><span class="hs-identifier">HscInterpreted</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3137"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fobject-code&quot;</span><span>     </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3138"></span><span>      </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-identifier">getCmdLineState</span><span>
</span><span id="line-3139"></span><span>      </span><span class="hs-identifier">setTarget</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">defaultObjectTarget</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-3140"></span><span>
</span><span id="line-3141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fglasgow-exts&quot;</span><span>
</span><span id="line-3142"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">enableGlasgowExts</span><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;Use individual extensions instead&quot;</span><span>
</span><span id="line-3143"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-glasgow-exts&quot;</span><span>
</span><span id="line-3144"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">disableGlasgowExts</span><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;Use individual extensions instead&quot;</span><span>
</span><span id="line-3145"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wunused-binds&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">enableUnusedBinds</span><span class="hs-special">)</span><span>
</span><span id="line-3146"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-unused-binds&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">disableUnusedBinds</span><span class="hs-special">)</span><span>
</span><span id="line-3147"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defHiddenFlag</span><span> </span><span class="hs-string">&quot;fwarn-unused-binds&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">enableUnusedBinds</span><span class="hs-special">)</span><span>
</span><span id="line-3148"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defHiddenFlag</span><span> </span><span class="hs-string">&quot;fno-warn-unused-binds&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span>
</span><span id="line-3149"></span><span>                                                            </span><span class="hs-identifier">disableUnusedBinds</span><span class="hs-special">)</span><span>
</span><span id="line-3150"></span><span>
</span><span id="line-3151"></span><span>        </span><span class="hs-comment">------ Safe Haskell flags -------------------------------------------</span><span>
</span><span id="line-3152"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fpackage-trust&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">setPackageTrust</span><span class="hs-special">)</span><span>
</span><span id="line-3153"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-safe-infer&quot;</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">noArg</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3154"></span><span>                                                    </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">safeInfer</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3155"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;fno-safe-haskell&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setSafeHaskell</span><span> </span><span class="hs-identifier">Sf_Ignore</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3156"></span><span>
</span><span id="line-3157"></span><span>        </span><span class="hs-comment">------ position independent flags  ----------------------------------</span><span>
</span><span id="line-3158"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fPIC&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3159"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fno-PIC&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3160"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fPIE&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PIE</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3161"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;fno-PIE&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PIE</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3162"></span><span>
</span><span id="line-3163"></span><span>         </span><span class="hs-comment">------ Debugging flags ----------------------------------------------</span><span>
</span><span id="line-3164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;g&quot;</span><span>             </span><span class="hs-special">(</span><span class="hs-identifier">OptIntSuffix</span><span> </span><span class="hs-identifier">setDebugLevel</span><span class="hs-special">)</span><span>
</span><span id="line-3165"></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3166"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;&quot;</span><span>          </span><span class="hs-identifier">setGeneralFlag</span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">negatableFlagsDeps</span><span>
</span><span id="line-3167"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;no-&quot;</span><span>       </span><span class="hs-identifier">unSetGeneralFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">negatableFlagsDeps</span><span>
</span><span id="line-3168"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;d&quot;</span><span>         </span><span class="hs-identifier">setGeneralFlag</span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">dFlagsDeps</span><span>
</span><span id="line-3169"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;dno-&quot;</span><span>      </span><span class="hs-identifier">unSetGeneralFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">dFlagsDeps</span><span>
</span><span id="line-3170"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;f&quot;</span><span>         </span><span class="hs-identifier">setGeneralFlag</span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">fFlagsDeps</span><span>
</span><span id="line-3171"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;fno-&quot;</span><span>      </span><span class="hs-identifier">unSetGeneralFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">fFlagsDeps</span><span>
</span><span id="line-3172"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;W&quot;</span><span>         </span><span class="hs-identifier">setWarningFlag</span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3173"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;Wno-&quot;</span><span>      </span><span class="hs-identifier">unSetWarningFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3174"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;Werror=&quot;</span><span>   </span><span class="hs-identifier">setWErrorFlag</span><span> </span><span class="hs-special">)</span><span>     </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3175"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;Wwarn=&quot;</span><span>     </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-3176"></span><span>                                                        </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3177"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;Wno-error=&quot;</span><span> </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-3178"></span><span>                                                        </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3179"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;fwarn-&quot;</span><span>    </span><span class="hs-identifier">setWarningFlag</span><span>   </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">hideFlag</span><span class="hs-special">)</span><span>
</span><span id="line-3180"></span><span>    </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3181"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;fno-warn-&quot;</span><span> </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">hideFlag</span><span class="hs-special">)</span><span>
</span><span id="line-3182"></span><span>    </span><span class="hs-identifier">wWarningFlagsDeps</span><span>
</span><span id="line-3183"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NotDeprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unrecognisedWarning</span><span> </span><span class="hs-string">&quot;W&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3184"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">unrecognisedWarning</span><span> </span><span class="hs-string">&quot;fwarn-&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3185"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">unrecognisedWarning</span><span> </span><span class="hs-string">&quot;fno-warn-&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3186"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Werror=compat&quot;</span><span>
</span><span id="line-3187"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">setWErrorFlag</span><span> </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3188"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wno-error=compat&quot;</span><span>
</span><span id="line-3189"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3190"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;Wwarn=compat&quot;</span><span>
</span><span id="line-3191"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3192"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;f&quot;</span><span>         </span><span class="hs-identifier">setExtensionFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">fLangFlagsDeps</span><span>
</span><span id="line-3193"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;fno-&quot;</span><span>      </span><span class="hs-identifier">unSetExtensionFlag</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">fLangFlagsDeps</span><span>
</span><span id="line-3194"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;X&quot;</span><span>         </span><span class="hs-identifier">setExtensionFlag</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">xFlagsDeps</span><span>
</span><span id="line-3195"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-string">&quot;XNo&quot;</span><span>       </span><span class="hs-identifier">unSetExtensionFlag</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">xFlagsDeps</span><span>
</span><span id="line-3196"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;X&quot;</span><span>         </span><span class="hs-identifier">setLanguage</span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">languageFlagsDeps</span><span>
</span><span id="line-3197"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-string">&quot;X&quot;</span><span>         </span><span class="hs-identifier">setSafeHaskell</span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">safeHaskellFlagsDeps</span><span>
</span><span id="line-3198"></span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;XGenerics&quot;</span><span>
</span><span id="line-3199"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3200"></span><span>                  </span><span class="hs-special">(</span><span class="hs-string">&quot;it does nothing; look into -XDefaultSignatures &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3201"></span><span>                   </span><span class="hs-string">&quot;and -XDeriveGeneric for generic programming support.&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-3202"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;XNoGenerics&quot;</span><span>
</span><span id="line-3203"></span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3204"></span><span>               </span><span class="hs-special">(</span><span class="hs-string">&quot;it does nothing; look into -XDefaultSignatures and &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3205"></span><span>                  </span><span class="hs-string">&quot;-XDeriveGeneric for generic programming support.&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3206"></span><span>
</span><span id="line-3207"></span><span class="hs-comment">-- | This is where we handle unrecognised warning flags. We only issue a warning</span><span>
</span><span id="line-3208"></span><span class="hs-comment">-- if -Wunrecognised-warning-flags is set. See #11429 for context.</span><span>
</span><span id="line-3209"></span><span class="hs-identifier">unrecognisedWarning</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-3210"></span><span class="annot"><a href="GHC.Driver.Session.html#unrecognisedWarning"><span class="hs-identifier hs-type">unrecognisedWarning</span></a></span><span> </span><span class="hs-identifier">prefix</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">defHiddenFlag</span><span> </span><span class="hs-identifier">prefix</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Prefix</span><span> </span><span class="hs-identifier">action</span><span class="hs-special">)</span><span>
</span><span id="line-3211"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3212"></span><span>    </span><span class="hs-identifier">action</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">EwM</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3213"></span><span>    </span><span class="hs-identifier">action</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3214"></span><span>      </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">wopt</span><span> </span><span class="hs-identifier">Opt_WarnUnrecognisedWarningFlags</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-identifier">getCmdLineState</span><span>
</span><span id="line-3215"></span><span>      </span><span class="hs-identifier">when</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">addFlagWarn</span><span> </span><span class="hs-identifier">Cmd.ReasonUnrecognisedFlag</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-3216"></span><span>        </span><span class="hs-string">&quot;unrecognised warning flag: -&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">prefix</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3217"></span><span>
</span><span id="line-3218"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3219"></span><span class="hs-identifier">package_flags_deps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3220"></span><span class="annot"><a href="GHC.Driver.Session.html#package_flags_deps"><span class="hs-identifier hs-type">package_flags_deps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3221"></span><span>        </span><span class="hs-comment">------- Packages ----------------------------------------------------</span><span>
</span><span id="line-3222"></span><span>    </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;package-db&quot;</span><span>
</span><span id="line-3223"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">PkgDbPath</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3224"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;clear-package-db&quot;</span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">clearPkgDb</span><span class="hs-special">)</span><span>
</span><span id="line-3225"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;no-global-package-db&quot;</span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">removeGlobalPkgDb</span><span class="hs-special">)</span><span>
</span><span id="line-3226"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;no-user-package-db&quot;</span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">removeUserPkgDb</span><span class="hs-special">)</span><span>
</span><span id="line-3227"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;global-package-db&quot;</span><span>
</span><span id="line-3228"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-identifier">GlobalPkgDb</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3229"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;user-package-db&quot;</span><span>
</span><span id="line-3230"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-identifier">UserPkgDb</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3231"></span><span>    </span><span class="hs-comment">-- backwards compat with GHC&lt;=7.4 :</span><span>
</span><span id="line-3232"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;package-conf&quot;</span><span>
</span><span id="line-3233"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">PkgDbPath</span><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;Use -package-db instead&quot;</span><span>
</span><span id="line-3234"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;no-user-package-conf&quot;</span><span>
</span><span id="line-3235"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-identifier">removeUserPkgDb</span><span class="hs-special">)</span><span>              </span><span class="hs-string">&quot;Use -no-user-package-db instead&quot;</span><span>
</span><span id="line-3236"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;package-name&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">name</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3237"></span><span>                                      </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setUnitId</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3238"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defGhcFlag</span><span> </span><span class="hs-string">&quot;this-unit-id&quot;</span><span>       </span><span class="hs-special">(</span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-identifier">setUnitId</span><span class="hs-special">)</span><span>
</span><span id="line-3239"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;package&quot;</span><span>               </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">exposePackage</span><span class="hs-special">)</span><span>
</span><span id="line-3240"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;plugin-package-id&quot;</span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">exposePluginPackageId</span><span class="hs-special">)</span><span>
</span><span id="line-3241"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;plugin-package&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">exposePluginPackage</span><span class="hs-special">)</span><span>
</span><span id="line-3242"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;package-id&quot;</span><span>            </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">exposePackageId</span><span class="hs-special">)</span><span>
</span><span id="line-3243"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;hide-package&quot;</span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">hidePackage</span><span class="hs-special">)</span><span>
</span><span id="line-3244"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;hide-all-packages&quot;</span><span>
</span><span id="line-3245"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_HideAllPackages</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3246"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;hide-all-plugin-packages&quot;</span><span>
</span><span id="line-3247"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_HideAllPluginPackages</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3248"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;package-env&quot;</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">setPackageEnv</span><span class="hs-special">)</span><span>
</span><span id="line-3249"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;ignore-package&quot;</span><span>        </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">ignorePackage</span><span class="hs-special">)</span><span>
</span><span id="line-3250"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_dep_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;syslib&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">exposePackage</span><span class="hs-special">)</span><span> </span><span class="hs-string">&quot;Use -package instead&quot;</span><span>
</span><span id="line-3251"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;distrust-all-packages&quot;</span><span>
</span><span id="line-3252"></span><span>      </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_DistrustAllPackages</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3253"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;trust&quot;</span><span>                 </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">trustPackage</span><span class="hs-special">)</span><span>
</span><span id="line-3254"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">make_ord_flag</span><span> </span><span class="hs-identifier">defFlag</span><span> </span><span class="hs-string">&quot;distrust&quot;</span><span>              </span><span class="hs-special">(</span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-identifier">distrustPackage</span><span class="hs-special">)</span><span>
</span><span id="line-3255"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3256"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3257"></span><span>    </span><span class="hs-identifier">setPackageEnv</span><span> </span><span class="hs-identifier">env</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageEnv</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">env</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3258"></span><span>
</span><span id="line-3259"></span><span class="hs-comment">-- | Make a list of flags for shell completion.</span><span>
</span><span id="line-3260"></span><span class="hs-comment">-- Filter all available flags into two groups, for interactive GHC vs all other.</span><span>
</span><span id="line-3261"></span><span class="hs-identifier">flagsForCompletion</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-3262"></span><span class="annot"><a href="GHC.Driver.Session.html#flagsForCompletion"><span class="hs-identifier hs-type">flagsForCompletion</span></a></span><span> </span><span class="hs-identifier">isInteractive</span><span>
</span><span id="line-3263"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><span class="hs-identifier">flagName</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3264"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">flagsAll</span><span>
</span><span id="line-3265"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">modeFilter</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flagGhcMode</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3266"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-3267"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-3268"></span><span>      </span><span class="hs-identifier">modeFilter</span><span> </span><span class="hs-identifier">AllModes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-3269"></span><span>      </span><span class="hs-identifier">modeFilter</span><span> </span><span class="hs-identifier">OnlyGhci</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">isInteractive</span><span>
</span><span id="line-3270"></span><span>      </span><span class="hs-identifier">modeFilter</span><span> </span><span class="hs-identifier">OnlyGhc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-identifier">isInteractive</span><span>
</span><span id="line-3271"></span><span>      </span><span class="hs-identifier">modeFilter</span><span> </span><span class="hs-identifier">HiddenFlag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-3272"></span><span>
</span><span id="line-3273"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Bool</span><span>   </span><span class="hs-comment">-- True  &lt;=&gt; we are turning the flag on</span><span>
</span><span id="line-3274"></span><span>                         </span><span class="hs-comment">-- False &lt;=&gt; we are turning the flag off</span><span>
</span><span id="line-3275"></span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span class="hs-special">;</span><span> </span><span class="hs-identifier">turnOn</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><span id="line-3276"></span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#TurnOnFlag"><span class="hs-identifier hs-type">TurnOnFlag</span></a></span><span class="hs-special">;</span><span> </span><span id="turnOn"></span><span class="hs-identifier">turnOff</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><span id="line-3277"></span><span>
</span><span id="line-3278"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3279"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FlagSpec</span><span>
</span><span id="line-3280"></span><span>       </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span>   </span><span class="hs-comment">-- ^ Flag in string form</span><span>
</span><span id="line-3281"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flagSpecFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">flag</span><span>     </span><span class="hs-comment">-- ^ Flag in internal form</span><span>
</span><span id="line-3282"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flagSpecAction</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3283"></span><span>           </span><span class="hs-comment">-- ^ Extra action to run when the flag is found</span><span>
</span><span id="line-3284"></span><span>           </span><span class="hs-comment">-- Typically, emit a warning or error</span><span>
</span><span id="line-3285"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flagSpecGhcMode</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GhcFlagMode</span><span>
</span><span id="line-3286"></span><span>           </span><span class="hs-comment">-- ^ In which ghc mode the flag has effect</span><span>
</span><span id="line-3287"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-3288"></span><span>
</span><span id="line-3289"></span><span class="hs-comment">-- | Define a new flag.</span><span>
</span><span id="line-3290"></span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3291"></span><span id="local-6989586621680788092"><span class="annot"><a href="GHC.Driver.Session.html#flagSpec"><span class="hs-identifier hs-type">flagSpec</span></a></span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">nop</span></span><span>
</span><span id="line-3292"></span><span>
</span><span id="line-3293"></span><span class="hs-comment">-- | Define a new flag with an effect.</span><span>
</span><span id="line-3294"></span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span id="local-6989586621680788090"></span><span>
</span><span id="line-3295"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3296"></span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NotDeprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">AllModes</span><span class="hs-special">)</span><span>
</span><span id="line-3297"></span><span>
</span><span id="line-3298"></span><span class="hs-comment">-- | Define a new deprecated flag with an effect.</span><span>
</span><span id="line-3299"></span><span class="hs-identifier">depFlagSpecOp</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span id="local-6989586621680788088"></span><span>
</span><span id="line-3300"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3301"></span><span class="hs-identifier">depFlagSpecOp</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3302"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">dep</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3303"></span><span>
</span><span id="line-3304"></span><span class="hs-comment">-- | Define a new deprecated flag.</span><span>
</span><span id="line-3305"></span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span id="local-6989586621680788086"></span><span>
</span><span id="line-3306"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3307"></span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">depFlagSpecOp</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">nop</span><span> </span><span class="hs-identifier">dep</span><span>
</span><span id="line-3308"></span><span>
</span><span id="line-3309"></span><span class="hs-comment">-- | Define a new deprecated flag with an effect where the deprecation message</span><span>
</span><span id="line-3310"></span><span class="hs-comment">-- depends on the flag value</span><span>
</span><span id="line-3311"></span><span class="hs-identifier">depFlagSpecOp'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span id="local-6989586621680788084"></span><span>
</span><span id="line-3312"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3313"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3314"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">)</span><span>
</span><span id="line-3315"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3316"></span><span class="hs-identifier">depFlagSpecOp'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3317"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3318"></span><span>                                                                       </span><span class="hs-identifier">AllModes</span><span class="hs-special">)</span><span>
</span><span id="line-3319"></span><span>
</span><span id="line-3320"></span><span class="hs-comment">-- | Define a new deprecated flag where the deprecation message</span><span>
</span><span id="line-3321"></span><span class="hs-comment">-- depends on the flag value</span><span>
</span><span id="line-3322"></span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span id="local-6989586621680788082"></span><span>
</span><span id="line-3323"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3324"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">)</span><span>
</span><span id="line-3325"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3326"></span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">depFlagSpecOp'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">nop</span><span> </span><span class="hs-identifier">dep</span><span>
</span><span id="line-3327"></span><span>
</span><span id="line-3328"></span><span>
</span><span id="line-3329"></span><span class="hs-comment">-- | Define a new deprecated flag where the deprecation message</span><span>
</span><span id="line-3330"></span><span class="hs-comment">-- is shown depending on the flag value</span><span>
</span><span id="line-3331"></span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span id="local-6989586621680788080"></span><span>
</span><span id="line-3332"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3333"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">)</span><span>
</span><span id="line-3334"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-3335"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3336"></span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">cond</span><span> </span><span class="hs-identifier">dep</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3337"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">Deprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">when</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">cond</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">deprecate</span><span> </span><span class="hs-identifier">dep</span><span class="hs-special">)</span><span>
</span><span id="line-3338"></span><span>                                                                       </span><span class="hs-identifier">AllModes</span><span class="hs-special">)</span><span>
</span><span id="line-3339"></span><span>
</span><span id="line-3340"></span><span class="hs-comment">-- | Define a new flag for GHCi.</span><span>
</span><span id="line-3341"></span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3342"></span><span id="local-6989586621680785082"><span class="annot"><a href="GHC.Driver.Session.html#flagGhciSpec"><span class="hs-identifier hs-type">flagGhciSpec</span></a></span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagGhciSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">nop</span></span><span>
</span><span id="line-3343"></span><span>
</span><span id="line-3344"></span><span class="hs-comment">-- | Define a new flag for GHCi with an effect.</span><span>
</span><span id="line-3345"></span><span class="hs-identifier">flagGhciSpec'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span id="local-6989586621680785077"></span><span>
</span><span id="line-3346"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3347"></span><span class="hs-identifier">flagGhciSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NotDeprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-identifier">OnlyGhci</span><span class="hs-special">)</span><span>
</span><span id="line-3348"></span><span>
</span><span id="line-3349"></span><span class="hs-comment">-- | Define a new flag invisible to CLI completion.</span><span>
</span><span id="line-3350"></span><span class="hs-identifier">flagHiddenSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3351"></span><span id="local-6989586621680785073"><span class="annot"><a href="GHC.Driver.Session.html#flagHiddenSpec"><span class="hs-identifier hs-type">flagHiddenSpec</span></a></span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagHiddenSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">nop</span></span><span>
</span><span id="line-3352"></span><span>
</span><span id="line-3353"></span><span class="hs-comment">-- | Define a new flag invisible to CLI completion with an effect.</span><span>
</span><span id="line-3354"></span><span class="hs-identifier">flagHiddenSpec'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span id="local-6989586621680785068"></span><span>
</span><span id="line-3355"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>
</span><span id="line-3356"></span><span class="hs-identifier">flagHiddenSpec'</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NotDeprecated</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">act</span><span>
</span><span id="line-3357"></span><span>                                                                     </span><span class="hs-identifier">HiddenFlag</span><span class="hs-special">)</span><span>
</span><span id="line-3358"></span><span>
</span><span id="line-3359"></span><span class="hs-comment">-- | Hide a 'FlagSpec' from being displayed in @--show-options@.</span><span>
</span><span id="line-3360"></span><span class="hs-comment">--</span><span>
</span><span id="line-3361"></span><span class="hs-comment">-- This is for example useful for flags that are obsolete, but should not</span><span>
</span><span id="line-3362"></span><span class="hs-comment">-- (yet) be deprecated for compatibility reasons.</span><span>
</span><span id="line-3363"></span><span class="hs-identifier">hideFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span>
</span><span id="line-3364"></span><span id="local-6989586621680788100"><span class="annot"><a href="GHC.Driver.Session.html#hideFlag"><span class="hs-identifier hs-type">hideFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dep</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fs</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dep</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">fs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">flagSpecGhcMode</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HiddenFlag</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span></span><span>
</span><span id="line-3365"></span><span>
</span><span id="line-3366"></span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span>            </span><span class="hs-comment">-- ^ True &lt;=&gt; it should be turned on</span><span id="local-6989586621680788101"></span><span>
</span><span id="line-3367"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>                </span><span class="hs-comment">-- ^ The flag prefix</span><span>
</span><span id="line-3368"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- ^ What to do when the flag is found</span><span>
</span><span id="line-3369"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ Specification of</span><span>
</span><span id="line-3370"></span><span>                                        </span><span class="hs-comment">-- this particular flag</span><span>
</span><span id="line-3371"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3372"></span><span class="hs-identifier">mkFlag</span><span> </span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-identifier">flagPrefix</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dep</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">extra_action</span><span> </span><span class="hs-identifier">mode</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3373"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">dep</span><span class="hs-special">,</span><span>
</span><span id="line-3374"></span><span>       </span><span class="hs-identifier">Flag</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flagPrefix</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">extra_action</span><span> </span><span class="hs-identifier">turn_on</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">mode</span><span class="hs-special">)</span><span>
</span><span id="line-3375"></span><span>
</span><span id="line-3376"></span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-3377"></span><span class="annot"><a href="GHC.Driver.Session.html#deprecatedForExtension"><span class="hs-identifier hs-type">deprecatedForExtension</span></a></span><span> </span><span class="hs-identifier">lang</span><span> </span><span class="hs-identifier">turn_on</span><span>
</span><span id="line-3378"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;use -X&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3379"></span><span>      </span><span class="hs-string">&quot; or pragma {-# LANGUAGE &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; #-} instead&quot;</span><span>
</span><span id="line-3380"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-3381"></span><span>      </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">turn_on</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lang</span><span>
</span><span id="line-3382"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;No&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">lang</span><span>
</span><span id="line-3383"></span><span>
</span><span id="line-3384"></span><span class="hs-identifier">useInstead</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-3385"></span><span class="annot"><a href="GHC.Driver.Session.html#useInstead"><span class="hs-identifier hs-type">useInstead</span></a></span><span> </span><span class="hs-identifier">prefix</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">turn_on</span><span>
</span><span id="line-3386"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Use &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">prefix</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">no</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; instead&quot;</span><span>
</span><span id="line-3387"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3388"></span><span>    </span><span class="hs-identifier">no</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-string">&quot;no-&quot;</span><span>
</span><span id="line-3389"></span><span>
</span><span id="line-3390"></span><span class="hs-identifier">nop</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3391"></span><span class="annot"><a href="GHC.Driver.Session.html#nop"><span class="hs-identifier hs-type">nop</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3392"></span><span>
</span><span id="line-3393"></span><span class="hs-comment">-- | Find the 'FlagSpec' for a 'WarningFlag'.</span><span>
</span><span id="line-3394"></span><span class="hs-identifier">flagSpecOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">WarningFlag</span><span class="hs-special">)</span><span>
</span><span id="line-3395"></span><span class="annot"><a href="GHC.Driver.Session.html#flagSpecOf"><span class="hs-identifier hs-type">flagSpecOf</span></a></span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">listToMaybe</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">filter</span><span> </span><span class="hs-identifier">check</span><span> </span><span class="hs-identifier">wWarningFlags</span><span>
</span><span id="line-3396"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3397"></span><span>    </span><span class="hs-identifier">check</span><span> </span><span class="hs-identifier">fs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagSpecFlag</span><span> </span><span class="hs-identifier">fs</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3398"></span><span>
</span><span id="line-3399"></span><span class="hs-comment">-- | These @-W\&lt;blah\&gt;@ flags can all be reversed with @-Wno-\&lt;blah\&gt;@</span><span>
</span><span id="line-3400"></span><span class="hs-identifier">wWarningFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-3401"></span><span class="annot"><a href="GHC.Driver.Session.html#wWarningFlags"><span class="hs-identifier hs-type">wWarningFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">sortBy</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">comparing</span><span> </span><span class="hs-identifier">fst</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">wWarningFlagsDeps</span><span class="hs-special">)</span><span>
</span><span id="line-3402"></span><span>
</span><span id="line-3403"></span><span class="hs-identifier">wWarningFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">WarningFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3404"></span><span class="annot"><a href="GHC.Driver.Session.html#wWarningFlagsDeps"><span class="hs-identifier hs-type">wWarningFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3405"></span><span id="wWarningFlagsDeps"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3406"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3407"></span><span class="hs-comment">-- Please keep the list of flags below sorted alphabetically</span><span>
</span><span id="line-3408"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;alternative-layout-rule-transitional&quot;</span><span>
</span><span id="line-3409"></span><span>                                      </span><span class="hs-identifier">Opt_WarnAlternativeLayoutRuleTransitional</span><span class="hs-special">,</span><span>
</span><span id="line-3410"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;auto-orphans&quot;</span><span>             </span><span class="hs-identifier">Opt_WarnAutoOrphans</span><span>
</span><span id="line-3411"></span><span>    </span><span class="hs-string">&quot;it has no effect&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3412"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cpp-undef&quot;</span><span>                   </span><span class="hs-identifier">Opt_WarnCPPUndef</span><span class="hs-special">,</span><span>
</span><span id="line-3413"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unbanged-strict-patterns&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnUnbangedStrictPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3414"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deferred-type-errors&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnDeferredTypeErrors</span><span class="hs-special">,</span><span>
</span><span id="line-3415"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deferred-out-of-scope-variables&quot;</span><span>
</span><span id="line-3416"></span><span>                                         </span><span class="hs-identifier">Opt_WarnDeferredOutOfScopeVariables</span><span class="hs-special">,</span><span>
</span><span id="line-3417"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deprecations&quot;</span><span>                </span><span class="hs-identifier">Opt_WarnWarningsDeprecations</span><span class="hs-special">,</span><span>
</span><span id="line-3418"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deprecated-flags&quot;</span><span>            </span><span class="hs-identifier">Opt_WarnDeprecatedFlags</span><span class="hs-special">,</span><span>
</span><span id="line-3419"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deriving-defaults&quot;</span><span>           </span><span class="hs-identifier">Opt_WarnDerivingDefaults</span><span class="hs-special">,</span><span>
</span><span id="line-3420"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;deriving-typeable&quot;</span><span>           </span><span class="hs-identifier">Opt_WarnDerivingTypeable</span><span class="hs-special">,</span><span>
</span><span id="line-3421"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dodgy-exports&quot;</span><span>               </span><span class="hs-identifier">Opt_WarnDodgyExports</span><span class="hs-special">,</span><span>
</span><span id="line-3422"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dodgy-foreign-imports&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnDodgyForeignImports</span><span class="hs-special">,</span><span>
</span><span id="line-3423"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dodgy-imports&quot;</span><span>               </span><span class="hs-identifier">Opt_WarnDodgyImports</span><span class="hs-special">,</span><span>
</span><span id="line-3424"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;empty-enumerations&quot;</span><span>          </span><span class="hs-identifier">Opt_WarnEmptyEnumerations</span><span class="hs-special">,</span><span>
</span><span id="line-3425"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;duplicate-constraints&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnDuplicateConstraints</span><span>
</span><span id="line-3426"></span><span>    </span><span class="hs-string">&quot;it is subsumed by -Wredundant-constraints&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3427"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;redundant-constraints&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnRedundantConstraints</span><span class="hs-special">,</span><span>
</span><span id="line-3428"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;duplicate-exports&quot;</span><span>           </span><span class="hs-identifier">Opt_WarnDuplicateExports</span><span class="hs-special">,</span><span>
</span><span id="line-3429"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;hi-shadowing&quot;</span><span>                </span><span class="hs-identifier">Opt_WarnHiShadows</span><span>
</span><span id="line-3430"></span><span>    </span><span class="hs-string">&quot;it is not used, and was never implemented&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3431"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;inaccessible-code&quot;</span><span>           </span><span class="hs-identifier">Opt_WarnInaccessibleCode</span><span class="hs-special">,</span><span>
</span><span id="line-3432"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;implicit-prelude&quot;</span><span>            </span><span class="hs-identifier">Opt_WarnImplicitPrelude</span><span class="hs-special">,</span><span>
</span><span id="line-3433"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;implicit-kind-vars&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnImplicitKindVars</span><span>
</span><span id="line-3434"></span><span>    </span><span class="hs-string">&quot;it is now an error&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3435"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;incomplete-patterns&quot;</span><span>         </span><span class="hs-identifier">Opt_WarnIncompletePatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3436"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;incomplete-record-updates&quot;</span><span>   </span><span class="hs-identifier">Opt_WarnIncompletePatternsRecUpd</span><span class="hs-special">,</span><span>
</span><span id="line-3437"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;incomplete-uni-patterns&quot;</span><span>     </span><span class="hs-identifier">Opt_WarnIncompleteUniPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3438"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;inline-rule-shadowing&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnInlineRuleShadowing</span><span class="hs-special">,</span><span>
</span><span id="line-3439"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;identities&quot;</span><span>                  </span><span class="hs-identifier">Opt_WarnIdentities</span><span class="hs-special">,</span><span>
</span><span id="line-3440"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-fields&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnMissingFields</span><span class="hs-special">,</span><span>
</span><span id="line-3441"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-import-lists&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnMissingImportList</span><span class="hs-special">,</span><span>
</span><span id="line-3442"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-export-lists&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnMissingExportList</span><span class="hs-special">,</span><span>
</span><span id="line-3443"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;missing-local-sigs&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnMissingLocalSignatures</span><span>
</span><span id="line-3444"></span><span>    </span><span class="hs-string">&quot;it is replaced by -Wmissing-local-signatures&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3445"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-local-signatures&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnMissingLocalSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3446"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-methods&quot;</span><span>             </span><span class="hs-identifier">Opt_WarnMissingMethods</span><span class="hs-special">,</span><span>
</span><span id="line-3447"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-monadfail-instances&quot;</span><span> </span><span class="hs-identifier">Opt_WarnMissingMonadFailInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3448"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;semigroup&quot;</span><span>                   </span><span class="hs-identifier">Opt_WarnSemigroup</span><span class="hs-special">,</span><span>
</span><span id="line-3449"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-signatures&quot;</span><span>          </span><span class="hs-identifier">Opt_WarnMissingSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3450"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;missing-exported-sigs&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnMissingExportedSignatures</span><span>
</span><span id="line-3451"></span><span>    </span><span class="hs-string">&quot;it is replaced by -Wmissing-exported-signatures&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3452"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-exported-signatures&quot;</span><span> </span><span class="hs-identifier">Opt_WarnMissingExportedSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3453"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;monomorphism-restriction&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnMonomorphism</span><span class="hs-special">,</span><span>
</span><span id="line-3454"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;name-shadowing&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnNameShadowing</span><span class="hs-special">,</span><span>
</span><span id="line-3455"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;noncanonical-monad-instances&quot;</span><span>
</span><span id="line-3456"></span><span>                                         </span><span class="hs-identifier">Opt_WarnNonCanonicalMonadInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3457"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;noncanonical-monadfail-instances&quot;</span><span>
</span><span id="line-3458"></span><span>                                         </span><span class="hs-identifier">Opt_WarnNonCanonicalMonadInstances</span><span>
</span><span id="line-3459"></span><span>    </span><span class="hs-string">&quot;fail is no longer a method of Monad&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3460"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;noncanonical-monoid-instances&quot;</span><span>
</span><span id="line-3461"></span><span>                                         </span><span class="hs-identifier">Opt_WarnNonCanonicalMonoidInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3462"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;orphans&quot;</span><span>                     </span><span class="hs-identifier">Opt_WarnOrphans</span><span class="hs-special">,</span><span>
</span><span id="line-3463"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;overflowed-literals&quot;</span><span>         </span><span class="hs-identifier">Opt_WarnOverflowedLiterals</span><span class="hs-special">,</span><span>
</span><span id="line-3464"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;overlapping-patterns&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnOverlappingPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3465"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missed-specialisations&quot;</span><span>      </span><span class="hs-identifier">Opt_WarnMissedSpecs</span><span class="hs-special">,</span><span>
</span><span id="line-3466"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missed-specializations&quot;</span><span>      </span><span class="hs-identifier">Opt_WarnMissedSpecs</span><span class="hs-special">,</span><span>
</span><span id="line-3467"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;all-missed-specialisations&quot;</span><span>  </span><span class="hs-identifier">Opt_WarnAllMissedSpecs</span><span class="hs-special">,</span><span>
</span><span id="line-3468"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;all-missed-specializations&quot;</span><span>  </span><span class="hs-identifier">Opt_WarnAllMissedSpecs</span><span class="hs-special">,</span><span>
</span><span id="line-3469"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;safe&quot;</span><span>                       </span><span class="hs-identifier">Opt_WarnSafe</span><span> </span><span class="hs-identifier">setWarnSafe</span><span class="hs-special">,</span><span>
</span><span id="line-3470"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;trustworthy-safe&quot;</span><span>            </span><span class="hs-identifier">Opt_WarnTrustworthySafe</span><span class="hs-special">,</span><span>
</span><span id="line-3471"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;inferred-safe-imports&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnInferredSafeImports</span><span class="hs-special">,</span><span>
</span><span id="line-3472"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-safe-haskell-mode&quot;</span><span>   </span><span class="hs-identifier">Opt_WarnMissingSafeHaskellMode</span><span class="hs-special">,</span><span>
</span><span id="line-3473"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;tabs&quot;</span><span>                        </span><span class="hs-identifier">Opt_WarnTabs</span><span class="hs-special">,</span><span>
</span><span id="line-3474"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;type-defaults&quot;</span><span>               </span><span class="hs-identifier">Opt_WarnTypeDefaults</span><span class="hs-special">,</span><span>
</span><span id="line-3475"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;typed-holes&quot;</span><span>                 </span><span class="hs-identifier">Opt_WarnTypedHoles</span><span class="hs-special">,</span><span>
</span><span id="line-3476"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;partial-type-signatures&quot;</span><span>     </span><span class="hs-identifier">Opt_WarnPartialTypeSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3477"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unrecognised-pragmas&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnUnrecognisedPragmas</span><span class="hs-special">,</span><span>
</span><span id="line-3478"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;unsafe&quot;</span><span>                     </span><span class="hs-identifier">Opt_WarnUnsafe</span><span> </span><span class="hs-identifier">setWarnUnsafe</span><span class="hs-special">,</span><span>
</span><span id="line-3479"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unsupported-calling-conventions&quot;</span><span>
</span><span id="line-3480"></span><span>                                         </span><span class="hs-identifier">Opt_WarnUnsupportedCallingConventions</span><span class="hs-special">,</span><span>
</span><span id="line-3481"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unsupported-llvm-version&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnUnsupportedLlvmVersion</span><span class="hs-special">,</span><span>
</span><span id="line-3482"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missed-extra-shared-lib&quot;</span><span>     </span><span class="hs-identifier">Opt_WarnMissedExtraSharedLib</span><span class="hs-special">,</span><span>
</span><span id="line-3483"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unticked-promoted-constructors&quot;</span><span>
</span><span id="line-3484"></span><span>                                         </span><span class="hs-identifier">Opt_WarnUntickedPromotedConstructors</span><span class="hs-special">,</span><span>
</span><span id="line-3485"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-do-bind&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnUnusedDoBind</span><span class="hs-special">,</span><span>
</span><span id="line-3486"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-foralls&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnUnusedForalls</span><span class="hs-special">,</span><span>
</span><span id="line-3487"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-imports&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnUnusedImports</span><span class="hs-special">,</span><span>
</span><span id="line-3488"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-local-binds&quot;</span><span>          </span><span class="hs-identifier">Opt_WarnUnusedLocalBinds</span><span class="hs-special">,</span><span>
</span><span id="line-3489"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-matches&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnUnusedMatches</span><span class="hs-special">,</span><span>
</span><span id="line-3490"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-pattern-binds&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnUnusedPatternBinds</span><span class="hs-special">,</span><span>
</span><span id="line-3491"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-top-binds&quot;</span><span>            </span><span class="hs-identifier">Opt_WarnUnusedTopBinds</span><span class="hs-special">,</span><span>
</span><span id="line-3492"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-type-patterns&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnUnusedTypePatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3493"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-record-wildcards&quot;</span><span>     </span><span class="hs-identifier">Opt_WarnUnusedRecordWildcards</span><span class="hs-special">,</span><span>
</span><span id="line-3494"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;redundant-record-wildcards&quot;</span><span>  </span><span class="hs-identifier">Opt_WarnRedundantRecordWildcards</span><span class="hs-special">,</span><span>
</span><span id="line-3495"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;warnings-deprecations&quot;</span><span>       </span><span class="hs-identifier">Opt_WarnWarningsDeprecations</span><span class="hs-special">,</span><span>
</span><span id="line-3496"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;wrong-do-bind&quot;</span><span>               </span><span class="hs-identifier">Opt_WarnWrongDoBind</span><span class="hs-special">,</span><span>
</span><span id="line-3497"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-pattern-synonym-signatures&quot;</span><span>
</span><span id="line-3498"></span><span>                                    </span><span class="hs-identifier">Opt_WarnMissingPatternSynonymSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3499"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-deriving-strategies&quot;</span><span> </span><span class="hs-identifier">Opt_WarnMissingDerivingStrategies</span><span class="hs-special">,</span><span>
</span><span id="line-3500"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;simplifiable-class-constraints&quot;</span><span> </span><span class="hs-identifier">Opt_WarnSimplifiableClassConstraints</span><span class="hs-special">,</span><span>
</span><span id="line-3501"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;missing-home-modules&quot;</span><span>        </span><span class="hs-identifier">Opt_WarnMissingHomeModules</span><span class="hs-special">,</span><span>
</span><span id="line-3502"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unrecognised-warning-flags&quot;</span><span>  </span><span class="hs-identifier">Opt_WarnUnrecognisedWarningFlags</span><span class="hs-special">,</span><span>
</span><span id="line-3503"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;star-binder&quot;</span><span>                 </span><span class="hs-identifier">Opt_WarnStarBinder</span><span class="hs-special">,</span><span>
</span><span id="line-3504"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;star-is-type&quot;</span><span>                </span><span class="hs-identifier">Opt_WarnStarIsType</span><span class="hs-special">,</span><span>
</span><span id="line-3505"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;missing-space-after-bang&quot;</span><span> </span><span class="hs-identifier">Opt_WarnSpaceAfterBang</span><span>
</span><span id="line-3506"></span><span>    </span><span class="hs-string">&quot;bang patterns can no longer be written with a space&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3507"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;partial-fields&quot;</span><span>              </span><span class="hs-identifier">Opt_WarnPartialFields</span><span class="hs-special">,</span><span>
</span><span id="line-3508"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;prepositive-qualified-module&quot;</span><span>
</span><span id="line-3509"></span><span>                                         </span><span class="hs-identifier">Opt_WarnPrepositiveQualifiedModule</span><span class="hs-special">,</span><span>
</span><span id="line-3510"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unused-packages&quot;</span><span>             </span><span class="hs-identifier">Opt_WarnUnusedPackages</span><span class="hs-special">,</span><span>
</span><span id="line-3511"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;compat-unqualified-imports&quot;</span><span>  </span><span class="hs-identifier">Opt_WarnCompatUnqualifiedImports</span><span class="hs-special">,</span><span>
</span><span id="line-3512"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;invalid-haddock&quot;</span><span>             </span><span class="hs-identifier">Opt_WarnInvalidHaddock</span><span class="hs-special">,</span><span>
</span><span id="line-3513"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unicode-bidirectional-format-characters&quot;</span><span>    </span><span class="hs-identifier">Opt_WarnUnicodeBidirectionalFormatCharacters</span><span>
</span><span id="line-3514"></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3515"></span><span>
</span><span id="line-3516"></span><span class="hs-comment">-- | These @-\&lt;blah\&gt;@ flags can all be reversed with @-no-\&lt;blah\&gt;@</span><span>
</span><span id="line-3517"></span><span class="hs-identifier">negatableFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3518"></span><span class="annot"><a href="GHC.Driver.Session.html#negatableFlagsDeps"><span class="hs-identifier hs-type">negatableFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3519"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;ignore-dot-ghci&quot;</span><span>         </span><span class="hs-identifier">Opt_IgnoreDotGhci</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3520"></span><span>
</span><span id="line-3521"></span><span class="hs-comment">-- | These @-d\&lt;blah\&gt;@ flags can all be reversed with @-dno-\&lt;blah\&gt;@</span><span>
</span><span id="line-3522"></span><span class="hs-identifier">dFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3523"></span><span class="annot"><a href="GHC.Driver.Session.html#dFlagsDeps"><span class="hs-identifier hs-type">dFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3524"></span><span id="dFlagsDeps"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3525"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3526"></span><span class="hs-comment">-- Please keep the list of flags below sorted alphabetically</span><span>
</span><span id="line-3527"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ppr-case-as-let&quot;</span><span>            </span><span class="hs-identifier">Opt_PprCaseAsLet</span><span class="hs-special">,</span><span>
</span><span id="line-3528"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;ppr-ticks&quot;</span><span>              </span><span class="hs-identifier">Opt_PprShowTicks</span><span>
</span><span id="line-3529"></span><span>     </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">useInstead</span><span> </span><span class="hs-string">&quot;-d&quot;</span><span> </span><span class="hs-string">&quot;suppress-ticks&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">not</span><span> </span><span class="hs-identifier">turn_on</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3530"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-ticks&quot;</span><span>             </span><span class="hs-identifier">Opt_SuppressTicks</span><span class="hs-special">,</span><span>
</span><span id="line-3531"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;suppress-stg-free-vars&quot;</span><span> </span><span class="hs-identifier">Opt_SuppressStgExts</span><span>
</span><span id="line-3532"></span><span>     </span><span class="hs-special">(</span><span class="hs-identifier">useInstead</span><span> </span><span class="hs-string">&quot;-d&quot;</span><span> </span><span class="hs-string">&quot;suppress-stg-exts&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3533"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-stg-exts&quot;</span><span>          </span><span class="hs-identifier">Opt_SuppressStgExts</span><span class="hs-special">,</span><span>
</span><span id="line-3534"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-coercions&quot;</span><span>         </span><span class="hs-identifier">Opt_SuppressCoercions</span><span class="hs-special">,</span><span>
</span><span id="line-3535"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-idinfo&quot;</span><span>            </span><span class="hs-identifier">Opt_SuppressIdInfo</span><span class="hs-special">,</span><span>
</span><span id="line-3536"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-unfoldings&quot;</span><span>        </span><span class="hs-identifier">Opt_SuppressUnfoldings</span><span class="hs-special">,</span><span>
</span><span id="line-3537"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-module-prefixes&quot;</span><span>   </span><span class="hs-identifier">Opt_SuppressModulePrefixes</span><span class="hs-special">,</span><span>
</span><span id="line-3538"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-timestamps&quot;</span><span>        </span><span class="hs-identifier">Opt_SuppressTimestamps</span><span class="hs-special">,</span><span>
</span><span id="line-3539"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-type-applications&quot;</span><span> </span><span class="hs-identifier">Opt_SuppressTypeApplications</span><span class="hs-special">,</span><span>
</span><span id="line-3540"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-type-signatures&quot;</span><span>   </span><span class="hs-identifier">Opt_SuppressTypeSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3541"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-uniques&quot;</span><span>           </span><span class="hs-identifier">Opt_SuppressUniques</span><span class="hs-special">,</span><span>
</span><span id="line-3542"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;suppress-var-kinds&quot;</span><span>         </span><span class="hs-identifier">Opt_SuppressVarKinds</span><span>
</span><span id="line-3543"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3544"></span><span>
</span><span id="line-3545"></span><span class="hs-comment">-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span><span>
</span><span id="line-3546"></span><span class="hs-identifier">fFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">]</span><span>
</span><span id="line-3547"></span><span class="annot"><a href="GHC.Driver.Session.html#fFlags"><span class="hs-identifier hs-type">fFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">fFlagsDeps</span><span>
</span><span id="line-3548"></span><span>
</span><span id="line-3549"></span><span class="hs-identifier">fFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3550"></span><span class="annot"><a href="GHC.Driver.Session.html#fFlagsDeps"><span class="hs-identifier hs-type">fFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3551"></span><span id="fFlagsDeps"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3552"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3553"></span><span class="hs-comment">-- Please keep the list of flags below sorted alphabetically</span><span>
</span><span id="line-3554"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;asm-shortcutting&quot;</span><span>                 </span><span class="hs-identifier">Opt_AsmShortcutting</span><span class="hs-special">,</span><span>
</span><span id="line-3555"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;break-on-error&quot;</span><span>               </span><span class="hs-identifier">Opt_BreakOnError</span><span class="hs-special">,</span><span>
</span><span id="line-3556"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;break-on-exception&quot;</span><span>           </span><span class="hs-identifier">Opt_BreakOnException</span><span class="hs-special">,</span><span>
</span><span id="line-3557"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;building-cabal-package&quot;</span><span>           </span><span class="hs-identifier">Opt_BuildingCabalPackage</span><span class="hs-special">,</span><span>
</span><span id="line-3558"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;call-arity&quot;</span><span>                       </span><span class="hs-identifier">Opt_CallArity</span><span class="hs-special">,</span><span>
</span><span id="line-3559"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;exitification&quot;</span><span>                    </span><span class="hs-identifier">Opt_Exitification</span><span class="hs-special">,</span><span>
</span><span id="line-3560"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;case-merge&quot;</span><span>                       </span><span class="hs-identifier">Opt_CaseMerge</span><span class="hs-special">,</span><span>
</span><span id="line-3561"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;case-folding&quot;</span><span>                     </span><span class="hs-identifier">Opt_CaseFolding</span><span class="hs-special">,</span><span>
</span><span id="line-3562"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cmm-elim-common-blocks&quot;</span><span>           </span><span class="hs-identifier">Opt_CmmElimCommonBlocks</span><span class="hs-special">,</span><span>
</span><span id="line-3563"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cmm-sink&quot;</span><span>                         </span><span class="hs-identifier">Opt_CmmSink</span><span class="hs-special">,</span><span>
</span><span id="line-3564"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cmm-static-pred&quot;</span><span>                  </span><span class="hs-identifier">Opt_CmmStaticPred</span><span class="hs-special">,</span><span>
</span><span id="line-3565"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cse&quot;</span><span>                              </span><span class="hs-identifier">Opt_CSE</span><span class="hs-special">,</span><span>
</span><span id="line-3566"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;stg-cse&quot;</span><span>                          </span><span class="hs-identifier">Opt_StgCSE</span><span class="hs-special">,</span><span>
</span><span id="line-3567"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;stg-lift-lams&quot;</span><span>                    </span><span class="hs-identifier">Opt_StgLiftLams</span><span class="hs-special">,</span><span>
</span><span id="line-3568"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cpr-anal&quot;</span><span>                         </span><span class="hs-identifier">Opt_CprAnal</span><span class="hs-special">,</span><span>
</span><span id="line-3569"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;defer-diagnostics&quot;</span><span>                </span><span class="hs-identifier">Opt_DeferDiagnostics</span><span class="hs-special">,</span><span>
</span><span id="line-3570"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;defer-type-errors&quot;</span><span>                </span><span class="hs-identifier">Opt_DeferTypeErrors</span><span class="hs-special">,</span><span>
</span><span id="line-3571"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;defer-typed-holes&quot;</span><span>                </span><span class="hs-identifier">Opt_DeferTypedHoles</span><span class="hs-special">,</span><span>
</span><span id="line-3572"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;defer-out-of-scope-variables&quot;</span><span>     </span><span class="hs-identifier">Opt_DeferOutOfScopeVariables</span><span class="hs-special">,</span><span>
</span><span id="line-3573"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;diagnostics-show-caret&quot;</span><span>           </span><span class="hs-identifier">Opt_DiagnosticsShowCaret</span><span class="hs-special">,</span><span>
</span><span id="line-3574"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dicts-cheap&quot;</span><span>                      </span><span class="hs-identifier">Opt_DictsCheap</span><span class="hs-special">,</span><span>
</span><span id="line-3575"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dicts-strict&quot;</span><span>                     </span><span class="hs-identifier">Opt_DictsStrict</span><span class="hs-special">,</span><span>
</span><span id="line-3576"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;dmd-tx-dict-sel&quot;</span><span>                  </span><span class="hs-identifier">Opt_DmdTxDictSel</span><span class="hs-special">,</span><span>
</span><span id="line-3577"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;do-eta-reduction&quot;</span><span>                 </span><span class="hs-identifier">Opt_DoEtaReduction</span><span class="hs-special">,</span><span>
</span><span id="line-3578"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;do-lambda-eta-expansion&quot;</span><span>          </span><span class="hs-identifier">Opt_DoLambdaEtaExpansion</span><span class="hs-special">,</span><span>
</span><span id="line-3579"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;eager-blackholing&quot;</span><span>                </span><span class="hs-identifier">Opt_EagerBlackHoling</span><span class="hs-special">,</span><span>
</span><span id="line-3580"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;embed-manifest&quot;</span><span>                   </span><span class="hs-identifier">Opt_EmbedManifest</span><span class="hs-special">,</span><span>
</span><span id="line-3581"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;enable-rewrite-rules&quot;</span><span>             </span><span class="hs-identifier">Opt_EnableRewriteRules</span><span class="hs-special">,</span><span>
</span><span id="line-3582"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;enable-th-splice-warnings&quot;</span><span>        </span><span class="hs-identifier">Opt_EnableThSpliceWarnings</span><span class="hs-special">,</span><span>
</span><span id="line-3583"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;error-spans&quot;</span><span>                      </span><span class="hs-identifier">Opt_ErrorSpans</span><span class="hs-special">,</span><span>
</span><span id="line-3584"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;excess-precision&quot;</span><span>                 </span><span class="hs-identifier">Opt_ExcessPrecision</span><span class="hs-special">,</span><span>
</span><span id="line-3585"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;expose-all-unfoldings&quot;</span><span>            </span><span class="hs-identifier">Opt_ExposeAllUnfoldings</span><span class="hs-special">,</span><span>
</span><span id="line-3586"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;external-dynamic-refs&quot;</span><span>            </span><span class="hs-identifier">Opt_ExternalDynamicRefs</span><span class="hs-special">,</span><span>
</span><span id="line-3587"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;external-interpreter&quot;</span><span>             </span><span class="hs-identifier">Opt_ExternalInterpreter</span><span class="hs-special">,</span><span>
</span><span id="line-3588"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;flat-cache&quot;</span><span>                       </span><span class="hs-identifier">Opt_FlatCache</span><span class="hs-special">,</span><span>
</span><span id="line-3589"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;float-in&quot;</span><span>                         </span><span class="hs-identifier">Opt_FloatIn</span><span class="hs-special">,</span><span>
</span><span id="line-3590"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;force-recomp&quot;</span><span>                     </span><span class="hs-identifier">Opt_ForceRecomp</span><span class="hs-special">,</span><span>
</span><span id="line-3591"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ignore-optim-changes&quot;</span><span>             </span><span class="hs-identifier">Opt_IgnoreOptimChanges</span><span class="hs-special">,</span><span>
</span><span id="line-3592"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ignore-hpc-changes&quot;</span><span>               </span><span class="hs-identifier">Opt_IgnoreHpcChanges</span><span class="hs-special">,</span><span>
</span><span id="line-3593"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;full-laziness&quot;</span><span>                    </span><span class="hs-identifier">Opt_FullLaziness</span><span class="hs-special">,</span><span>
</span><span id="line-3594"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;fun-to-thunk&quot;</span><span>                     </span><span class="hs-identifier">Opt_FunToThunk</span><span class="hs-special">,</span><span>
</span><span id="line-3595"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;gen-manifest&quot;</span><span>                     </span><span class="hs-identifier">Opt_GenManifest</span><span class="hs-special">,</span><span>
</span><span id="line-3596"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ghci-history&quot;</span><span>                     </span><span class="hs-identifier">Opt_GhciHistory</span><span class="hs-special">,</span><span>
</span><span id="line-3597"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ghci-leak-check&quot;</span><span>                  </span><span class="hs-identifier">Opt_GhciLeakCheck</span><span class="hs-special">,</span><span>
</span><span id="line-3598"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;validate-ide-info&quot;</span><span>                </span><span class="hs-identifier">Opt_ValidateHie</span><span class="hs-special">,</span><span>
</span><span id="line-3599"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;local-ghci-history&quot;</span><span>           </span><span class="hs-identifier">Opt_LocalGhciHistory</span><span class="hs-special">,</span><span>
</span><span id="line-3600"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;no-it&quot;</span><span>                        </span><span class="hs-identifier">Opt_NoIt</span><span class="hs-special">,</span><span>
</span><span id="line-3601"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ghci-sandbox&quot;</span><span>                     </span><span class="hs-identifier">Opt_GhciSandbox</span><span class="hs-special">,</span><span>
</span><span id="line-3602"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;helpful-errors&quot;</span><span>                   </span><span class="hs-identifier">Opt_HelpfulErrors</span><span class="hs-special">,</span><span>
</span><span id="line-3603"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;hpc&quot;</span><span>                              </span><span class="hs-identifier">Opt_Hpc</span><span class="hs-special">,</span><span>
</span><span id="line-3604"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ignore-asserts&quot;</span><span>                   </span><span class="hs-identifier">Opt_IgnoreAsserts</span><span class="hs-special">,</span><span>
</span><span id="line-3605"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ignore-interface-pragmas&quot;</span><span>         </span><span class="hs-identifier">Opt_IgnoreInterfacePragmas</span><span class="hs-special">,</span><span>
</span><span id="line-3606"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;implicit-import-qualified&quot;</span><span>    </span><span class="hs-identifier">Opt_ImplicitImportQualified</span><span class="hs-special">,</span><span>
</span><span id="line-3607"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;irrefutable-tuples&quot;</span><span>               </span><span class="hs-identifier">Opt_IrrefutableTuples</span><span class="hs-special">,</span><span>
</span><span id="line-3608"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;keep-going&quot;</span><span>                       </span><span class="hs-identifier">Opt_KeepGoing</span><span class="hs-special">,</span><span>
</span><span id="line-3609"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;late-dmd-anal&quot;</span><span>                    </span><span class="hs-identifier">Opt_LateDmdAnal</span><span class="hs-special">,</span><span>
</span><span id="line-3610"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;late-specialise&quot;</span><span>                  </span><span class="hs-identifier">Opt_LateSpecialise</span><span class="hs-special">,</span><span>
</span><span id="line-3611"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;liberate-case&quot;</span><span>                    </span><span class="hs-identifier">Opt_LiberateCase</span><span class="hs-special">,</span><span>
</span><span id="line-3612"></span><span>  </span><span class="hs-identifier">flagHiddenSpec</span><span> </span><span class="hs-string">&quot;llvm-tbaa&quot;</span><span>                  </span><span class="hs-identifier">Opt_LlvmTBAA</span><span class="hs-special">,</span><span>
</span><span id="line-3613"></span><span>  </span><span class="hs-identifier">flagHiddenSpec</span><span> </span><span class="hs-string">&quot;llvm-fill-undef-with-garbage&quot;</span><span> </span><span class="hs-identifier">Opt_LlvmFillUndefWithGarbage</span><span class="hs-special">,</span><span>
</span><span id="line-3614"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;loopification&quot;</span><span>                    </span><span class="hs-identifier">Opt_Loopification</span><span class="hs-special">,</span><span>
</span><span id="line-3615"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;block-layout-cfg&quot;</span><span>                 </span><span class="hs-identifier">Opt_CfgBlocklayout</span><span class="hs-special">,</span><span>
</span><span id="line-3616"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;block-layout-weightless&quot;</span><span>          </span><span class="hs-identifier">Opt_WeightlessBlocklayout</span><span class="hs-special">,</span><span>
</span><span id="line-3617"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;omit-interface-pragmas&quot;</span><span>           </span><span class="hs-identifier">Opt_OmitInterfacePragmas</span><span class="hs-special">,</span><span>
</span><span id="line-3618"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;omit-yields&quot;</span><span>                      </span><span class="hs-identifier">Opt_OmitYields</span><span class="hs-special">,</span><span>
</span><span id="line-3619"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;optimal-applicative-do&quot;</span><span>           </span><span class="hs-identifier">Opt_OptimalApplicativeDo</span><span class="hs-special">,</span><span>
</span><span id="line-3620"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;pedantic-bottoms&quot;</span><span>                 </span><span class="hs-identifier">Opt_PedanticBottoms</span><span class="hs-special">,</span><span>
</span><span id="line-3621"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;pre-inlining&quot;</span><span>                     </span><span class="hs-identifier">Opt_SimplPreInlining</span><span class="hs-special">,</span><span>
</span><span id="line-3622"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;print-bind-contents&quot;</span><span>          </span><span class="hs-identifier">Opt_PrintBindContents</span><span class="hs-special">,</span><span>
</span><span id="line-3623"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;print-bind-result&quot;</span><span>            </span><span class="hs-identifier">Opt_PrintBindResult</span><span class="hs-special">,</span><span>
</span><span id="line-3624"></span><span>  </span><span class="hs-identifier">flagGhciSpec</span><span> </span><span class="hs-string">&quot;print-evld-with-show&quot;</span><span>         </span><span class="hs-identifier">Opt_PrintEvldWithShow</span><span class="hs-special">,</span><span>
</span><span id="line-3625"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-explicit-foralls&quot;</span><span>           </span><span class="hs-identifier">Opt_PrintExplicitForalls</span><span class="hs-special">,</span><span>
</span><span id="line-3626"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-explicit-kinds&quot;</span><span>             </span><span class="hs-identifier">Opt_PrintExplicitKinds</span><span class="hs-special">,</span><span>
</span><span id="line-3627"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-explicit-coercions&quot;</span><span>         </span><span class="hs-identifier">Opt_PrintExplicitCoercions</span><span class="hs-special">,</span><span>
</span><span id="line-3628"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-explicit-runtime-reps&quot;</span><span>      </span><span class="hs-identifier">Opt_PrintExplicitRuntimeReps</span><span class="hs-special">,</span><span>
</span><span id="line-3629"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-equality-relations&quot;</span><span>         </span><span class="hs-identifier">Opt_PrintEqualityRelations</span><span class="hs-special">,</span><span>
</span><span id="line-3630"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-axiom-incomps&quot;</span><span>              </span><span class="hs-identifier">Opt_PrintAxiomIncomps</span><span class="hs-special">,</span><span>
</span><span id="line-3631"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-unicode-syntax&quot;</span><span>             </span><span class="hs-identifier">Opt_PrintUnicodeSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-3632"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-expanded-synonyms&quot;</span><span>          </span><span class="hs-identifier">Opt_PrintExpandedSynonyms</span><span class="hs-special">,</span><span>
</span><span id="line-3633"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-potential-instances&quot;</span><span>        </span><span class="hs-identifier">Opt_PrintPotentialInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3634"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;print-typechecker-elaboration&quot;</span><span>    </span><span class="hs-identifier">Opt_PrintTypecheckerElaboration</span><span class="hs-special">,</span><span>
</span><span id="line-3635"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;prof-cafs&quot;</span><span>                        </span><span class="hs-identifier">Opt_AutoSccsOnIndividualCafs</span><span class="hs-special">,</span><span>
</span><span id="line-3636"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;prof-count-entries&quot;</span><span>               </span><span class="hs-identifier">Opt_ProfCountEntries</span><span class="hs-special">,</span><span>
</span><span id="line-3637"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;regs-graph&quot;</span><span>                       </span><span class="hs-identifier">Opt_RegsGraph</span><span class="hs-special">,</span><span>
</span><span id="line-3638"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;regs-iterative&quot;</span><span>                   </span><span class="hs-identifier">Opt_RegsIterative</span><span class="hs-special">,</span><span>
</span><span id="line-3639"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;rewrite-rules&quot;</span><span>                </span><span class="hs-identifier">Opt_EnableRewriteRules</span><span>
</span><span id="line-3640"></span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">useInstead</span><span> </span><span class="hs-string">&quot;-f&quot;</span><span> </span><span class="hs-string">&quot;enable-rewrite-rules&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3641"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;shared-implib&quot;</span><span>                    </span><span class="hs-identifier">Opt_SharedImplib</span><span class="hs-special">,</span><span>
</span><span id="line-3642"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;spec-constr&quot;</span><span>                      </span><span class="hs-identifier">Opt_SpecConstr</span><span class="hs-special">,</span><span>
</span><span id="line-3643"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;spec-constr-keen&quot;</span><span>                 </span><span class="hs-identifier">Opt_SpecConstrKeen</span><span class="hs-special">,</span><span>
</span><span id="line-3644"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;specialise&quot;</span><span>                       </span><span class="hs-identifier">Opt_Specialise</span><span class="hs-special">,</span><span>
</span><span id="line-3645"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;specialize&quot;</span><span>                       </span><span class="hs-identifier">Opt_Specialise</span><span class="hs-special">,</span><span>
</span><span id="line-3646"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;specialise-aggressively&quot;</span><span>          </span><span class="hs-identifier">Opt_SpecialiseAggressively</span><span class="hs-special">,</span><span>
</span><span id="line-3647"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;specialize-aggressively&quot;</span><span>          </span><span class="hs-identifier">Opt_SpecialiseAggressively</span><span class="hs-special">,</span><span>
</span><span id="line-3648"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cross-module-specialise&quot;</span><span>          </span><span class="hs-identifier">Opt_CrossModuleSpecialise</span><span class="hs-special">,</span><span>
</span><span id="line-3649"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;cross-module-specialize&quot;</span><span>          </span><span class="hs-identifier">Opt_CrossModuleSpecialise</span><span class="hs-special">,</span><span>
</span><span id="line-3650"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;static-argument-transformation&quot;</span><span>   </span><span class="hs-identifier">Opt_StaticArgumentTransformation</span><span class="hs-special">,</span><span>
</span><span id="line-3651"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;strictness&quot;</span><span>                       </span><span class="hs-identifier">Opt_Strictness</span><span class="hs-special">,</span><span>
</span><span id="line-3652"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;use-rpaths&quot;</span><span>                       </span><span class="hs-identifier">Opt_RPath</span><span class="hs-special">,</span><span>
</span><span id="line-3653"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;write-interface&quot;</span><span>                  </span><span class="hs-identifier">Opt_WriteInterface</span><span class="hs-special">,</span><span>
</span><span id="line-3654"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;write-ide-info&quot;</span><span>                   </span><span class="hs-identifier">Opt_WriteHie</span><span class="hs-special">,</span><span>
</span><span id="line-3655"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unbox-small-strict-fields&quot;</span><span>        </span><span class="hs-identifier">Opt_UnboxSmallStrictFields</span><span class="hs-special">,</span><span>
</span><span id="line-3656"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unbox-strict-fields&quot;</span><span>              </span><span class="hs-identifier">Opt_UnboxStrictFields</span><span class="hs-special">,</span><span>
</span><span id="line-3657"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;version-macros&quot;</span><span>                   </span><span class="hs-identifier">Opt_VersionMacros</span><span class="hs-special">,</span><span>
</span><span id="line-3658"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;worker-wrapper&quot;</span><span>                   </span><span class="hs-identifier">Opt_WorkerWrapper</span><span class="hs-special">,</span><span>
</span><span id="line-3659"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;solve-constant-dicts&quot;</span><span>             </span><span class="hs-identifier">Opt_SolveConstantDicts</span><span class="hs-special">,</span><span>
</span><span id="line-3660"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;catch-bottoms&quot;</span><span>                    </span><span class="hs-identifier">Opt_CatchBottoms</span><span class="hs-special">,</span><span>
</span><span id="line-3661"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;alignment-sanitisation&quot;</span><span>           </span><span class="hs-identifier">Opt_AlignmentSanitisation</span><span class="hs-special">,</span><span>
</span><span id="line-3662"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;num-constant-folding&quot;</span><span>             </span><span class="hs-identifier">Opt_NumConstantFolding</span><span class="hs-special">,</span><span>
</span><span id="line-3663"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-warning-groups&quot;</span><span>              </span><span class="hs-identifier">Opt_ShowWarnGroups</span><span class="hs-special">,</span><span>
</span><span id="line-3664"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;hide-source-paths&quot;</span><span>                </span><span class="hs-identifier">Opt_HideSourcePaths</span><span class="hs-special">,</span><span>
</span><span id="line-3665"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-loaded-modules&quot;</span><span>              </span><span class="hs-identifier">Opt_ShowLoadedModules</span><span class="hs-special">,</span><span>
</span><span id="line-3666"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;whole-archive-hs-libs&quot;</span><span>            </span><span class="hs-identifier">Opt_WholeArchiveHsLibs</span><span class="hs-special">,</span><span>
</span><span id="line-3667"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;keep-cafs&quot;</span><span>                        </span><span class="hs-identifier">Opt_KeepCAFs</span><span class="hs-special">,</span><span>
</span><span id="line-3668"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;link-rts&quot;</span><span>                         </span><span class="hs-identifier">Opt_LinkRts</span><span>
</span><span id="line-3669"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3670"></span><span>  </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">fHoleFlags</span><span>
</span><span id="line-3671"></span><span>
</span><span id="line-3672"></span><span class="hs-comment">-- | These @-f\&lt;blah\&gt;@ flags have to do with the typed-hole error message or</span><span>
</span><span id="line-3673"></span><span class="hs-comment">-- the valid hole fits in that message. See Note [Valid hole fits include ...]</span><span>
</span><span id="line-3674"></span><span class="hs-comment">-- in the &quot;GHC.Tc.Errors.Hole&quot; module. These flags can all be reversed with</span><span>
</span><span id="line-3675"></span><span class="hs-comment">-- @-fno-\&lt;blah\&gt;@</span><span>
</span><span id="line-3676"></span><span class="hs-identifier">fHoleFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3677"></span><span class="annot"><a href="GHC.Driver.Session.html#fHoleFlags"><span class="hs-identifier hs-type">fHoleFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3678"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-hole-constraints&quot;</span><span>            </span><span class="hs-identifier">Opt_ShowHoleConstraints</span><span class="hs-special">,</span><span>
</span><span id="line-3679"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;show-valid-substitutions&quot;</span><span>     </span><span class="hs-identifier">Opt_ShowValidHoleFits</span><span>
</span><span id="line-3680"></span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">useInstead</span><span> </span><span class="hs-string">&quot;-f&quot;</span><span> </span><span class="hs-string">&quot;show-valid-hole-fits&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3681"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-valid-hole-fits&quot;</span><span>             </span><span class="hs-identifier">Opt_ShowValidHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3682"></span><span>  </span><span class="hs-comment">-- Sorting settings</span><span>
</span><span id="line-3683"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;sort-valid-hole-fits&quot;</span><span>             </span><span class="hs-identifier">Opt_SortValidHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3684"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;sort-by-size-hole-fits&quot;</span><span>           </span><span class="hs-identifier">Opt_SortBySizeHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3685"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;sort-by-subsumption-hole-fits&quot;</span><span>    </span><span class="hs-identifier">Opt_SortBySubsumHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3686"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;abstract-refinement-hole-fits&quot;</span><span>    </span><span class="hs-identifier">Opt_AbstractRefHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3687"></span><span>  </span><span class="hs-comment">-- Output format settings</span><span>
</span><span id="line-3688"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-hole-matches-of-hole-fits&quot;</span><span>   </span><span class="hs-identifier">Opt_ShowMatchesOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3689"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-provenance-of-hole-fits&quot;</span><span>     </span><span class="hs-identifier">Opt_ShowProvOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3690"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-type-of-hole-fits&quot;</span><span>           </span><span class="hs-identifier">Opt_ShowTypeOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3691"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-type-app-of-hole-fits&quot;</span><span>       </span><span class="hs-identifier">Opt_ShowTypeAppOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3692"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-type-app-vars-of-hole-fits&quot;</span><span>  </span><span class="hs-identifier">Opt_ShowTypeAppVarsOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3693"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;show-docs-of-hole-fits&quot;</span><span>           </span><span class="hs-identifier">Opt_ShowDocsOfHoleFits</span><span class="hs-special">,</span><span>
</span><span id="line-3694"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;unclutter-valid-hole-fits&quot;</span><span>        </span><span class="hs-identifier">Opt_UnclutterValidHoleFits</span><span>
</span><span id="line-3695"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3696"></span><span>
</span><span id="line-3697"></span><span class="hs-comment">-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span><span>
</span><span id="line-3698"></span><span class="hs-identifier">fLangFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span>
</span><span id="line-3699"></span><span class="annot"><a href="GHC.Driver.Session.html#fLangFlags"><span class="hs-identifier hs-type">fLangFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">fLangFlagsDeps</span><span>
</span><span id="line-3700"></span><span>
</span><span id="line-3701"></span><span class="hs-identifier">fLangFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3702"></span><span class="annot"><a href="GHC.Driver.Session.html#fLangFlagsDeps"><span class="hs-identifier hs-type">fLangFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3703"></span><span id="fLangFlagsDeps"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3704"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3705"></span><span>  </span><span class="hs-identifier">depFlagSpecOp'</span><span> </span><span class="hs-string">&quot;th&quot;</span><span>                           </span><span class="hs-identifier">LangExt.TemplateHaskell</span><span>
</span><span id="line-3706"></span><span>    </span><span class="hs-identifier">checkTemplateHaskellOk</span><span>
</span><span id="line-3707"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;TemplateHaskell&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3708"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;fi&quot;</span><span>                             </span><span class="hs-identifier">LangExt.ForeignFunctionInterface</span><span>
</span><span id="line-3709"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ForeignFunctionInterface&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3710"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;ffi&quot;</span><span>                            </span><span class="hs-identifier">LangExt.ForeignFunctionInterface</span><span>
</span><span id="line-3711"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ForeignFunctionInterface&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3712"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;arrows&quot;</span><span>                         </span><span class="hs-identifier">LangExt.Arrows</span><span>
</span><span id="line-3713"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;Arrows&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3714"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;implicit-prelude&quot;</span><span>               </span><span class="hs-identifier">LangExt.ImplicitPrelude</span><span>
</span><span id="line-3715"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ImplicitPrelude&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3716"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;bang-patterns&quot;</span><span>                  </span><span class="hs-identifier">LangExt.BangPatterns</span><span>
</span><span id="line-3717"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;BangPatterns&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3718"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;monomorphism-restriction&quot;</span><span>       </span><span class="hs-identifier">LangExt.MonomorphismRestriction</span><span>
</span><span id="line-3719"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;MonomorphismRestriction&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3720"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;mono-pat-binds&quot;</span><span>                 </span><span class="hs-identifier">LangExt.MonoPatBinds</span><span>
</span><span id="line-3721"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;MonoPatBinds&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3722"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;extended-default-rules&quot;</span><span>         </span><span class="hs-identifier">LangExt.ExtendedDefaultRules</span><span>
</span><span id="line-3723"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ExtendedDefaultRules&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3724"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;implicit-params&quot;</span><span>                </span><span class="hs-identifier">LangExt.ImplicitParams</span><span>
</span><span id="line-3725"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ImplicitParams&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3726"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;scoped-type-variables&quot;</span><span>          </span><span class="hs-identifier">LangExt.ScopedTypeVariables</span><span>
</span><span id="line-3727"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ScopedTypeVariables&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3728"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;allow-overlapping-instances&quot;</span><span>    </span><span class="hs-identifier">LangExt.OverlappingInstances</span><span>
</span><span id="line-3729"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;OverlappingInstances&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3730"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;allow-undecidable-instances&quot;</span><span>    </span><span class="hs-identifier">LangExt.UndecidableInstances</span><span>
</span><span id="line-3731"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;UndecidableInstances&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3732"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;allow-incoherent-instances&quot;</span><span>     </span><span class="hs-identifier">LangExt.IncoherentInstances</span><span>
</span><span id="line-3733"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;IncoherentInstances&quot;</span><span class="hs-special">)</span><span>
</span><span id="line-3734"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3735"></span><span>
</span><span id="line-3736"></span><span class="hs-identifier">supportedLanguages</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-3737"></span><span class="annot"><a href="GHC.Driver.Session.html#supportedLanguages"><span class="hs-identifier hs-type">supportedLanguages</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">snd</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">languageFlagsDeps</span><span>
</span><span id="line-3738"></span><span>
</span><span id="line-3739"></span><span class="hs-identifier">supportedLanguageOverlays</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-3740"></span><span class="annot"><a href="GHC.Driver.Session.html#supportedLanguageOverlays"><span class="hs-identifier hs-type">supportedLanguageOverlays</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">snd</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">safeHaskellFlagsDeps</span><span>
</span><span id="line-3741"></span><span>
</span><span id="line-3742"></span><span class="hs-identifier">supportedExtensions</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">PlatformMini</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-3743"></span><span class="annot"><a href="GHC.Driver.Session.html#supportedExtensions"><span class="hs-identifier hs-type">supportedExtensions</span></a></span><span> </span><span class="hs-identifier">targetPlatformMini</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-identifier">toFlagSpecNamePair</span><span> </span><span class="hs-identifier">xFlags</span><span>
</span><span id="line-3744"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3745"></span><span>    </span><span class="hs-identifier">toFlagSpecNamePair</span><span> </span><span class="hs-identifier">flg</span><span>
</span><span id="line-3746"></span><span>      </span><span class="hs-comment">-- IMPORTANT! Make sure that `ghc --supported-extensions` omits</span><span>
</span><span id="line-3747"></span><span>      </span><span class="hs-comment">-- &quot;TemplateHaskell&quot;/&quot;QuasiQuotes&quot; when it's known not to work out of the</span><span>
</span><span id="line-3748"></span><span>      </span><span class="hs-comment">-- box. See also GHC #11102 and #16331 for more details about</span><span>
</span><span id="line-3749"></span><span>      </span><span class="hs-comment">-- the rationale</span><span>
</span><span id="line-3750"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isAIX</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flagSpecFlag</span><span> </span><span class="hs-identifier">flg</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">LangExt.TemplateHaskell</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">noName</span><span class="hs-special">]</span><span>
</span><span id="line-3751"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isAIX</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">flagSpecFlag</span><span> </span><span class="hs-identifier">flg</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">LangExt.QuasiQuotes</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">noName</span><span class="hs-special">]</span><span>
</span><span id="line-3752"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">name</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">noName</span><span class="hs-special">]</span><span>
</span><span id="line-3753"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-3754"></span><span>        </span><span class="hs-identifier">isAIX</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">platformMini_os</span><span> </span><span class="hs-identifier">targetPlatformMini</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">OSAIX</span><span>
</span><span id="line-3755"></span><span>        </span><span class="hs-identifier">noName</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;No&quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">name</span><span>
</span><span id="line-3756"></span><span>        </span><span class="hs-identifier">name</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagSpecName</span><span> </span><span class="hs-identifier">flg</span><span>
</span><span id="line-3757"></span><span>
</span><span id="line-3758"></span><span class="hs-identifier">supportedLanguagesAndExtensions</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">PlatformMini</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-3759"></span><span class="annot"><a href="GHC.Driver.Session.html#supportedLanguagesAndExtensions"><span class="hs-identifier hs-type">supportedLanguagesAndExtensions</span></a></span><span> </span><span class="hs-identifier">targetPlatformMini</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3760"></span><span>    </span><span class="hs-identifier">supportedLanguages</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">supportedLanguageOverlays</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">supportedExtensions</span><span> </span><span class="hs-identifier">targetPlatformMini</span><span>
</span><span id="line-3761"></span><span>
</span><span id="line-3762"></span><span class="hs-comment">-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span><span>
</span><span id="line-3763"></span><span class="hs-identifier">languageFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">Language</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3764"></span><span class="annot"><a href="GHC.Driver.Session.html#languageFlagsDeps"><span class="hs-identifier hs-type">languageFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3765"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;Haskell98&quot;</span><span>   </span><span class="hs-identifier">Haskell98</span><span class="hs-special">,</span><span>
</span><span id="line-3766"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;Haskell2010&quot;</span><span> </span><span class="hs-identifier">Haskell2010</span><span>
</span><span id="line-3767"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3768"></span><span>
</span><span id="line-3769"></span><span class="hs-comment">-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span><span>
</span><span id="line-3770"></span><span class="hs-comment">-- They are used to place hard requirements on what GHC Haskell language</span><span>
</span><span id="line-3771"></span><span class="hs-comment">-- features can be used.</span><span>
</span><span id="line-3772"></span><span class="hs-identifier">safeHaskellFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">SafeHaskellMode</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3773"></span><span class="annot"><a href="GHC.Driver.Session.html#safeHaskellFlagsDeps"><span class="hs-identifier hs-type">safeHaskellFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">mkF</span><span> </span><span class="hs-identifier">Sf_Unsafe</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkF</span><span> </span><span class="hs-identifier">Sf_Trustworthy</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkF</span><span> </span><span class="hs-identifier">Sf_Safe</span><span class="hs-special">]</span><span>
</span><span id="line-3774"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">mkF</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">show</span><span> </span><span class="hs-identifier">flag</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-3775"></span><span>
</span><span id="line-3776"></span><span class="hs-comment">-- | These -X&lt;blah&gt; flags can all be reversed with -XNo&lt;blah&gt;</span><span>
</span><span id="line-3777"></span><span class="hs-identifier">xFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span>
</span><span id="line-3778"></span><span class="annot"><a href="GHC.Driver.Session.html#xFlags"><span class="hs-identifier hs-type">xFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">snd</span><span> </span><span class="hs-identifier">xFlagsDeps</span><span>
</span><span id="line-3779"></span><span>
</span><span id="line-3780"></span><span class="hs-identifier">xFlagsDeps</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Deprecation</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">FlagSpec</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3781"></span><span class="annot"><a href="GHC.Driver.Session.html#xFlagsDeps"><span class="hs-identifier hs-type">xFlagsDeps</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-3782"></span><span id="xFlagsDeps"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3783"></span><span class="hs-comment">-- See Note [Supporting CLI completion]</span><span>
</span><span id="line-3784"></span><span class="hs-comment">-- See Note [Adding a language extension]</span><span>
</span><span id="line-3785"></span><span class="hs-comment">-- Please keep the list of flags below sorted alphabetically</span><span>
</span><span id="line-3786"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;AllowAmbiguousTypes&quot;</span><span>              </span><span class="hs-identifier">LangExt.AllowAmbiguousTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3787"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;AlternativeLayoutRule&quot;</span><span>            </span><span class="hs-identifier">LangExt.AlternativeLayoutRule</span><span class="hs-special">,</span><span>
</span><span id="line-3788"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;AlternativeLayoutRuleTransitional&quot;</span><span>
</span><span id="line-3789"></span><span>                                              </span><span class="hs-identifier">LangExt.AlternativeLayoutRuleTransitional</span><span class="hs-special">,</span><span>
</span><span id="line-3790"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;Arrows&quot;</span><span>                           </span><span class="hs-identifier">LangExt.Arrows</span><span class="hs-special">,</span><span>
</span><span id="line-3791"></span><span>  </span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-string">&quot;AutoDeriveTypeable&quot;</span><span>        </span><span class="hs-identifier">LangExt.AutoDeriveTypeable</span><span>
</span><span id="line-3792"></span><span>    </span><span class="hs-identifier">id</span><span>
</span><span id="line-3793"></span><span>         </span><span class="hs-special">(</span><span class="hs-string">&quot;Typeable instances are created automatically &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3794"></span><span>                     </span><span class="hs-string">&quot;for all types since GHC 8.2.&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3795"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;BangPatterns&quot;</span><span>                     </span><span class="hs-identifier">LangExt.BangPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3796"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;BinaryLiterals&quot;</span><span>                   </span><span class="hs-identifier">LangExt.BinaryLiterals</span><span class="hs-special">,</span><span>
</span><span id="line-3797"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;CApiFFI&quot;</span><span>                          </span><span class="hs-identifier">LangExt.CApiFFI</span><span class="hs-special">,</span><span>
</span><span id="line-3798"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;CPP&quot;</span><span>                              </span><span class="hs-identifier">LangExt.Cpp</span><span class="hs-special">,</span><span>
</span><span id="line-3799"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;CUSKs&quot;</span><span>                            </span><span class="hs-identifier">LangExt.CUSKs</span><span class="hs-special">,</span><span>
</span><span id="line-3800"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ConstrainedClassMethods&quot;</span><span>          </span><span class="hs-identifier">LangExt.ConstrainedClassMethods</span><span class="hs-special">,</span><span>
</span><span id="line-3801"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ConstraintKinds&quot;</span><span>                  </span><span class="hs-identifier">LangExt.ConstraintKinds</span><span class="hs-special">,</span><span>
</span><span id="line-3802"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DataKinds&quot;</span><span>                        </span><span class="hs-identifier">LangExt.DataKinds</span><span class="hs-special">,</span><span>
</span><span id="line-3803"></span><span>  </span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-string">&quot;DatatypeContexts&quot;</span><span>          </span><span class="hs-identifier">LangExt.DatatypeContexts</span><span>
</span><span id="line-3804"></span><span>    </span><span class="hs-identifier">id</span><span>
</span><span id="line-3805"></span><span>         </span><span class="hs-special">(</span><span class="hs-string">&quot;It was widely considered a misfeature, &quot;</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-3806"></span><span>                     </span><span class="hs-string">&quot;and has been removed from the Haskell language.&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3807"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DefaultSignatures&quot;</span><span>                </span><span class="hs-identifier">LangExt.DefaultSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3808"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveAnyClass&quot;</span><span>                   </span><span class="hs-identifier">LangExt.DeriveAnyClass</span><span class="hs-special">,</span><span>
</span><span id="line-3809"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveDataTypeable&quot;</span><span>               </span><span class="hs-identifier">LangExt.DeriveDataTypeable</span><span class="hs-special">,</span><span>
</span><span id="line-3810"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveFoldable&quot;</span><span>                   </span><span class="hs-identifier">LangExt.DeriveFoldable</span><span class="hs-special">,</span><span>
</span><span id="line-3811"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveFunctor&quot;</span><span>                    </span><span class="hs-identifier">LangExt.DeriveFunctor</span><span class="hs-special">,</span><span>
</span><span id="line-3812"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveGeneric&quot;</span><span>                    </span><span class="hs-identifier">LangExt.DeriveGeneric</span><span class="hs-special">,</span><span>
</span><span id="line-3813"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveLift&quot;</span><span>                       </span><span class="hs-identifier">LangExt.DeriveLift</span><span class="hs-special">,</span><span>
</span><span id="line-3814"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DeriveTraversable&quot;</span><span>                </span><span class="hs-identifier">LangExt.DeriveTraversable</span><span class="hs-special">,</span><span>
</span><span id="line-3815"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DerivingStrategies&quot;</span><span>               </span><span class="hs-identifier">LangExt.DerivingStrategies</span><span class="hs-special">,</span><span>
</span><span id="line-3816"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;DerivingVia&quot;</span><span>                     </span><span class="hs-identifier">LangExt.DerivingVia</span><span>
</span><span id="line-3817"></span><span>                                              </span><span class="hs-identifier">setDeriveVia</span><span class="hs-special">,</span><span>
</span><span id="line-3818"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DisambiguateRecordFields&quot;</span><span>         </span><span class="hs-identifier">LangExt.DisambiguateRecordFields</span><span class="hs-special">,</span><span>
</span><span id="line-3819"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DoAndIfThenElse&quot;</span><span>                  </span><span class="hs-identifier">LangExt.DoAndIfThenElse</span><span class="hs-special">,</span><span>
</span><span id="line-3820"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;BlockArguments&quot;</span><span>                   </span><span class="hs-identifier">LangExt.BlockArguments</span><span class="hs-special">,</span><span>
</span><span id="line-3821"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;DoRec&quot;</span><span>                        </span><span class="hs-identifier">LangExt.RecursiveDo</span><span>
</span><span id="line-3822"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;RecursiveDo&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3823"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;DuplicateRecordFields&quot;</span><span>            </span><span class="hs-identifier">LangExt.DuplicateRecordFields</span><span class="hs-special">,</span><span>
</span><span id="line-3824"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;EmptyCase&quot;</span><span>                        </span><span class="hs-identifier">LangExt.EmptyCase</span><span class="hs-special">,</span><span>
</span><span id="line-3825"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;EmptyDataDecls&quot;</span><span>                   </span><span class="hs-identifier">LangExt.EmptyDataDecls</span><span class="hs-special">,</span><span>
</span><span id="line-3826"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;EmptyDataDeriving&quot;</span><span>                </span><span class="hs-identifier">LangExt.EmptyDataDeriving</span><span class="hs-special">,</span><span>
</span><span id="line-3827"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ExistentialQuantification&quot;</span><span>        </span><span class="hs-identifier">LangExt.ExistentialQuantification</span><span class="hs-special">,</span><span>
</span><span id="line-3828"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ExplicitForAll&quot;</span><span>                   </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">,</span><span>
</span><span id="line-3829"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ExplicitNamespaces&quot;</span><span>               </span><span class="hs-identifier">LangExt.ExplicitNamespaces</span><span class="hs-special">,</span><span>
</span><span id="line-3830"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ExtendedDefaultRules&quot;</span><span>             </span><span class="hs-identifier">LangExt.ExtendedDefaultRules</span><span class="hs-special">,</span><span>
</span><span id="line-3831"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;FlexibleContexts&quot;</span><span>                 </span><span class="hs-identifier">LangExt.FlexibleContexts</span><span class="hs-special">,</span><span>
</span><span id="line-3832"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;FlexibleInstances&quot;</span><span>                </span><span class="hs-identifier">LangExt.FlexibleInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3833"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ForeignFunctionInterface&quot;</span><span>         </span><span class="hs-identifier">LangExt.ForeignFunctionInterface</span><span class="hs-special">,</span><span>
</span><span id="line-3834"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;FunctionalDependencies&quot;</span><span>           </span><span class="hs-identifier">LangExt.FunctionalDependencies</span><span class="hs-special">,</span><span>
</span><span id="line-3835"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;GADTSyntax&quot;</span><span>                       </span><span class="hs-identifier">LangExt.GADTSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-3836"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;GADTs&quot;</span><span>                            </span><span class="hs-identifier">LangExt.GADTs</span><span class="hs-special">,</span><span>
</span><span id="line-3837"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;GHCForeignImportPrim&quot;</span><span>             </span><span class="hs-identifier">LangExt.GHCForeignImportPrim</span><span class="hs-special">,</span><span>
</span><span id="line-3838"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;GeneralizedNewtypeDeriving&quot;</span><span>      </span><span class="hs-identifier">LangExt.GeneralizedNewtypeDeriving</span><span>
</span><span id="line-3839"></span><span>                                              </span><span class="hs-identifier">setGenDeriving</span><span class="hs-special">,</span><span>
</span><span id="line-3840"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;GeneralisedNewtypeDeriving&quot;</span><span>      </span><span class="hs-identifier">LangExt.GeneralizedNewtypeDeriving</span><span>
</span><span id="line-3841"></span><span>                                              </span><span class="hs-identifier">setGenDeriving</span><span class="hs-special">,</span><span>
</span><span id="line-3842"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ImplicitParams&quot;</span><span>                   </span><span class="hs-identifier">LangExt.ImplicitParams</span><span class="hs-special">,</span><span>
</span><span id="line-3843"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ImplicitPrelude&quot;</span><span>                  </span><span class="hs-identifier">LangExt.ImplicitPrelude</span><span class="hs-special">,</span><span>
</span><span id="line-3844"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ImportQualifiedPost&quot;</span><span>              </span><span class="hs-identifier">LangExt.ImportQualifiedPost</span><span class="hs-special">,</span><span>
</span><span id="line-3845"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ImpredicativeTypes&quot;</span><span>               </span><span class="hs-identifier">LangExt.ImpredicativeTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3846"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;IncoherentInstances&quot;</span><span>             </span><span class="hs-identifier">LangExt.IncoherentInstances</span><span>
</span><span id="line-3847"></span><span>                                              </span><span class="hs-identifier">setIncoherentInsts</span><span class="hs-special">,</span><span>
</span><span id="line-3848"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeFamilyDependencies&quot;</span><span>           </span><span class="hs-identifier">LangExt.TypeFamilyDependencies</span><span class="hs-special">,</span><span>
</span><span id="line-3849"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;InstanceSigs&quot;</span><span>                     </span><span class="hs-identifier">LangExt.InstanceSigs</span><span class="hs-special">,</span><span>
</span><span id="line-3850"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ApplicativeDo&quot;</span><span>                    </span><span class="hs-identifier">LangExt.ApplicativeDo</span><span class="hs-special">,</span><span>
</span><span id="line-3851"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;InterruptibleFFI&quot;</span><span>                 </span><span class="hs-identifier">LangExt.InterruptibleFFI</span><span class="hs-special">,</span><span>
</span><span id="line-3852"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;JavaScriptFFI&quot;</span><span>                    </span><span class="hs-identifier">LangExt.JavaScriptFFI</span><span class="hs-special">,</span><span>
</span><span id="line-3853"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;KindSignatures&quot;</span><span>                   </span><span class="hs-identifier">LangExt.KindSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3854"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;LambdaCase&quot;</span><span>                       </span><span class="hs-identifier">LangExt.LambdaCase</span><span class="hs-special">,</span><span>
</span><span id="line-3855"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;LexicalNegation&quot;</span><span>                  </span><span class="hs-identifier">LangExt.LexicalNegation</span><span class="hs-special">,</span><span>
</span><span id="line-3856"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;LiberalTypeSynonyms&quot;</span><span>              </span><span class="hs-identifier">LangExt.LiberalTypeSynonyms</span><span class="hs-special">,</span><span>
</span><span id="line-3857"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;LinearTypes&quot;</span><span>                      </span><span class="hs-identifier">LangExt.LinearTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3858"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MagicHash&quot;</span><span>                        </span><span class="hs-identifier">LangExt.MagicHash</span><span class="hs-special">,</span><span>
</span><span id="line-3859"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MonadComprehensions&quot;</span><span>              </span><span class="hs-identifier">LangExt.MonadComprehensions</span><span class="hs-special">,</span><span>
</span><span id="line-3860"></span><span>  </span><span class="hs-identifier">depFlagSpec</span><span> </span><span class="hs-string">&quot;MonadFailDesugaring&quot;</span><span>           </span><span class="hs-identifier">LangExt.MonadFailDesugaring</span><span>
</span><span id="line-3861"></span><span>    </span><span class="hs-string">&quot;MonadFailDesugaring is now the default behavior&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3862"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MonoLocalBinds&quot;</span><span>                   </span><span class="hs-identifier">LangExt.MonoLocalBinds</span><span class="hs-special">,</span><span>
</span><span id="line-3863"></span><span>  </span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-string">&quot;MonoPatBinds&quot;</span><span>              </span><span class="hs-identifier">LangExt.MonoPatBinds</span><span>
</span><span id="line-3864"></span><span>    </span><span class="hs-identifier">id</span><span>
</span><span id="line-3865"></span><span>         </span><span class="hs-string">&quot;Experimental feature now removed; has no effect&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3866"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MonomorphismRestriction&quot;</span><span>          </span><span class="hs-identifier">LangExt.MonomorphismRestriction</span><span class="hs-special">,</span><span>
</span><span id="line-3867"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MultiParamTypeClasses&quot;</span><span>            </span><span class="hs-identifier">LangExt.MultiParamTypeClasses</span><span class="hs-special">,</span><span>
</span><span id="line-3868"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;MultiWayIf&quot;</span><span>                       </span><span class="hs-identifier">LangExt.MultiWayIf</span><span class="hs-special">,</span><span>
</span><span id="line-3869"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NumericUnderscores&quot;</span><span>               </span><span class="hs-identifier">LangExt.NumericUnderscores</span><span class="hs-special">,</span><span>
</span><span id="line-3870"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NPlusKPatterns&quot;</span><span>                   </span><span class="hs-identifier">LangExt.NPlusKPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-3871"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NamedFieldPuns&quot;</span><span>                   </span><span class="hs-identifier">LangExt.RecordPuns</span><span class="hs-special">,</span><span>
</span><span id="line-3872"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NamedWildCards&quot;</span><span>                   </span><span class="hs-identifier">LangExt.NamedWildCards</span><span class="hs-special">,</span><span>
</span><span id="line-3873"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NegativeLiterals&quot;</span><span>                 </span><span class="hs-identifier">LangExt.NegativeLiterals</span><span class="hs-special">,</span><span>
</span><span id="line-3874"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;HexFloatLiterals&quot;</span><span>                 </span><span class="hs-identifier">LangExt.HexFloatLiterals</span><span class="hs-special">,</span><span>
</span><span id="line-3875"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NondecreasingIndentation&quot;</span><span>         </span><span class="hs-identifier">LangExt.NondecreasingIndentation</span><span class="hs-special">,</span><span>
</span><span id="line-3876"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;NullaryTypeClasses&quot;</span><span>           </span><span class="hs-identifier">LangExt.NullaryTypeClasses</span><span>
</span><span id="line-3877"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;MultiParamTypeClasses&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3878"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;NumDecimals&quot;</span><span>                      </span><span class="hs-identifier">LangExt.NumDecimals</span><span class="hs-special">,</span><span>
</span><span id="line-3879"></span><span>  </span><span class="hs-identifier">depFlagSpecOp</span><span> </span><span class="hs-string">&quot;OverlappingInstances&quot;</span><span>        </span><span class="hs-identifier">LangExt.OverlappingInstances</span><span>
</span><span id="line-3880"></span><span>    </span><span class="hs-identifier">setOverlappingInsts</span><span>
</span><span id="line-3881"></span><span>    </span><span class="hs-string">&quot;instead use per-instance pragmas OVERLAPPING/OVERLAPPABLE/OVERLAPS&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3882"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;OverloadedLabels&quot;</span><span>                 </span><span class="hs-identifier">LangExt.OverloadedLabels</span><span class="hs-special">,</span><span>
</span><span id="line-3883"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;OverloadedLists&quot;</span><span>                  </span><span class="hs-identifier">LangExt.OverloadedLists</span><span class="hs-special">,</span><span>
</span><span id="line-3884"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;OverloadedStrings&quot;</span><span>                </span><span class="hs-identifier">LangExt.OverloadedStrings</span><span class="hs-special">,</span><span>
</span><span id="line-3885"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PackageImports&quot;</span><span>                   </span><span class="hs-identifier">LangExt.PackageImports</span><span class="hs-special">,</span><span>
</span><span id="line-3886"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ParallelArrays&quot;</span><span>                   </span><span class="hs-identifier">LangExt.ParallelArrays</span><span class="hs-special">,</span><span>
</span><span id="line-3887"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ParallelListComp&quot;</span><span>                 </span><span class="hs-identifier">LangExt.ParallelListComp</span><span class="hs-special">,</span><span>
</span><span id="line-3888"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PartialTypeSignatures&quot;</span><span>            </span><span class="hs-identifier">LangExt.PartialTypeSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3889"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PatternGuards&quot;</span><span>                    </span><span class="hs-identifier">LangExt.PatternGuards</span><span class="hs-special">,</span><span>
</span><span id="line-3890"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;PatternSignatures&quot;</span><span>            </span><span class="hs-identifier">LangExt.ScopedTypeVariables</span><span>
</span><span id="line-3891"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;ScopedTypeVariables&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3892"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PatternSynonyms&quot;</span><span>                  </span><span class="hs-identifier">LangExt.PatternSynonyms</span><span class="hs-special">,</span><span>
</span><span id="line-3893"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PolyKinds&quot;</span><span>                        </span><span class="hs-identifier">LangExt.PolyKinds</span><span class="hs-special">,</span><span>
</span><span id="line-3894"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PolymorphicComponents&quot;</span><span>            </span><span class="hs-identifier">LangExt.RankNTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3895"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;QuantifiedConstraints&quot;</span><span>            </span><span class="hs-identifier">LangExt.QuantifiedConstraints</span><span class="hs-special">,</span><span>
</span><span id="line-3896"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;PostfixOperators&quot;</span><span>                 </span><span class="hs-identifier">LangExt.PostfixOperators</span><span class="hs-special">,</span><span>
</span><span id="line-3897"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;QuasiQuotes&quot;</span><span>                      </span><span class="hs-identifier">LangExt.QuasiQuotes</span><span class="hs-special">,</span><span>
</span><span id="line-3898"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;QualifiedDo&quot;</span><span>                      </span><span class="hs-identifier">LangExt.QualifiedDo</span><span class="hs-special">,</span><span>
</span><span id="line-3899"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;Rank2Types&quot;</span><span>                       </span><span class="hs-identifier">LangExt.RankNTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3900"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RankNTypes&quot;</span><span>                       </span><span class="hs-identifier">LangExt.RankNTypes</span><span class="hs-special">,</span><span>
</span><span id="line-3901"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RebindableSyntax&quot;</span><span>                 </span><span class="hs-identifier">LangExt.RebindableSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-3902"></span><span>  </span><span class="hs-identifier">depFlagSpec'</span><span> </span><span class="hs-string">&quot;RecordPuns&quot;</span><span>                   </span><span class="hs-identifier">LangExt.RecordPuns</span><span>
</span><span id="line-3903"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">deprecatedForExtension</span><span> </span><span class="hs-string">&quot;NamedFieldPuns&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3904"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RecordWildCards&quot;</span><span>                  </span><span class="hs-identifier">LangExt.RecordWildCards</span><span class="hs-special">,</span><span>
</span><span id="line-3905"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RecursiveDo&quot;</span><span>                      </span><span class="hs-identifier">LangExt.RecursiveDo</span><span class="hs-special">,</span><span>
</span><span id="line-3906"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RelaxedLayout&quot;</span><span>                    </span><span class="hs-identifier">LangExt.RelaxedLayout</span><span class="hs-special">,</span><span>
</span><span id="line-3907"></span><span>  </span><span class="hs-identifier">depFlagSpecCond</span><span> </span><span class="hs-string">&quot;RelaxedPolyRec&quot;</span><span>            </span><span class="hs-identifier">LangExt.RelaxedPolyRec</span><span>
</span><span id="line-3908"></span><span>    </span><span class="hs-identifier">not</span><span>
</span><span id="line-3909"></span><span>         </span><span class="hs-string">&quot;You can't turn off RelaxedPolyRec any more&quot;</span><span class="hs-special">,</span><span>
</span><span id="line-3910"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;RoleAnnotations&quot;</span><span>                  </span><span class="hs-identifier">LangExt.RoleAnnotations</span><span class="hs-special">,</span><span>
</span><span id="line-3911"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ScopedTypeVariables&quot;</span><span>              </span><span class="hs-identifier">LangExt.ScopedTypeVariables</span><span class="hs-special">,</span><span>
</span><span id="line-3912"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;StandaloneDeriving&quot;</span><span>               </span><span class="hs-identifier">LangExt.StandaloneDeriving</span><span class="hs-special">,</span><span>
</span><span id="line-3913"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;StarIsType&quot;</span><span>                       </span><span class="hs-identifier">LangExt.StarIsType</span><span class="hs-special">,</span><span>
</span><span id="line-3914"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;StaticPointers&quot;</span><span>                   </span><span class="hs-identifier">LangExt.StaticPointers</span><span class="hs-special">,</span><span>
</span><span id="line-3915"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;Strict&quot;</span><span>                           </span><span class="hs-identifier">LangExt.Strict</span><span class="hs-special">,</span><span>
</span><span id="line-3916"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;StrictData&quot;</span><span>                       </span><span class="hs-identifier">LangExt.StrictData</span><span class="hs-special">,</span><span>
</span><span id="line-3917"></span><span>  </span><span class="hs-identifier">flagSpec'</span><span> </span><span class="hs-string">&quot;TemplateHaskell&quot;</span><span>                 </span><span class="hs-identifier">LangExt.TemplateHaskell</span><span>
</span><span id="line-3918"></span><span>                                              </span><span class="hs-identifier">checkTemplateHaskellOk</span><span class="hs-special">,</span><span>
</span><span id="line-3919"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TemplateHaskellQuotes&quot;</span><span>            </span><span class="hs-identifier">LangExt.TemplateHaskellQuotes</span><span class="hs-special">,</span><span>
</span><span id="line-3920"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;StandaloneKindSignatures&quot;</span><span>         </span><span class="hs-identifier">LangExt.StandaloneKindSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-3921"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TraditionalRecordSyntax&quot;</span><span>          </span><span class="hs-identifier">LangExt.TraditionalRecordSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-3922"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TransformListComp&quot;</span><span>                </span><span class="hs-identifier">LangExt.TransformListComp</span><span class="hs-special">,</span><span>
</span><span id="line-3923"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TupleSections&quot;</span><span>                    </span><span class="hs-identifier">LangExt.TupleSections</span><span class="hs-special">,</span><span>
</span><span id="line-3924"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeApplications&quot;</span><span>                 </span><span class="hs-identifier">LangExt.TypeApplications</span><span class="hs-special">,</span><span>
</span><span id="line-3925"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeInType&quot;</span><span>                       </span><span class="hs-identifier">LangExt.TypeInType</span><span class="hs-special">,</span><span>
</span><span id="line-3926"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeFamilies&quot;</span><span>                     </span><span class="hs-identifier">LangExt.TypeFamilies</span><span class="hs-special">,</span><span>
</span><span id="line-3927"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeOperators&quot;</span><span>                    </span><span class="hs-identifier">LangExt.TypeOperators</span><span class="hs-special">,</span><span>
</span><span id="line-3928"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;TypeSynonymInstances&quot;</span><span>             </span><span class="hs-identifier">LangExt.TypeSynonymInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3929"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UnboxedTuples&quot;</span><span>                    </span><span class="hs-identifier">LangExt.UnboxedTuples</span><span class="hs-special">,</span><span>
</span><span id="line-3930"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UnboxedSums&quot;</span><span>                      </span><span class="hs-identifier">LangExt.UnboxedSums</span><span class="hs-special">,</span><span>
</span><span id="line-3931"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UndecidableInstances&quot;</span><span>             </span><span class="hs-identifier">LangExt.UndecidableInstances</span><span class="hs-special">,</span><span>
</span><span id="line-3932"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UndecidableSuperClasses&quot;</span><span>          </span><span class="hs-identifier">LangExt.UndecidableSuperClasses</span><span class="hs-special">,</span><span>
</span><span id="line-3933"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UnicodeSyntax&quot;</span><span>                    </span><span class="hs-identifier">LangExt.UnicodeSyntax</span><span class="hs-special">,</span><span>
</span><span id="line-3934"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UnliftedFFITypes&quot;</span><span>                 </span><span class="hs-identifier">LangExt.UnliftedFFITypes</span><span class="hs-special">,</span><span>
</span><span id="line-3935"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;UnliftedNewtypes&quot;</span><span>                 </span><span class="hs-identifier">LangExt.UnliftedNewtypes</span><span class="hs-special">,</span><span>
</span><span id="line-3936"></span><span>  </span><span class="hs-identifier">flagSpec</span><span> </span><span class="hs-string">&quot;ViewPatterns&quot;</span><span>                     </span><span class="hs-identifier">LangExt.ViewPatterns</span><span>
</span><span id="line-3937"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-3938"></span><span>
</span><span id="line-3939"></span><span class="hs-identifier">defaultFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Settings</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">]</span><span>
</span><span id="line-3940"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultFlags"><span class="hs-identifier hs-type">defaultFlags</span></a></span><span> </span><span class="hs-identifier">settings</span><span>
</span><span id="line-3941"></span><span id="defaultFlags"></span><span id="local-6989586621680784697"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-3942"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_AutoLinkPackages</span><span class="hs-special">,</span><span>
</span><span id="line-3943"></span><span>      </span><span class="hs-identifier">Opt_DiagnosticsShowCaret</span><span class="hs-special">,</span><span>
</span><span id="line-3944"></span><span>      </span><span class="hs-identifier">Opt_EmbedManifest</span><span class="hs-special">,</span><span>
</span><span id="line-3945"></span><span>      </span><span class="hs-identifier">Opt_FlatCache</span><span class="hs-special">,</span><span>
</span><span id="line-3946"></span><span>      </span><span class="hs-identifier">Opt_GenManifest</span><span class="hs-special">,</span><span>
</span><span id="line-3947"></span><span>      </span><span class="hs-identifier">Opt_GhciHistory</span><span class="hs-special">,</span><span>
</span><span id="line-3948"></span><span>      </span><span class="hs-identifier">Opt_GhciSandbox</span><span class="hs-special">,</span><span>
</span><span id="line-3949"></span><span>      </span><span class="hs-identifier">Opt_HelpfulErrors</span><span class="hs-special">,</span><span>
</span><span id="line-3950"></span><span>      </span><span class="hs-identifier">Opt_KeepHiFiles</span><span class="hs-special">,</span><span>
</span><span id="line-3951"></span><span>      </span><span class="hs-identifier">Opt_KeepOFiles</span><span class="hs-special">,</span><span>
</span><span id="line-3952"></span><span>      </span><span class="hs-identifier">Opt_OmitYields</span><span class="hs-special">,</span><span>
</span><span id="line-3953"></span><span>      </span><span class="hs-identifier">Opt_PrintBindContents</span><span class="hs-special">,</span><span>
</span><span id="line-3954"></span><span>      </span><span class="hs-identifier">Opt_ProfCountEntries</span><span class="hs-special">,</span><span>
</span><span id="line-3955"></span><span>      </span><span class="hs-identifier">Opt_SharedImplib</span><span class="hs-special">,</span><span>
</span><span id="line-3956"></span><span>      </span><span class="hs-identifier">Opt_SimplPreInlining</span><span class="hs-special">,</span><span>
</span><span id="line-3957"></span><span>      </span><span class="hs-identifier">Opt_VersionMacros</span><span class="hs-special">,</span><span>
</span><span id="line-3958"></span><span>      </span><span class="hs-identifier">Opt_RPath</span><span>
</span><span id="line-3959"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-3960"></span><span>
</span><span id="line-3961"></span><span>    </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ns</span><span class="hs-special">,</span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">optLevelFlags</span><span class="hs-special">,</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">ns</span><span class="hs-special">]</span><span>
</span><span id="line-3962"></span><span>             </span><span class="hs-comment">-- The default -O0 options</span><span>
</span><span id="line-3963"></span><span>
</span><span id="line-3964"></span><span>    </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">default_PIC</span><span> </span><span class="hs-identifier">platform</span><span>
</span><span id="line-3965"></span><span>
</span><span id="line-3966"></span><span>    </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">concatMap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">wayGeneralFlags</span><span> </span><span class="hs-identifier">platform</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">defaultWays</span><span> </span><span class="hs-identifier">settings</span><span class="hs-special">)</span><span>
</span><span id="line-3967"></span><span>    </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">validHoleFitDefaults</span><span>
</span><span id="line-3968"></span><span>
</span><span id="line-3969"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">sTargetPlatform</span><span> </span><span class="hs-identifier">settings</span><span>
</span><span id="line-3970"></span><span>
</span><span id="line-3971"></span><span class="hs-comment">-- | These are the default settings for the display and sorting of valid hole</span><span>
</span><span id="line-3972"></span><span class="hs-comment">--  fits in typed-hole error messages. See Note [Valid hole fits include ...]</span><span>
</span><span id="line-3973"></span><span> </span><span class="hs-comment">-- in the &quot;GHC.Tc.Errors.Hole&quot; module.</span><span>
</span><span id="line-3974"></span><span class="hs-identifier">validHoleFitDefaults</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">]</span><span>
</span><span id="line-3975"></span><span class="annot"><a href="GHC.Driver.Session.html#validHoleFitDefaults"><span class="hs-identifier hs-type">validHoleFitDefaults</span></a></span><span>
</span><span id="line-3976"></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_ShowTypeAppOfHoleFits</span><span>
</span><span id="line-3977"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowTypeOfHoleFits</span><span>
</span><span id="line-3978"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowProvOfHoleFits</span><span>
</span><span id="line-3979"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowMatchesOfHoleFits</span><span>
</span><span id="line-3980"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowValidHoleFits</span><span>
</span><span id="line-3981"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_SortValidHoleFits</span><span>
</span><span id="line-3982"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_SortBySizeHoleFits</span><span>
</span><span id="line-3983"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowHoleConstraints</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3984"></span><span>
</span><span id="line-3985"></span><span>
</span><span id="line-3986"></span><span class="hs-identifier">validHoleFitsImpliedGFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3987"></span><span class="annot"><a href="GHC.Driver.Session.html#validHoleFitsImpliedGFlags"><span class="hs-identifier hs-type">validHoleFitsImpliedGFlags</span></a></span><span>
</span><span id="line-3988"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Opt_UnclutterValidHoleFits</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowTypeAppOfHoleFits</span><span class="hs-special">)</span><span>
</span><span id="line-3989"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Opt_UnclutterValidHoleFits</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowTypeAppVarsOfHoleFits</span><span class="hs-special">)</span><span>
</span><span id="line-3990"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Opt_UnclutterValidHoleFits</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowDocsOfHoleFits</span><span class="hs-special">)</span><span>
</span><span id="line-3991"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Opt_ShowTypeAppVarsOfHoleFits</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowTypeAppOfHoleFits</span><span class="hs-special">)</span><span>
</span><span id="line-3992"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Opt_UnclutterValidHoleFits</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ShowProvOfHoleFits</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3993"></span><span>
</span><span id="line-3994"></span><span class="hs-identifier">default_PIC</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Platform</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">]</span><span>
</span><span id="line-3995"></span><span class="annot"><a href="GHC.Driver.Session.html#default_PIC"><span class="hs-identifier hs-type">default_PIC</span></a></span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3996"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">platformOS</span><span> </span><span class="hs-identifier">platform</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">platformArch</span><span> </span><span class="hs-identifier">platform</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3997"></span><span>    </span><span class="hs-comment">-- Darwin always requires PIC.  Especially on more recent macOS releases</span><span>
</span><span id="line-3998"></span><span>    </span><span class="hs-comment">-- there will be a 4GB __ZEROPAGE that prevents us from using 32bit addresses</span><span>
</span><span id="line-3999"></span><span>    </span><span class="hs-comment">-- while we could work around this on x86_64 (like WINE does), we won't be</span><span>
</span><span id="line-4000"></span><span>    </span><span class="hs-comment">-- able on aarch64, where this is enforced.</span><span>
</span><span id="line-4001"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">OSDarwin</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">ArchX86_64</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">]</span><span>
</span><span id="line-4002"></span><span>    </span><span class="hs-comment">-- For AArch64, we need to always have PIC enabled.  The relocation model</span><span>
</span><span id="line-4003"></span><span>    </span><span class="hs-comment">-- on AArch64 does not permit arbitrary relocations.  Under ASLR, we can't</span><span>
</span><span id="line-4004"></span><span>    </span><span class="hs-comment">-- control much how far apart symbols are in memory for our in-memory static</span><span>
</span><span id="line-4005"></span><span>    </span><span class="hs-comment">-- linker;  and thus need to ensure we get sufficiently capable relocations.</span><span>
</span><span id="line-4006"></span><span>    </span><span class="hs-comment">-- This requires PIC on AArch64, and ExternalDynamicRefs on Linux as on top</span><span>
</span><span id="line-4007"></span><span>    </span><span class="hs-comment">-- of that.  Subsequently we expect all code on aarch64/linux (and macOS) to</span><span>
</span><span id="line-4008"></span><span>    </span><span class="hs-comment">-- be built with -fPIC.</span><span>
</span><span id="line-4009"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">OSDarwin</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">ArchAArch64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">]</span><span>
</span><span id="line-4010"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">OSLinux</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">ArchAArch64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ExternalDynamicRefs</span><span class="hs-special">]</span><span>
</span><span id="line-4011"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">OSLinux</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">ArchARM</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_ExternalDynamicRefs</span><span class="hs-special">]</span><span>
</span><span id="line-4012"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">OSOpenBSD</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ArchX86_64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_PIC</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Due to PIE support in</span><span>
</span><span id="line-4013"></span><span>                                         </span><span class="hs-comment">-- OpenBSD since 5.3 release</span><span>
</span><span id="line-4014"></span><span>                                         </span><span class="hs-comment">-- (1 May 2013) we need to</span><span>
</span><span id="line-4015"></span><span>                                         </span><span class="hs-comment">-- always generate PIC. See</span><span>
</span><span id="line-4016"></span><span>                                         </span><span class="hs-comment">-- #10597 for more</span><span>
</span><span id="line-4017"></span><span>                                         </span><span class="hs-comment">-- information.</span><span>
</span><span id="line-4018"></span><span>    </span><span class="hs-identifier">_</span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-4019"></span><span>
</span><span id="line-4020"></span><span class="hs-comment">-- General flags that are switched on/off when other general flags are switched</span><span>
</span><span id="line-4021"></span><span class="hs-comment">-- on</span><span>
</span><span id="line-4022"></span><span class="hs-identifier">impliedGFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4023"></span><span class="annot"><a href="GHC.Driver.Session.html#impliedGFlags"><span class="hs-identifier hs-type">impliedGFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Opt_DeferTypeErrors</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DeferTypedHoles</span><span class="hs-special">)</span><span>
</span><span id="line-4024"></span><span>                </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier">Opt_DeferTypeErrors</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DeferOutOfScopeVariables</span><span class="hs-special">)</span><span>
</span><span id="line-4025"></span><span>                </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier">Opt_DoLinearCoreLinting</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DoCoreLinting</span><span class="hs-special">)</span><span>
</span><span id="line-4026"></span><span>                </span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-identifier">Opt_Strictness</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WorkerWrapper</span><span class="hs-special">)</span><span>
</span><span id="line-4027"></span><span>                </span><span class="hs-special">]</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">validHoleFitsImpliedGFlags</span><span>
</span><span id="line-4028"></span><span>
</span><span id="line-4029"></span><span class="hs-comment">-- General flags that are switched on/off when other general flags are switched</span><span>
</span><span id="line-4030"></span><span class="hs-comment">-- off</span><span>
</span><span id="line-4031"></span><span class="hs-identifier">impliedOffGFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4032"></span><span class="annot"><a href="GHC.Driver.Session.html#impliedOffGFlags"><span class="hs-identifier hs-type">impliedOffGFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Opt_Strictness</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WorkerWrapper</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4033"></span><span>
</span><span id="line-4034"></span><span class="hs-identifier">impliedXFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4035"></span><span class="annot"><a href="GHC.Driver.Session.html#impliedXFlags"><span class="hs-identifier hs-type">impliedXFlags</span></a></span><span>
</span><span id="line-4036"></span><span id="impliedXFlags"></span><span class="hs-comment">-- See Note [Updating flag description in the User's Guide]</span><span>
</span><span id="line-4037"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.RankNTypes</span><span class="hs-special">,</span><span>                </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">)</span><span>
</span><span id="line-4038"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.QuantifiedConstraints</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">)</span><span>
</span><span id="line-4039"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.ScopedTypeVariables</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">)</span><span>
</span><span id="line-4040"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.LiberalTypeSynonyms</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">)</span><span>
</span><span id="line-4041"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.ExistentialQuantification</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitForAll</span><span class="hs-special">)</span><span>
</span><span id="line-4042"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.FlexibleInstances</span><span class="hs-special">,</span><span>         </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.TypeSynonymInstances</span><span class="hs-special">)</span><span>
</span><span id="line-4043"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.FunctionalDependencies</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.MultiParamTypeClasses</span><span class="hs-special">)</span><span>
</span><span id="line-4044"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.MultiParamTypeClasses</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ConstrainedClassMethods</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- c.f. #7854</span><span>
</span><span id="line-4045"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeFamilyDependencies</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.TypeFamilies</span><span class="hs-special">)</span><span>
</span><span id="line-4046"></span><span>
</span><span id="line-4047"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.RebindableSyntax</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ImplicitPrelude</span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- NB: turn off!</span><span>
</span><span id="line-4048"></span><span>
</span><span id="line-4049"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.DerivingVia</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DerivingStrategies</span><span class="hs-special">)</span><span>
</span><span id="line-4050"></span><span>
</span><span id="line-4051"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.GADTs</span><span class="hs-special">,</span><span>            </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.GADTSyntax</span><span class="hs-special">)</span><span>
</span><span id="line-4052"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.GADTs</span><span class="hs-special">,</span><span>            </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.MonoLocalBinds</span><span class="hs-special">)</span><span>
</span><span id="line-4053"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeFamilies</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.MonoLocalBinds</span><span class="hs-special">)</span><span>
</span><span id="line-4054"></span><span>
</span><span id="line-4055"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeFamilies</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.KindSignatures</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Type families use kind signatures</span><span>
</span><span id="line-4056"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.PolyKinds</span><span class="hs-special">,</span><span>        </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.KindSignatures</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Ditto polymorphic kinds</span><span>
</span><span id="line-4057"></span><span>
</span><span id="line-4058"></span><span>    </span><span class="hs-comment">-- TypeInType is now just a synonym for a couple of other extensions.</span><span>
</span><span id="line-4059"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeInType</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DataKinds</span><span class="hs-special">)</span><span>
</span><span id="line-4060"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeInType</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.PolyKinds</span><span class="hs-special">)</span><span>
</span><span id="line-4061"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeInType</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.KindSignatures</span><span class="hs-special">)</span><span>
</span><span id="line-4062"></span><span>
</span><span id="line-4063"></span><span>    </span><span class="hs-comment">-- Standalone kind signatures are a replacement for CUSKs.</span><span>
</span><span id="line-4064"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.StandaloneKindSignatures</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOff</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.CUSKs</span><span class="hs-special">)</span><span>
</span><span id="line-4065"></span><span>
</span><span id="line-4066"></span><span>    </span><span class="hs-comment">-- AutoDeriveTypeable is not very useful without DeriveDataTypeable</span><span>
</span><span id="line-4067"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.AutoDeriveTypeable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveDataTypeable</span><span class="hs-special">)</span><span>
</span><span id="line-4068"></span><span>
</span><span id="line-4069"></span><span>    </span><span class="hs-comment">-- We turn this on so that we can export associated type</span><span>
</span><span id="line-4070"></span><span>    </span><span class="hs-comment">-- type synonyms in subordinates (e.g. MyClass(type AssocType))</span><span>
</span><span id="line-4071"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeFamilies</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitNamespaces</span><span class="hs-special">)</span><span>
</span><span id="line-4072"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TypeOperators</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitNamespaces</span><span class="hs-special">)</span><span>
</span><span id="line-4073"></span><span>
</span><span id="line-4074"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.ImpredicativeTypes</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.RankNTypes</span><span class="hs-special">)</span><span>
</span><span id="line-4075"></span><span>
</span><span id="line-4076"></span><span>        </span><span class="hs-comment">-- Record wild-cards implies field disambiguation</span><span>
</span><span id="line-4077"></span><span>        </span><span class="hs-comment">-- Otherwise if you write (C {..}) you may well get</span><span>
</span><span id="line-4078"></span><span>        </span><span class="hs-comment">-- stuff like &quot; 'a' not in scope &quot;, which is a bit silly</span><span>
</span><span id="line-4079"></span><span>        </span><span class="hs-comment">-- if the compiler has just filled in field 'a' of constructor 'C'</span><span>
</span><span id="line-4080"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.RecordWildCards</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DisambiguateRecordFields</span><span class="hs-special">)</span><span>
</span><span id="line-4081"></span><span>
</span><span id="line-4082"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.ParallelArrays</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ParallelListComp</span><span class="hs-special">)</span><span>
</span><span id="line-4083"></span><span>
</span><span id="line-4084"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.JavaScriptFFI</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.InterruptibleFFI</span><span class="hs-special">)</span><span>
</span><span id="line-4085"></span><span>
</span><span id="line-4086"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.DeriveTraversable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveFunctor</span><span class="hs-special">)</span><span>
</span><span id="line-4087"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.DeriveTraversable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveFoldable</span><span class="hs-special">)</span><span>
</span><span id="line-4088"></span><span>
</span><span id="line-4089"></span><span>    </span><span class="hs-comment">-- Duplicate record fields require field disambiguation</span><span>
</span><span id="line-4090"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.DuplicateRecordFields</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DisambiguateRecordFields</span><span class="hs-special">)</span><span>
</span><span id="line-4091"></span><span>
</span><span id="line-4092"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.TemplateHaskell</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.TemplateHaskellQuotes</span><span class="hs-special">)</span><span>
</span><span id="line-4093"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LangExt.Strict</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turnOn</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.StrictData</span><span class="hs-special">)</span><span>
</span><span id="line-4094"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-4095"></span><span>
</span><span id="line-4096"></span><span class="hs-comment">-- Note [When is StarIsType enabled]</span><span>
</span><span id="line-4097"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-4098"></span><span class="hs-comment">-- The StarIsType extension determines whether to treat '*' as a regular type</span><span>
</span><span id="line-4099"></span><span class="hs-comment">-- operator or as a synonym for 'Data.Kind.Type'. Many existing pre-TypeInType</span><span>
</span><span id="line-4100"></span><span class="hs-comment">-- programs expect '*' to be synonymous with 'Type', so by default StarIsType is</span><span>
</span><span id="line-4101"></span><span class="hs-comment">-- enabled.</span><span>
</span><span id="line-4102"></span><span class="hs-comment">--</span><span>
</span><span id="line-4103"></span><span class="hs-comment">-- Programs that use TypeOperators might expect to repurpose '*' for</span><span>
</span><span id="line-4104"></span><span class="hs-comment">-- multiplication or another binary operation, but making TypeOperators imply</span><span>
</span><span id="line-4105"></span><span class="hs-comment">-- NoStarIsType caused too much breakage on Hackage.</span><span>
</span><span id="line-4106"></span><span class="hs-comment">--</span><span>
</span><span id="line-4107"></span><span>
</span><span id="line-4108"></span><span class="hs-comment">-- Note [Documenting optimisation flags]</span><span>
</span><span id="line-4109"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-4110"></span><span class="hs-comment">--</span><span>
</span><span id="line-4111"></span><span class="hs-comment">-- If you change the list of flags enabled for particular optimisation levels</span><span>
</span><span id="line-4112"></span><span class="hs-comment">-- please remember to update the User's Guide. The relevant file is:</span><span>
</span><span id="line-4113"></span><span class="hs-comment">--</span><span>
</span><span id="line-4114"></span><span class="hs-comment">--   docs/users_guide/using-optimisation.rst</span><span>
</span><span id="line-4115"></span><span class="hs-comment">--</span><span>
</span><span id="line-4116"></span><span class="hs-comment">-- Make sure to note whether a flag is implied by -O0, -O or -O2.</span><span>
</span><span id="line-4117"></span><span>
</span><span id="line-4118"></span><span class="hs-identifier">optLevelFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-identifier">Int</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">GeneralFlag</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4119"></span><span class="hs-comment">-- Default settings of flags, before any command-line overrides</span><span>
</span><span id="line-4120"></span><span class="hs-identifier">optLevelFlags</span><span> </span><span class="hs-comment">-- see Note [Documenting optimisation flags]</span><span>
</span><span id="line-4121"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">,</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DoLambdaEtaExpansion</span><span class="hs-special">)</span><span>
</span><span id="line-4122"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">,</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DoEtaReduction</span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- See Note [Eta-reduction in -O0]</span><span>
</span><span id="line-4123"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">,</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_DmdTxDictSel</span><span class="hs-special">)</span><span>
</span><span id="line-4124"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">,</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_LlvmTBAA</span><span class="hs-special">)</span><span>
</span><span id="line-4125"></span><span>
</span><span id="line-4126"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_IgnoreInterfacePragmas</span><span class="hs-special">)</span><span>
</span><span id="line-4127"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">0</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_OmitInterfacePragmas</span><span class="hs-special">)</span><span>
</span><span id="line-4128"></span><span>
</span><span id="line-4129"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CallArity</span><span class="hs-special">)</span><span>
</span><span id="line-4130"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_Exitification</span><span class="hs-special">)</span><span>
</span><span id="line-4131"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CaseMerge</span><span class="hs-special">)</span><span>
</span><span id="line-4132"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CaseFolding</span><span class="hs-special">)</span><span>
</span><span id="line-4133"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CmmElimCommonBlocks</span><span class="hs-special">)</span><span>
</span><span id="line-4134"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_AsmShortcutting</span><span class="hs-special">)</span><span>
</span><span id="line-4135"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CmmSink</span><span class="hs-special">)</span><span>
</span><span id="line-4136"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CmmStaticPred</span><span class="hs-special">)</span><span>
</span><span id="line-4137"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CSE</span><span class="hs-special">)</span><span>
</span><span id="line-4138"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_StgCSE</span><span class="hs-special">)</span><span>
</span><span id="line-4139"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_StgLiftLams</span><span class="hs-special">)</span><span>
</span><span id="line-4140"></span><span>
</span><span id="line-4141"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_EnableRewriteRules</span><span class="hs-special">)</span><span>
</span><span id="line-4142"></span><span>          </span><span class="hs-comment">-- Off for -O0.   Otherwise we desugar list literals</span><span>
</span><span id="line-4143"></span><span>          </span><span class="hs-comment">-- to 'build' but don't run the simplifier passes that</span><span>
</span><span id="line-4144"></span><span>          </span><span class="hs-comment">-- would rewrite them back to cons cells!  This seems</span><span>
</span><span id="line-4145"></span><span>          </span><span class="hs-comment">-- silly, and matters for the GHCi debugger.</span><span>
</span><span id="line-4146"></span><span>
</span><span id="line-4147"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_FloatIn</span><span class="hs-special">)</span><span>
</span><span id="line-4148"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_FullLaziness</span><span class="hs-special">)</span><span>
</span><span id="line-4149"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_IgnoreAsserts</span><span class="hs-special">)</span><span>
</span><span id="line-4150"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_Loopification</span><span class="hs-special">)</span><span>
</span><span id="line-4151"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CfgBlocklayout</span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- Experimental</span><span>
</span><span id="line-4152"></span><span>
</span><span id="line-4153"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_Specialise</span><span class="hs-special">)</span><span>
</span><span id="line-4154"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CrossModuleSpecialise</span><span class="hs-special">)</span><span>
</span><span id="line-4155"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_Strictness</span><span class="hs-special">)</span><span>
</span><span id="line-4156"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_UnboxSmallStrictFields</span><span class="hs-special">)</span><span>
</span><span id="line-4157"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_CprAnal</span><span class="hs-special">)</span><span>
</span><span id="line-4158"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_WorkerWrapper</span><span class="hs-special">)</span><span>
</span><span id="line-4159"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_SolveConstantDicts</span><span class="hs-special">)</span><span>
</span><span id="line-4160"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">1</span><span class="hs-special">,</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">Opt_NumConstantFolding</span><span class="hs-special">)</span><span>
</span><span id="line-4161"></span><span>
</span><span id="line-4162"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_LiberateCase</span><span class="hs-special">)</span><span>
</span><span id="line-4163"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-number">2</span><span class="hs-special">]</span><span class="hs-special">,</span><span>     </span><span class="hs-identifier">Opt_SpecConstr</span><span class="hs-special">)</span><span>
</span><span id="line-4164"></span><span class="hs-comment">--  , ([2],     Opt_RegsGraph)</span><span>
</span><span id="line-4165"></span><span class="hs-comment">--   RegsGraph suffers performance regression. See #7679</span><span>
</span><span id="line-4166"></span><span class="hs-comment">--  , ([2],     Opt_StaticArgumentTransformation)</span><span>
</span><span id="line-4167"></span><span class="hs-comment">--   Static Argument Transformation needs investigation. See #9374</span><span>
</span><span id="line-4168"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-4169"></span><span>
</span><span id="line-4170"></span><span>
</span><span id="line-4171"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-4172"></span><span class="hs-comment">-- Standard sets of warning options</span><span>
</span><span id="line-4173"></span><span>
</span><span id="line-4174"></span><span class="hs-comment">-- Note [Documenting warning flags]</span><span>
</span><span id="line-4175"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-4176"></span><span class="hs-comment">--</span><span>
</span><span id="line-4177"></span><span class="hs-comment">-- If you change the list of warning enabled by default</span><span>
</span><span id="line-4178"></span><span class="hs-comment">-- please remember to update the User's Guide. The relevant file is:</span><span>
</span><span id="line-4179"></span><span class="hs-comment">--</span><span>
</span><span id="line-4180"></span><span class="hs-comment">--  docs/users_guide/using-warnings.rst</span><span>
</span><span id="line-4181"></span><span>
</span><span id="line-4182"></span><span class="hs-comment">-- | Warning groups.</span><span>
</span><span id="line-4183"></span><span class="hs-comment">--</span><span>
</span><span id="line-4184"></span><span class="hs-comment">-- As all warnings are in the Weverything set, it is ignored when</span><span>
</span><span id="line-4185"></span><span class="hs-comment">-- displaying to the user which group a warning is in.</span><span>
</span><span id="line-4186"></span><span class="hs-identifier">warningGroups</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4187"></span><span class="annot"><a href="GHC.Driver.Session.html#warningGroups"><span class="hs-identifier hs-type">warningGroups</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4188"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;compat&quot;</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">minusWcompatOpts</span><span class="hs-special">)</span><span>
</span><span id="line-4189"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;unused-binds&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unusedBindsFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4190"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;default&quot;</span><span class="hs-special">,</span><span>      </span><span class="hs-identifier">standardWarnings</span><span class="hs-special">)</span><span>
</span><span id="line-4191"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;extra&quot;</span><span class="hs-special">,</span><span>        </span><span class="hs-identifier">minusWOpts</span><span class="hs-special">)</span><span>
</span><span id="line-4192"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;all&quot;</span><span class="hs-special">,</span><span>          </span><span class="hs-identifier">minusWallOpts</span><span class="hs-special">)</span><span>
</span><span id="line-4193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;everything&quot;</span><span class="hs-special">,</span><span>   </span><span class="hs-identifier">minusWeverythingOpts</span><span class="hs-special">)</span><span>
</span><span id="line-4194"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-4195"></span><span>
</span><span id="line-4196"></span><span class="hs-comment">-- | Warning group hierarchies, where there is an explicit inclusion</span><span>
</span><span id="line-4197"></span><span class="hs-comment">-- relation.</span><span>
</span><span id="line-4198"></span><span class="hs-comment">--</span><span>
</span><span id="line-4199"></span><span class="hs-comment">-- Each inner list is a hierarchy of warning groups, ordered from</span><span>
</span><span id="line-4200"></span><span class="hs-comment">-- smallest to largest, where each group is a superset of the one</span><span>
</span><span id="line-4201"></span><span class="hs-comment">-- before it.</span><span>
</span><span id="line-4202"></span><span class="hs-comment">--</span><span>
</span><span id="line-4203"></span><span class="hs-comment">-- Separating this from 'warningGroups' allows for multiple</span><span>
</span><span id="line-4204"></span><span class="hs-comment">-- hierarchies with no inherent relation to be defined.</span><span>
</span><span id="line-4205"></span><span class="hs-comment">--</span><span>
</span><span id="line-4206"></span><span class="hs-comment">-- The special-case Weverything group is not included.</span><span>
</span><span id="line-4207"></span><span class="hs-identifier">warningHierarchies</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-4208"></span><span class="annot"><a href="GHC.Driver.Session.html#warningHierarchies"><span class="hs-identifier hs-type">warningHierarchies</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hierarchies</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">rest</span><span>
</span><span id="line-4209"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4210"></span><span>    </span><span class="hs-identifier">hierarchies</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-string">&quot;default&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;extra&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;all&quot;</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-4211"></span><span>    </span><span class="hs-identifier">rest</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">filter</span><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier">notElem</span><span class="hs-special">`</span><span> </span><span class="hs-string">&quot;everything&quot;</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">concat</span><span> </span><span class="hs-identifier">hierarchies</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-4212"></span><span>           </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">fst</span><span> </span><span class="hs-identifier">warningGroups</span><span>
</span><span id="line-4213"></span><span>
</span><span id="line-4214"></span><span class="hs-comment">-- | Find the smallest group in every hierarchy which a warning</span><span>
</span><span id="line-4215"></span><span class="hs-comment">-- belongs to, excluding Weverything.</span><span>
</span><span id="line-4216"></span><span class="hs-identifier">smallestGroups</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-4217"></span><span class="annot"><a href="GHC.Driver.Session.html#smallestGroups"><span class="hs-identifier hs-type">smallestGroups</span></a></span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mapMaybe</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">warningHierarchies</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4218"></span><span>    </span><span class="hs-comment">-- Because each hierarchy is arranged from smallest to largest,</span><span>
</span><span id="line-4219"></span><span>    </span><span class="hs-comment">-- the first group we find in a hierarchy which contains the flag</span><span>
</span><span id="line-4220"></span><span>    </span><span class="hs-comment">-- is the smallest.</span><span>
</span><span id="line-4221"></span><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">group</span><span class="hs-glyph">:</span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">fromMaybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">rest</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4222"></span><span>        </span><span class="hs-identifier">flags</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">lookup</span><span> </span><span class="hs-identifier">group</span><span> </span><span class="hs-identifier">warningGroups</span><span>
</span><span id="line-4223"></span><span>        </span><span class="hs-identifier">guard</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">flag</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">flags</span><span class="hs-special">)</span><span>
</span><span id="line-4224"></span><span>        </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">group</span><span class="hs-special">)</span><span>
</span><span id="line-4225"></span><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-4226"></span><span>
</span><span id="line-4227"></span><span class="hs-comment">-- | Warnings enabled unless specified otherwise</span><span>
</span><span id="line-4228"></span><span class="hs-identifier">standardWarnings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4229"></span><span class="annot"><a href="GHC.Driver.Session.html#standardWarnings"><span class="hs-identifier hs-type">standardWarnings</span></a></span><span> </span><span class="hs-comment">-- see Note [Documenting warning flags]</span><span>
</span><span id="line-4230"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_WarnOverlappingPatterns</span><span class="hs-special">,</span><span>
</span><span id="line-4231"></span><span>        </span><span class="hs-identifier">Opt_WarnWarningsDeprecations</span><span class="hs-special">,</span><span>
</span><span id="line-4232"></span><span>        </span><span class="hs-identifier">Opt_WarnDeprecatedFlags</span><span class="hs-special">,</span><span>
</span><span id="line-4233"></span><span>        </span><span class="hs-identifier">Opt_WarnDeferredTypeErrors</span><span class="hs-special">,</span><span>
</span><span id="line-4234"></span><span>        </span><span class="hs-identifier">Opt_WarnTypedHoles</span><span class="hs-special">,</span><span>
</span><span id="line-4235"></span><span>        </span><span class="hs-identifier">Opt_WarnDeferredOutOfScopeVariables</span><span class="hs-special">,</span><span>
</span><span id="line-4236"></span><span>        </span><span class="hs-identifier">Opt_WarnPartialTypeSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-4237"></span><span>        </span><span class="hs-identifier">Opt_WarnUnrecognisedPragmas</span><span class="hs-special">,</span><span>
</span><span id="line-4238"></span><span>        </span><span class="hs-identifier">Opt_WarnDuplicateExports</span><span class="hs-special">,</span><span>
</span><span id="line-4239"></span><span>        </span><span class="hs-identifier">Opt_WarnDerivingDefaults</span><span class="hs-special">,</span><span>
</span><span id="line-4240"></span><span>        </span><span class="hs-identifier">Opt_WarnOverflowedLiterals</span><span class="hs-special">,</span><span>
</span><span id="line-4241"></span><span>        </span><span class="hs-identifier">Opt_WarnEmptyEnumerations</span><span class="hs-special">,</span><span>
</span><span id="line-4242"></span><span>        </span><span class="hs-identifier">Opt_WarnMissingFields</span><span class="hs-special">,</span><span>
</span><span id="line-4243"></span><span>        </span><span class="hs-identifier">Opt_WarnMissingMethods</span><span class="hs-special">,</span><span>
</span><span id="line-4244"></span><span>        </span><span class="hs-identifier">Opt_WarnWrongDoBind</span><span class="hs-special">,</span><span>
</span><span id="line-4245"></span><span>        </span><span class="hs-identifier">Opt_WarnUnsupportedCallingConventions</span><span class="hs-special">,</span><span>
</span><span id="line-4246"></span><span>        </span><span class="hs-identifier">Opt_WarnDodgyForeignImports</span><span class="hs-special">,</span><span>
</span><span id="line-4247"></span><span>        </span><span class="hs-identifier">Opt_WarnInlineRuleShadowing</span><span class="hs-special">,</span><span>
</span><span id="line-4248"></span><span>        </span><span class="hs-identifier">Opt_WarnAlternativeLayoutRuleTransitional</span><span class="hs-special">,</span><span>
</span><span id="line-4249"></span><span>        </span><span class="hs-identifier">Opt_WarnUnsupportedLlvmVersion</span><span class="hs-special">,</span><span>
</span><span id="line-4250"></span><span>        </span><span class="hs-identifier">Opt_WarnMissedExtraSharedLib</span><span class="hs-special">,</span><span>
</span><span id="line-4251"></span><span>        </span><span class="hs-identifier">Opt_WarnTabs</span><span class="hs-special">,</span><span>
</span><span id="line-4252"></span><span>        </span><span class="hs-identifier">Opt_WarnUnrecognisedWarningFlags</span><span class="hs-special">,</span><span>
</span><span id="line-4253"></span><span>        </span><span class="hs-identifier">Opt_WarnSimplifiableClassConstraints</span><span class="hs-special">,</span><span>
</span><span id="line-4254"></span><span>        </span><span class="hs-identifier">Opt_WarnStarBinder</span><span class="hs-special">,</span><span>
</span><span id="line-4255"></span><span>        </span><span class="hs-identifier">Opt_WarnInaccessibleCode</span><span class="hs-special">,</span><span>
</span><span id="line-4256"></span><span>        </span><span class="hs-identifier">Opt_WarnSpaceAfterBang</span><span class="hs-special">,</span><span>
</span><span id="line-4257"></span><span>        </span><span class="hs-identifier">Opt_WarnUnicodeBidirectionalFormatCharacters</span><span>
</span><span id="line-4258"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-4259"></span><span>
</span><span id="line-4260"></span><span class="hs-comment">-- | Things you get with -W</span><span>
</span><span id="line-4261"></span><span class="hs-identifier">minusWOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4262"></span><span class="annot"><a href="GHC.Driver.Session.html#minusWOpts"><span class="hs-identifier hs-type">minusWOpts</span></a></span><span>
</span><span id="line-4263"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">standardWarnings</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-4264"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_WarnUnusedTopBinds</span><span class="hs-special">,</span><span>
</span><span id="line-4265"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedLocalBinds</span><span class="hs-special">,</span><span>
</span><span id="line-4266"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedPatternBinds</span><span class="hs-special">,</span><span>
</span><span id="line-4267"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedMatches</span><span class="hs-special">,</span><span>
</span><span id="line-4268"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedForalls</span><span class="hs-special">,</span><span>
</span><span id="line-4269"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedImports</span><span class="hs-special">,</span><span>
</span><span id="line-4270"></span><span>        </span><span class="hs-identifier">Opt_WarnIncompletePatterns</span><span class="hs-special">,</span><span>
</span><span id="line-4271"></span><span>        </span><span class="hs-identifier">Opt_WarnDodgyExports</span><span class="hs-special">,</span><span>
</span><span id="line-4272"></span><span>        </span><span class="hs-identifier">Opt_WarnDodgyImports</span><span class="hs-special">,</span><span>
</span><span id="line-4273"></span><span>        </span><span class="hs-identifier">Opt_WarnUnbangedStrictPatterns</span><span>
</span><span id="line-4274"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-4275"></span><span>
</span><span id="line-4276"></span><span class="hs-comment">-- | Things you get with -Wall</span><span>
</span><span id="line-4277"></span><span class="hs-identifier">minusWallOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4278"></span><span class="annot"><a href="GHC.Driver.Session.html#minusWallOpts"><span class="hs-identifier hs-type">minusWallOpts</span></a></span><span>
</span><span id="line-4279"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">minusWOpts</span><span> </span><span class="hs-operator">++</span><span>
</span><span id="line-4280"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_WarnTypeDefaults</span><span class="hs-special">,</span><span>
</span><span id="line-4281"></span><span>        </span><span class="hs-identifier">Opt_WarnNameShadowing</span><span class="hs-special">,</span><span>
</span><span id="line-4282"></span><span>        </span><span class="hs-identifier">Opt_WarnMissingSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-4283"></span><span>        </span><span class="hs-identifier">Opt_WarnHiShadows</span><span class="hs-special">,</span><span>
</span><span id="line-4284"></span><span>        </span><span class="hs-identifier">Opt_WarnOrphans</span><span class="hs-special">,</span><span>
</span><span id="line-4285"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedDoBind</span><span class="hs-special">,</span><span>
</span><span id="line-4286"></span><span>        </span><span class="hs-identifier">Opt_WarnTrustworthySafe</span><span class="hs-special">,</span><span>
</span><span id="line-4287"></span><span>        </span><span class="hs-identifier">Opt_WarnUntickedPromotedConstructors</span><span class="hs-special">,</span><span>
</span><span id="line-4288"></span><span>        </span><span class="hs-identifier">Opt_WarnMissingPatternSynonymSignatures</span><span class="hs-special">,</span><span>
</span><span id="line-4289"></span><span>        </span><span class="hs-identifier">Opt_WarnUnusedRecordWildcards</span><span class="hs-special">,</span><span>
</span><span id="line-4290"></span><span>        </span><span class="hs-identifier">Opt_WarnRedundantRecordWildcards</span><span class="hs-special">,</span><span>
</span><span id="line-4291"></span><span>        </span><span class="hs-identifier">Opt_WarnStarIsType</span><span>
</span><span id="line-4292"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-4293"></span><span>
</span><span id="line-4294"></span><span class="hs-comment">-- | Things you get with -Weverything, i.e. *all* known warnings flags</span><span>
</span><span id="line-4295"></span><span class="hs-identifier">minusWeverythingOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4296"></span><span class="annot"><a href="GHC.Driver.Session.html#minusWeverythingOpts"><span class="hs-identifier hs-type">minusWeverythingOpts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">toEnum</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">..</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-4297"></span><span>
</span><span id="line-4298"></span><span class="hs-comment">-- | Things you get with -Wcompat.</span><span>
</span><span id="line-4299"></span><span class="hs-comment">--</span><span>
</span><span id="line-4300"></span><span class="hs-comment">-- This is intended to group together warnings that will be enabled by default</span><span>
</span><span id="line-4301"></span><span class="hs-comment">-- at some point in the future, so that library authors eager to make their</span><span>
</span><span id="line-4302"></span><span class="hs-comment">-- code future compatible to fix issues before they even generate warnings.</span><span>
</span><span id="line-4303"></span><span class="hs-identifier">minusWcompatOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4304"></span><span class="annot"><a href="GHC.Driver.Session.html#minusWcompatOpts"><span class="hs-identifier hs-type">minusWcompatOpts</span></a></span><span>
</span><span id="line-4305"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_WarnSemigroup</span><span>
</span><span id="line-4306"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WarnNonCanonicalMonoidInstances</span><span>
</span><span id="line-4307"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WarnStarIsType</span><span>
</span><span id="line-4308"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WarnCompatUnqualifiedImports</span><span>
</span><span id="line-4309"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-4310"></span><span>
</span><span id="line-4311"></span><span class="hs-identifier">enableUnusedBinds</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4312"></span><span class="annot"><a href="GHC.Driver.Session.html#enableUnusedBinds"><span class="hs-identifier hs-type">enableUnusedBinds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">unusedBindsFlags</span><span>
</span><span id="line-4313"></span><span>
</span><span id="line-4314"></span><span class="hs-identifier">disableUnusedBinds</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4315"></span><span class="annot"><a href="GHC.Driver.Session.html#disableUnusedBinds"><span class="hs-identifier hs-type">disableUnusedBinds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-identifier">unusedBindsFlags</span><span>
</span><span id="line-4316"></span><span>
</span><span id="line-4317"></span><span class="hs-comment">-- Things you get with -Wunused-binds</span><span>
</span><span id="line-4318"></span><span class="hs-identifier">unusedBindsFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">WarningFlag</span><span class="hs-special">]</span><span>
</span><span id="line-4319"></span><span class="annot"><a href="GHC.Driver.Session.html#unusedBindsFlags"><span class="hs-identifier hs-type">unusedBindsFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">Opt_WarnUnusedTopBinds</span><span>
</span><span id="line-4320"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WarnUnusedLocalBinds</span><span>
</span><span id="line-4321"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Opt_WarnUnusedPatternBinds</span><span>
</span><span id="line-4322"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-4323"></span><span>
</span><span id="line-4324"></span><span class="hs-identifier">enableGlasgowExts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4325"></span><span class="annot"><a href="GHC.Driver.Session.html#enableGlasgowExts"><span class="hs-identifier hs-type">enableGlasgowExts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PrintExplicitForalls</span><span>
</span><span id="line-4326"></span><span>                       </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">setExtensionFlag</span><span> </span><span class="hs-identifier">glasgowExtsFlags</span><span>
</span><span id="line-4327"></span><span>
</span><span id="line-4328"></span><span class="hs-identifier">disableGlasgowExts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4329"></span><span class="annot"><a href="GHC.Driver.Session.html#disableGlasgowExts"><span class="hs-identifier hs-type">disableGlasgowExts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PrintExplicitForalls</span><span>
</span><span id="line-4330"></span><span>                        </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">unSetExtensionFlag</span><span> </span><span class="hs-identifier">glasgowExtsFlags</span><span>
</span><span id="line-4331"></span><span>
</span><span id="line-4332"></span><span class="hs-comment">-- Please keep what_glasgow_exts_does.rst up to date with this list</span><span>
</span><span id="line-4333"></span><span class="hs-identifier">glasgowExtsFlags</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">LangExt.Extension</span><span class="hs-special">]</span><span>
</span><span id="line-4334"></span><span class="annot"><a href="GHC.Driver.Session.html#glasgowExtsFlags"><span class="hs-identifier hs-type">glasgowExtsFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-4335"></span><span>             </span><span class="hs-identifier">LangExt.ConstrainedClassMethods</span><span>
</span><span id="line-4336"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveDataTypeable</span><span>
</span><span id="line-4337"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveFoldable</span><span>
</span><span id="line-4338"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveFunctor</span><span>
</span><span id="line-4339"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveGeneric</span><span>
</span><span id="line-4340"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.DeriveTraversable</span><span>
</span><span id="line-4341"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.EmptyDataDecls</span><span>
</span><span id="line-4342"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExistentialQuantification</span><span>
</span><span id="line-4343"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ExplicitNamespaces</span><span>
</span><span id="line-4344"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.FlexibleContexts</span><span>
</span><span id="line-4345"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.FlexibleInstances</span><span>
</span><span id="line-4346"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ForeignFunctionInterface</span><span>
</span><span id="line-4347"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.FunctionalDependencies</span><span>
</span><span id="line-4348"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.GeneralizedNewtypeDeriving</span><span>
</span><span id="line-4349"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ImplicitParams</span><span>
</span><span id="line-4350"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.KindSignatures</span><span>
</span><span id="line-4351"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.LiberalTypeSynonyms</span><span>
</span><span id="line-4352"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.MagicHash</span><span>
</span><span id="line-4353"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.MultiParamTypeClasses</span><span>
</span><span id="line-4354"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ParallelListComp</span><span>
</span><span id="line-4355"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.PatternGuards</span><span>
</span><span id="line-4356"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.PostfixOperators</span><span>
</span><span id="line-4357"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.RankNTypes</span><span>
</span><span id="line-4358"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.RecursiveDo</span><span>
</span><span id="line-4359"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.ScopedTypeVariables</span><span>
</span><span id="line-4360"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.StandaloneDeriving</span><span>
</span><span id="line-4361"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.TypeOperators</span><span>
</span><span id="line-4362"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.TypeSynonymInstances</span><span>
</span><span id="line-4363"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.UnboxedTuples</span><span>
</span><span id="line-4364"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.UnicodeSyntax</span><span>
</span><span id="line-4365"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LangExt.UnliftedFFITypes</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-4366"></span><span>
</span><span id="line-4367"></span><span class="hs-identifier">setWarnSafe</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4368"></span><span class="annot"><a href="GHC.Driver.Session.html#setWarnSafe"><span class="hs-identifier hs-type">setWarnSafe</span></a></span><span> </span><span class="hs-identifier">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getCurLoc</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">warnSafeOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4369"></span><span id="setWarnSafe"><span class="annot"><span class="annottext">setWarnSafe :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setWarnSafe"><span class="hs-identifier hs-var hs-var">setWarnSafe</span></a></span></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4370"></span><span>
</span><span id="line-4371"></span><span class="hs-identifier">setWarnUnsafe</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4372"></span><span class="annot"><a href="GHC.Driver.Session.html#setWarnUnsafe"><span class="hs-identifier hs-type">setWarnUnsafe</span></a></span><span> </span><span class="hs-identifier">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getCurLoc</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">warnUnsafeOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4373"></span><span id="setWarnUnsafe"><span class="annot"><span class="annottext">setWarnUnsafe :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setWarnUnsafe"><span class="hs-identifier hs-var hs-var">setWarnUnsafe</span></a></span></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4374"></span><span>
</span><span id="line-4375"></span><span class="hs-identifier">setPackageTrust</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4376"></span><span class="annot"><a href="GHC.Driver.Session.html#setPackageTrust"><span class="hs-identifier hs-type">setPackageTrust</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4377"></span><span>    </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_PackageTrust</span><span>
</span><span id="line-4378"></span><span>    </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">getCurLoc</span><span>
</span><span id="line-4379"></span><span>    </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pkgTrustOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4380"></span><span>
</span><span id="line-4381"></span><span class="hs-identifier">setGenDeriving</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4382"></span><span class="annot"><a href="GHC.Driver.Session.html#setGenDeriving"><span class="hs-identifier hs-type">setGenDeriving</span></a></span><span> </span><span class="hs-identifier">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getCurLoc</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">newDerivOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4383"></span><span id="setGenDeriving"><span class="annot"><span class="annottext">setGenDeriving :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setGenDeriving"><span class="hs-identifier hs-var hs-var">setGenDeriving</span></a></span></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4384"></span><span>
</span><span id="line-4385"></span><span class="hs-identifier">setDeriveVia</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4386"></span><span class="annot"><a href="GHC.Driver.Session.html#setDeriveVia"><span class="hs-identifier hs-type">setDeriveVia</span></a></span><span> </span><span class="hs-identifier">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getCurLoc</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">deriveViaOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4387"></span><span id="setDeriveVia"><span class="annot"><span class="annottext">setDeriveVia :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setDeriveVia"><span class="hs-identifier hs-var hs-var">setDeriveVia</span></a></span></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4388"></span><span>
</span><span id="line-4389"></span><span class="hs-identifier">setOverlappingInsts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4390"></span><span class="annot"><a href="GHC.Driver.Session.html#setOverlappingInsts"><span class="hs-identifier hs-type">setOverlappingInsts</span></a></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4391"></span><span id="setOverlappingInsts"><span class="annot"><span class="annottext">setOverlappingInsts :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setOverlappingInsts"><span class="hs-identifier hs-var hs-var">setOverlappingInsts</span></a></span></span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4392"></span><span>  </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">getCurLoc</span><span>
</span><span id="line-4393"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">overlapInstLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4394"></span><span>
</span><span id="line-4395"></span><span class="hs-identifier">setIncoherentInsts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4396"></span><span class="annot"><a href="GHC.Driver.Session.html#setIncoherentInsts"><span class="hs-identifier hs-type">setIncoherentInsts</span></a></span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4397"></span><span id="setIncoherentInsts"><span class="annot"><span class="annottext">setIncoherentInsts :: Bool -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#setIncoherentInsts"><span class="hs-identifier hs-var hs-var">setIncoherentInsts</span></a></span></span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4398"></span><span>  </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">getCurLoc</span><span>
</span><span id="line-4399"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">incoherentOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4400"></span><span>
</span><span id="line-4401"></span><span class="hs-identifier">checkTemplateHaskellOk</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TurnOnFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4402"></span><span class="annot"><a href="GHC.Driver.Session.html#checkTemplateHaskellOk"><span class="hs-identifier hs-type">checkTemplateHaskellOk</span></a></span><span> </span><span class="hs-identifier">_turn_on</span><span>
</span><span id="line-4403"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getCurLoc</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">thOnLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4404"></span><span>
</span><span id="line-4405"></span><span class="hs-comment">{- **********************************************************************
%*                                                                      *
                DynFlags constructors
%*                                                                      *
%********************************************************************* -}</span><span>
</span><span id="line-4410"></span><span>
</span><span id="line-4411"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">EwM</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4412"></span><span>
</span><span id="line-4413"></span><span class="hs-identifier">upd</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4414"></span><span class="annot"><a href="GHC.Driver.Session.html#upd"><span class="hs-identifier hs-type">upd</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">getCmdLineState</span><span>
</span><span id="line-4415"></span><span>                    </span><span class="hs-identifier">putCmdLineState</span><span> </span><span class="hs-operator">$!</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-4416"></span><span>
</span><span id="line-4417"></span><span class="hs-identifier">updM</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4418"></span><span class="annot"><a href="GHC.Driver.Session.html#updM"><span class="hs-identifier hs-type">updM</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-identifier">getCmdLineState</span><span>
</span><span id="line-4419"></span><span>            </span><span class="hs-identifier">dflags'</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4420"></span><span>            </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">putCmdLineState</span><span> </span><span class="hs-operator">$!</span><span> </span><span class="hs-identifier">dflags'</span><span>
</span><span id="line-4421"></span><span>
</span><span id="line-4422"></span><span class="hs-comment">--------------- Constructor functions for OptKind -----------------</span><span>
</span><span id="line-4423"></span><span class="hs-identifier">noArg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4424"></span><span class="annot"><a href="GHC.Driver.Session.html#noArg"><span class="hs-identifier hs-type">noArg</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-identifier">fn</span><span class="hs-special">)</span><span>
</span><span id="line-4425"></span><span>
</span><span id="line-4426"></span><span class="hs-identifier">noArgM</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4427"></span><span class="annot"><a href="GHC.Driver.Session.html#noArgM"><span class="hs-identifier hs-type">noArgM</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">updM</span><span> </span><span class="hs-identifier">fn</span><span class="hs-special">)</span><span>
</span><span id="line-4428"></span><span>
</span><span id="line-4429"></span><span class="hs-identifier">hasArg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4430"></span><span class="annot"><a href="GHC.Driver.Session.html#hasArg"><span class="hs-identifier hs-type">hasArg</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HasArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fn</span><span class="hs-special">)</span><span>
</span><span id="line-4431"></span><span>
</span><span id="line-4432"></span><span class="hs-identifier">sepArg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4433"></span><span class="annot"><a href="GHC.Driver.Session.html#sepArg"><span class="hs-identifier hs-type">sepArg</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">SepArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fn</span><span class="hs-special">)</span><span>
</span><span id="line-4434"></span><span>
</span><span id="line-4435"></span><span class="hs-identifier">intSuffix</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4436"></span><span class="annot"><a href="GHC.Driver.Session.html#intSuffix"><span class="hs-identifier hs-type">intSuffix</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IntSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fn</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4437"></span><span>
</span><span id="line-4438"></span><span class="hs-identifier">intSuffixM</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4439"></span><span class="annot"><a href="GHC.Driver.Session.html#intSuffixM"><span class="hs-identifier hs-type">intSuffixM</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IntSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">updM</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fn</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4440"></span><span>
</span><span id="line-4441"></span><span class="hs-identifier">floatSuffix</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Float</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4442"></span><span class="annot"><a href="GHC.Driver.Session.html#floatSuffix"><span class="hs-identifier hs-type">floatSuffix</span></a></span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FloatSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">n</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fn</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4443"></span><span>
</span><span id="line-4444"></span><span class="hs-identifier">optIntSuffixM</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4445"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4446"></span><span class="hs-identifier">optIntSuffixM</span><span> </span><span class="hs-identifier">fn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">OptIntSuffix</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">mi</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">updM</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fn</span><span> </span><span class="hs-identifier">mi</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4447"></span><span>
</span><span id="line-4448"></span><span class="hs-identifier">setDumpFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DumpFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">OptKind</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CmdLineP</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span>
</span><span id="line-4449"></span><span class="annot"><a href="GHC.Driver.Session.html#setDumpFlag"><span class="hs-identifier hs-type">setDumpFlag</span></a></span><span> </span><span class="hs-identifier">dump_flag</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-identifier">dump_flag</span><span class="hs-special">)</span><span>
</span><span id="line-4450"></span><span>
</span><span id="line-4451"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4452"></span><span class="hs-identifier">addWay</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Way</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4453"></span><span class="annot"><a href="GHC.Driver.Session.html#addWay"><span class="hs-identifier hs-type">addWay</span></a></span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">addWay'</span><span> </span><span class="hs-identifier">w</span><span class="hs-special">)</span><span>
</span><span id="line-4454"></span><span>
</span><span id="line-4455"></span><span class="hs-identifier">addWay'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Way</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4456"></span><span class="annot"><a href="GHC.Driver.Session.html#addWay%27"><span class="hs-identifier hs-type">addWay'</span></a></span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-identifier">dflags0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags0</span><span>
</span><span id="line-4457"></span><span>                        </span><span class="hs-identifier">dflags1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dflags0</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ways</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Set.insert</span><span> </span><span class="hs-identifier">w</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags0</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4458"></span><span>                        </span><span class="hs-identifier">dflags2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-identifier">setGeneralFlag'</span><span> </span><span class="hs-identifier">dflags1</span><span>
</span><span id="line-4459"></span><span>                                        </span><span class="hs-special">(</span><span class="hs-identifier">wayGeneralFlags</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-identifier">w</span><span class="hs-special">)</span><span>
</span><span id="line-4460"></span><span>                        </span><span class="hs-identifier">dflags3</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-identifier">unSetGeneralFlag'</span><span> </span><span class="hs-identifier">dflags2</span><span>
</span><span id="line-4461"></span><span>                                        </span><span class="hs-special">(</span><span class="hs-identifier">wayUnsetGeneralFlags</span><span> </span><span class="hs-identifier">platform</span><span> </span><span class="hs-identifier">w</span><span class="hs-special">)</span><span>
</span><span id="line-4462"></span><span>                    </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">dflags3</span><span>
</span><span id="line-4463"></span><span>
</span><span id="line-4464"></span><span class="hs-identifier">removeWayDyn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4465"></span><span class="annot"><a href="GHC.Driver.Session.html#removeWayDyn"><span class="hs-identifier hs-type">removeWayDyn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ways</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Set.filter</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">WayDyn</span><span> </span><span class="hs-operator">/=</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4466"></span><span>
</span><span id="line-4467"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4468"></span><span class="hs-identifier">setGeneralFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4469"></span><span class="annot"><a href="GHC.Driver.Session.html#setGeneralFlag"><span class="hs-identifier hs-type">setGeneralFlag</span></a></span><span>   </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag'</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4470"></span><span id="setGeneralFlag"></span><span class="hs-identifier">unSetGeneralFlag</span><span> </span><span id="local-6989586621680784603"><span class="annot"><span class="annottext">GeneralFlag
</span><a href="#local-6989586621680784603"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DynFlags -&gt; DynFlags) -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#upd"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unSetGeneralFlag'</span></span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4471"></span><span>
</span><span id="line-4472"></span><span class="hs-identifier">setGeneralFlag'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4473"></span><span class="annot"><a href="GHC.Driver.Session.html#setGeneralFlag%27"><span class="hs-identifier hs-type">setGeneralFlag'</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-special">(</span><span class="hs-operator">$</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">gopt_set</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">deps</span><span>
</span><span id="line-4474"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4475"></span><span>    </span><span class="hs-identifier">deps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">setGeneralFlag'</span><span>   </span><span class="hs-identifier">d</span><span>
</span><span id="line-4476"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">unSetGeneralFlag'</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-4477"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turn_on</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">impliedGFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">f'</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-4478"></span><span>        </span><span class="hs-comment">-- When you set f, set the ones it implies</span><span>
</span><span id="line-4479"></span><span>        </span><span class="hs-comment">-- NB: use setGeneralFlag recursively, in case the implied flags</span><span>
</span><span id="line-4480"></span><span>        </span><span class="hs-comment">--     implies further flags</span><span>
</span><span id="line-4481"></span><span>
</span><span id="line-4482"></span><span class="hs-identifier">unSetGeneralFlag'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">GeneralFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4483"></span><span class="annot"><a href="GHC.Driver.Session.html#unSetGeneralFlag%27"><span class="hs-identifier hs-type">unSetGeneralFlag'</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-special">(</span><span class="hs-operator">$</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">gopt_unset</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">deps</span><span>
</span><span id="line-4484"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4485"></span><span>    </span><span class="hs-identifier">deps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">setGeneralFlag'</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-4486"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">unSetGeneralFlag'</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-4487"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turn_on</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">impliedOffGFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">f'</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-4488"></span><span>   </span><span class="hs-comment">-- In general, when you un-set f, we don't un-set the things it implies.</span><span>
</span><span id="line-4489"></span><span>   </span><span class="hs-comment">-- There are however some exceptions, e.g., -fno-strictness implies</span><span>
</span><span id="line-4490"></span><span>   </span><span class="hs-comment">-- -fno-worker-wrapper.</span><span>
</span><span id="line-4491"></span><span>   </span><span class="hs-comment">--</span><span>
</span><span id="line-4492"></span><span>   </span><span class="hs-comment">-- NB: use unSetGeneralFlag' recursively, in case the implied off flags</span><span>
</span><span id="line-4493"></span><span>   </span><span class="hs-comment">--     imply further flags.</span><span>
</span><span id="line-4494"></span><span>
</span><span id="line-4495"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4496"></span><span class="hs-identifier">setWarningFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4497"></span><span class="annot"><a href="GHC.Driver.Session.html#setWarningFlag"><span class="hs-identifier hs-type">setWarningFlag</span></a></span><span>   </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">wopt_set</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4498"></span><span id="setWarningFlag"></span><span class="hs-identifier">unSetWarningFlag</span><span> </span><span id="local-6989586621680784586"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621680784586"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DynFlags -&gt; DynFlags) -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#upd"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680784585"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784585"><span class="hs-identifier hs-var">dfs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">wopt_unset</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4499"></span><span>
</span><span id="line-4500"></span><span class="hs-identifier">setFatalWarningFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4501"></span><span class="annot"><a href="GHC.Driver.Session.html#setFatalWarningFlag"><span class="hs-identifier hs-type">setFatalWarningFlag</span></a></span><span>   </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">wopt_set_fatal</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4502"></span><span id="setFatalWarningFlag"></span><span class="hs-identifier">unSetFatalWarningFlag</span><span> </span><span id="local-6989586621680784582"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621680784582"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DynFlags -&gt; DynFlags) -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#upd"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680784581"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784581"><span class="hs-identifier hs-var">dfs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">wopt_unset_fatal</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4503"></span><span>
</span><span id="line-4504"></span><span class="hs-identifier">setWErrorFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">WarningFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4505"></span><span class="annot"><a href="GHC.Driver.Session.html#setWErrorFlag"><span class="hs-identifier hs-type">setWErrorFlag</span></a></span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4506"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">setWarningFlag</span><span> </span><span class="hs-identifier">flag</span><span>
</span><span id="line-4507"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">setFatalWarningFlag</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4508"></span><span>
</span><span id="line-4509"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4510"></span><span class="hs-identifier">setExtensionFlag</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unSetExtensionFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4511"></span><span class="annot"><a href="GHC.Driver.Session.html#setExtensionFlag"><span class="hs-identifier hs-type">setExtensionFlag</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setExtensionFlag'</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4512"></span><span id="setExtensionFlag"></span><span id="local-6989586621680784577"></span><span class="hs-identifier">unSetExtensionFlag</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unSetExtensionFlag'</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><span id="line-4513"></span><span>
</span><span id="line-4514"></span><span class="hs-identifier">setExtensionFlag'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">unSetExtensionFlag'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">LangExt.Extension</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4515"></span><span class="annot"><a href="GHC.Driver.Session.html#setExtensionFlag%27"><span class="hs-identifier hs-type">setExtensionFlag'</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldr</span><span> </span><span class="hs-special">(</span><span class="hs-operator">$</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">xopt_set</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">deps</span><span>
</span><span id="line-4516"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4517"></span><span>    </span><span class="hs-identifier">deps</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">turn_on</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">setExtensionFlag'</span><span>   </span><span class="hs-identifier">d</span><span>
</span><span id="line-4518"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">unSetExtensionFlag'</span><span> </span><span class="hs-identifier">d</span><span>
</span><span id="line-4519"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f'</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">turn_on</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">impliedXFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">f'</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-4520"></span><span>        </span><span class="hs-comment">-- When you set f, set the ones it implies</span><span>
</span><span id="line-4521"></span><span>        </span><span class="hs-comment">-- NB: use setExtensionFlag recursively, in case the implied flags</span><span>
</span><span id="line-4522"></span><span>        </span><span class="hs-comment">--     implies further flags</span><span>
</span><span id="line-4523"></span><span>
</span><span id="line-4524"></span><span class="hs-identifier">unSetExtensionFlag'</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">xopt_unset</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">f</span><span>
</span><span id="line-4525"></span><span>   </span><span class="hs-comment">-- When you un-set f, however, we don't un-set the things it implies</span><span>
</span><span id="line-4526"></span><span>   </span><span class="hs-comment">--      (except for -fno-glasgow-exts, which is treated specially)</span><span>
</span><span id="line-4527"></span><span>
</span><span id="line-4528"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4529"></span><span class="hs-identifier">alterFileSettings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FileSettings</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">FileSettings</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4530"></span><span class="annot"><a href="GHC.Driver.Session.html#alterFileSettings"><span class="hs-identifier hs-type">alterFileSettings</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynFlags</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fileSettings</span><span> </span><span class="hs-identifier">dynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4531"></span><span>
</span><span id="line-4532"></span><span class="hs-identifier">alterToolSettings</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ToolSettings</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ToolSettings</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4533"></span><span class="annot"><a href="GHC.Driver.Session.html#alterToolSettings"><span class="hs-identifier hs-type">alterToolSettings</span></a></span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">dynFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dynFlags</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dynFlags</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4534"></span><span>
</span><span id="line-4535"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-4536"></span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DumpFlag</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4537"></span><span class="annot"><a href="GHC.Driver.Session.html#setDumpFlag%27"><span class="hs-identifier hs-type">setDumpFlag'</span></a></span><span> </span><span class="hs-identifier">dump_flag</span><span>
</span><span id="line-4538"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">dopt_set</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-identifier">dump_flag</span><span class="hs-special">)</span><span>
</span><span id="line-4539"></span><span>       </span><span class="hs-identifier">when</span><span> </span><span class="hs-identifier">want_recomp</span><span> </span><span class="hs-identifier">forceRecompile</span><span>
</span><span id="line-4540"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- Certain dumpy-things are really interested in what's going</span><span>
</span><span id="line-4541"></span><span>          </span><span class="hs-comment">-- on during recompilation checking, so in those cases we</span><span>
</span><span id="line-4542"></span><span>          </span><span class="hs-comment">-- don't want to turn it off.</span><span>
</span><span id="line-4543"></span><span>          </span><span class="hs-identifier">want_recomp</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dump_flag</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">notElem</span><span class="hs-special">`</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Opt_D_dump_if_trace</span><span class="hs-special">,</span><span>
</span><span id="line-4544"></span><span>                                             </span><span class="hs-identifier">Opt_D_dump_hi_diffs</span><span class="hs-special">,</span><span>
</span><span id="line-4545"></span><span>                                             </span><span class="hs-identifier">Opt_D_no_debug_output</span><span class="hs-special">]</span><span>
</span><span id="line-4546"></span><span>
</span><span id="line-4547"></span><span class="hs-identifier">forceRecompile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4548"></span><span class="hs-comment">-- Whenever we -ddump, force recompilation (by switching off the</span><span>
</span><span id="line-4549"></span><span class="hs-comment">-- recompilation checker), else you don't see the dump! However,</span><span>
</span><span id="line-4550"></span><span class="hs-comment">-- don't switch it off in --make mode, else *everything* gets</span><span>
</span><span id="line-4551"></span><span class="hs-comment">-- recompiled which probably isn't what you want</span><span>
</span><span id="line-4552"></span><span class="hs-identifier">forceRecompile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">liftEwM</span><span> </span><span class="hs-identifier">getCmdLineState</span><span>
</span><span id="line-4553"></span><span>                    </span><span class="hs-identifier">when</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">force_recomp</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_ForceRecomp</span><span class="hs-special">)</span><span>
</span><span id="line-4554"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-4555"></span><span>          </span><span class="hs-identifier">force_recomp</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">isOneShot</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ghcMode</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">)</span><span>
</span><span id="line-4556"></span><span>
</span><span id="line-4557"></span><span>
</span><span id="line-4558"></span><span class="hs-identifier">setVerboseCore2Core</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4559"></span><span class="annot"><a href="GHC.Driver.Session.html#setVerboseCore2Core"><span class="hs-identifier hs-type">setVerboseCore2Core</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">setDumpFlag'</span><span> </span><span class="hs-identifier">Opt_D_verbose_core2core</span><span>
</span><span id="line-4560"></span><span>
</span><span id="line-4561"></span><span class="hs-identifier">setVerbosity</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4562"></span><span class="annot"><a href="GHC.Driver.Session.html#setVerbosity"><span class="hs-identifier hs-type">setVerbosity</span></a></span><span> </span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">verbosity</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">orElse</span><span class="hs-special">`</span><span> </span><span class="hs-number">3</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4563"></span><span>
</span><span id="line-4564"></span><span class="hs-identifier">setDebugLevel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4565"></span><span class="annot"><a href="GHC.Driver.Session.html#setDebugLevel"><span class="hs-identifier hs-type">setDebugLevel</span></a></span><span> </span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">debugLevel</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mb_n</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">orElse</span><span class="hs-special">`</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4566"></span><span>
</span><span id="line-4567"></span><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">PkgDbRef</span><span>
</span><span id="line-4568"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">GlobalPkgDb</span><span>
</span><span id="line-4569"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">UserPkgDb</span><span>
</span><span id="line-4570"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">PkgDbPath</span><span> </span><span class="hs-identifier">FilePath</span><span>
</span><span id="line-4571"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier">Eq</span><span>
</span><span id="line-4572"></span><span>
</span><span id="line-4573"></span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">PkgDbRef</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4574"></span><span class="annot"><a href="GHC.Driver.Session.html#addPkgDbRef"><span class="hs-identifier hs-type">addPkgDbRef</span></a></span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4575"></span><span>  </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">PackageDB</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4576"></span><span>
</span><span id="line-4577"></span><span class="hs-identifier">removeUserPkgDb</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4578"></span><span class="annot"><a href="GHC.Driver.Session.html#removeUserPkgDb"><span class="hs-identifier hs-type">removeUserPkgDb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4579"></span><span>  </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoUserPackageDB</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4580"></span><span>
</span><span id="line-4581"></span><span class="hs-identifier">removeGlobalPkgDb</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4582"></span><span class="annot"><a href="GHC.Driver.Session.html#removeGlobalPkgDb"><span class="hs-identifier hs-type">removeGlobalPkgDb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4583"></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">NoGlobalPackageDB</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4584"></span><span>
</span><span id="line-4585"></span><span class="hs-identifier">clearPkgDb</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4586"></span><span class="annot"><a href="GHC.Driver.Session.html#clearPkgDb"><span class="hs-identifier hs-type">clearPkgDb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4587"></span><span>  </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ClearPackageDBs</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageDBFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4588"></span><span>
</span><span id="line-4589"></span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span>                 </span><span class="hs-comment">-- the flag</span><span>
</span><span id="line-4590"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ReadP</span><span> </span><span class="hs-identifier">PackageArg</span><span>       </span><span class="hs-comment">-- type of argument</span><span>
</span><span id="line-4591"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>                 </span><span class="hs-comment">-- string to parse</span><span>
</span><span id="line-4592"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">PackageFlag</span><span>
</span><span id="line-4593"></span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-identifier">arg_parse</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-4594"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">filter</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator">==</span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-operator">.</span><span class="hs-identifier">snd</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">readP_to_S</span><span> </span><span class="hs-identifier">parse</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-4595"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span>
</span><span id="line-4596"></span><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Can't parse package flag: &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">str</span><span class="hs-special">)</span><span>
</span><span id="line-4597"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">doc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flag</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot; &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-4598"></span><span>        </span><span class="hs-identifier">parse</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4599"></span><span>            </span><span class="hs-identifier">pkg_arg</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-identifier">arg_parse</span><span>
</span><span id="line-4600"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">mk_expose</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ExposePackage</span><span> </span><span class="hs-identifier">doc</span><span> </span><span class="hs-identifier">pkg_arg</span><span>
</span><span id="line-4601"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">string</span><span> </span><span class="hs-string">&quot;with&quot;</span><span>
</span><span id="line-4602"></span><span>                 </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mk_expose</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">parseRns</span><span>
</span><span id="line-4603"></span><span>             </span><span class="hs-operator">&lt;++</span><span> </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mk_expose</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">parseRns</span><span>
</span><span id="line-4604"></span><span>             </span><span class="hs-operator">&lt;++</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mk_expose</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ModRenaming</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4605"></span><span>        </span><span class="hs-identifier">parseRns</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">R.char</span><span> </span><span class="hs-char">'('</span><span>
</span><span id="line-4606"></span><span>                      </span><span class="hs-identifier">rns</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">sepBy</span><span> </span><span class="hs-identifier">parseItem</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">R.char</span><span> </span><span class="hs-char">','</span><span class="hs-special">)</span><span>
</span><span id="line-4607"></span><span>                      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">R.char</span><span> </span><span class="hs-char">')'</span><span>
</span><span id="line-4608"></span><span>                      </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">rns</span><span>
</span><span id="line-4609"></span><span>        </span><span class="hs-identifier">parseItem</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4610"></span><span>            </span><span class="hs-identifier">orig</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">parseModuleName</span><span>
</span><span id="line-4611"></span><span>            </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">string</span><span> </span><span class="hs-string">&quot;as&quot;</span><span>
</span><span id="line-4612"></span><span>                </span><span class="hs-identifier">new</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">tok</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">parseModuleName</span><span>
</span><span id="line-4613"></span><span>                </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">orig</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">new</span><span class="hs-special">)</span><span>
</span><span id="line-4614"></span><span>              </span><span class="hs-operator">+++</span><span>
</span><span id="line-4615"></span><span>             </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">orig</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">orig</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4616"></span><span>        </span><span class="hs-identifier">tok</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">skipSpaces</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">x</span><span>
</span><span id="line-4617"></span><span>
</span><span id="line-4618"></span><span class="hs-identifier">exposePackage</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">exposePackageId</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hidePackage</span><span class="hs-special">,</span><span>
</span><span id="line-4619"></span><span>        </span><span class="hs-identifier">exposePluginPackage</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">exposePluginPackageId</span><span class="hs-special">,</span><span>
</span><span id="line-4620"></span><span>        </span><span class="hs-identifier">ignorePackage</span><span class="hs-special">,</span><span>
</span><span id="line-4621"></span><span>        </span><span class="hs-identifier">trustPackage</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">distrustPackage</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4622"></span><span class="hs-identifier">exposePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">exposePackage'</span><span> </span><span class="hs-identifier">p</span><span class="hs-special">)</span><span>
</span><span id="line-4623"></span><span id="exposePackage"></span><span id="local-6989586621680784498"></span><span class="hs-identifier">exposePackageId</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4624"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4625"></span><span>    </span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-string">&quot;-package-id&quot;</span><span> </span><span class="hs-identifier">parseUnitArg</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4626"></span><span class="hs-identifier">exposePluginPackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4627"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4628"></span><span>    </span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-string">&quot;-plugin-package&quot;</span><span> </span><span class="hs-identifier">parsePackageArg</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4629"></span><span class="hs-identifier">exposePluginPackageId</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4630"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4631"></span><span>    </span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-string">&quot;-plugin-package-id&quot;</span><span> </span><span class="hs-identifier">parseUnitArg</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">pluginPackageFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4632"></span><span class="hs-identifier">hidePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4633"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HidePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4634"></span><span class="hs-identifier">ignorePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4635"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">ignorePackageFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IgnorePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">ignorePackageFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4636"></span><span>
</span><span id="line-4637"></span><span class="hs-identifier">trustPackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">exposePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-comment">-- both trust and distrust also expose a package</span><span>
</span><span id="line-4638"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">TrustPackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4639"></span><span class="hs-identifier">distrustPackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">exposePackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-operator">&gt;&gt;</span><span>
</span><span id="line-4640"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">DistrustPackage</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">trustFlags</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4641"></span><span>
</span><span id="line-4642"></span><span class="hs-identifier">exposePackage'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4643"></span><span class="annot"><a href="GHC.Driver.Session.html#exposePackage%27"><span class="hs-identifier hs-type">exposePackage'</span></a></span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4644"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4645"></span><span>            </span><span class="hs-identifier">parsePackageFlag</span><span> </span><span class="hs-string">&quot;-package&quot;</span><span> </span><span class="hs-identifier">parsePackageArg</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">packageFlags</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4646"></span><span>
</span><span id="line-4647"></span><span class="hs-identifier">parsePackageArg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">ReadP</span><span> </span><span class="hs-identifier">PackageArg</span><span>
</span><span id="line-4648"></span><span class="annot"><a href="GHC.Driver.Session.html#parsePackageArg"><span class="hs-identifier hs-type">parsePackageArg</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4649"></span><span>    </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-identifier">PackageArg</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">munch1</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">c</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">isAlphaNum</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-string">&quot;:-_.&quot;</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4650"></span><span>
</span><span id="line-4651"></span><span class="hs-identifier">parseUnitArg</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">ReadP</span><span> </span><span class="hs-identifier">PackageArg</span><span>
</span><span id="line-4652"></span><span class="annot"><a href="GHC.Driver.Session.html#parseUnitArg"><span class="hs-identifier hs-type">parseUnitArg</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4653"></span><span>    </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-identifier">UnitIdArg</span><span> </span><span class="hs-identifier">parseUnit</span><span>
</span><span id="line-4654"></span><span>
</span><span id="line-4655"></span><span class="hs-identifier">setUnitId</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4656"></span><span class="annot"><a href="GHC.Driver.Session.html#setUnitId"><span class="hs-identifier hs-type">setUnitId</span></a></span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">homeUnitId</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">stringToUnitId</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4657"></span><span>
</span><span id="line-4658"></span><span class="hs-comment">-- | Given a 'ModuleName' of a signature in the home library, find</span><span>
</span><span id="line-4659"></span><span class="hs-comment">-- out how it is instantiated.  E.g., the canonical form of</span><span>
</span><span id="line-4660"></span><span class="hs-comment">-- A in @p[A=q[]:A]@ is @q[]:A@.</span><span>
</span><span id="line-4661"></span><span class="hs-identifier">canonicalizeHomeModule</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ModuleName</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Module</span><span>
</span><span id="line-4662"></span><span class="annot"><a href="GHC.Driver.Session.html#canonicalizeHomeModule"><span class="hs-identifier hs-type">canonicalizeHomeModule</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">mod_name</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4663"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">lookup</span><span> </span><span class="hs-identifier">mod_name</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">homeUnitInstantiations</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-4664"></span><span>        </span><span class="hs-identifier">Nothing</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">mkHomeModule</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">mod_name</span><span>
</span><span id="line-4665"></span><span>        </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">mod</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">mod</span><span>
</span><span id="line-4666"></span><span>
</span><span id="line-4667"></span><span class="hs-identifier">canonicalizeModuleIfHome</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Module</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Module</span><span>
</span><span id="line-4668"></span><span class="annot"><a href="GHC.Driver.Session.html#canonicalizeModuleIfHome"><span class="hs-identifier hs-type">canonicalizeModuleIfHome</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-identifier">mod</span><span>
</span><span id="line-4669"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">homeUnit</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">moduleUnit</span><span> </span><span class="hs-identifier">mod</span><span>
</span><span id="line-4670"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">canonicalizeHomeModule</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">moduleName</span><span> </span><span class="hs-identifier">mod</span><span class="hs-special">)</span><span>
</span><span id="line-4671"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">mod</span><span>
</span><span id="line-4672"></span><span>
</span><span id="line-4673"></span><span class="hs-comment">-- If we're linking a binary, then only targets that produce object</span><span>
</span><span id="line-4674"></span><span class="hs-comment">-- code are allowed (requests for other target types are ignored).</span><span>
</span><span id="line-4675"></span><span class="hs-identifier">setTarget</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HscTarget</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4676"></span><span class="annot"><a href="GHC.Driver.Session.html#setTarget"><span class="hs-identifier hs-type">setTarget</span></a></span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4677"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">ghcLink</span><span> </span><span class="hs-identifier">dfs</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">LinkBinary</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">isObjectTarget</span><span> </span><span class="hs-identifier">l</span><span>
</span><span id="line-4678"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">dfs</span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hscTarget</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4679"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">dfs</span><span>
</span><span id="line-4680"></span><span>
</span><span id="line-4681"></span><span class="hs-comment">-- Changes the target only if we're compiling object code.  This is</span><span>
</span><span id="line-4682"></span><span class="hs-comment">-- used by -fasm and -fllvm, which switch from one to the other, but</span><span>
</span><span id="line-4683"></span><span class="hs-comment">-- not from bytecode to object-code.  The idea is that -fasm/-fllvm</span><span>
</span><span id="line-4684"></span><span class="hs-comment">-- can be safely used in an OPTIONS_GHC pragma.</span><span>
</span><span id="line-4685"></span><span class="hs-identifier">setObjTarget</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HscTarget</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4686"></span><span class="annot"><a href="GHC.Driver.Session.html#setObjTarget"><span class="hs-identifier hs-type">setObjTarget</span></a></span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">updM</span><span> </span><span class="hs-identifier">set</span><span>
</span><span id="line-4687"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4688"></span><span>   </span><span class="hs-identifier">set</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4689"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isObjectTarget</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hscTarget</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-4690"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hscTarget</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4691"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4692"></span><span>
</span><span id="line-4693"></span><span class="hs-identifier">setOptLevel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4694"></span><span class="annot"><a href="GHC.Driver.Session.html#setOptLevel"><span class="hs-identifier hs-type">setOptLevel</span></a></span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">updOptLevel</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-4695"></span><span>
</span><span id="line-4696"></span><span class="hs-identifier">checkOptLevel</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Either</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4697"></span><span class="annot"><a href="GHC.Driver.Session.html#checkOptLevel"><span class="hs-identifier hs-type">checkOptLevel</span></a></span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4698"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">hscTarget</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">HscInterpreted</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">&gt;</span><span> </span><span class="hs-number">0</span><span>
</span><span id="line-4699"></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Left</span><span> </span><span class="hs-string">&quot;-O conflicts with --interactive; -O ignored.&quot;</span><span>
</span><span id="line-4700"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>
</span><span id="line-4701"></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Right</span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4702"></span><span>
</span><span id="line-4703"></span><span class="hs-identifier">setMainIs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4704"></span><span class="annot"><a href="GHC.Driver.Session.html#setMainIs"><span class="hs-identifier hs-type">setMainIs</span></a></span><span> </span><span class="hs-identifier">arg</span><span>
</span><span id="line-4705"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">main_fn</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">isLower</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">head</span><span> </span><span class="hs-identifier">main_fn</span><span class="hs-special">)</span><span>
</span><span id="line-4706"></span><span>     </span><span class="hs-comment">-- The arg looked like &quot;Foo.Bar.baz&quot;</span><span>
</span><span id="line-4707"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mainFunIs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">main_fn</span><span class="hs-special">,</span><span>
</span><span id="line-4708"></span><span>                   </span><span class="hs-identifier">mainModIs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkModule</span><span> </span><span class="hs-identifier">mainUnit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkModuleName</span><span> </span><span class="hs-identifier">main_mod</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4709"></span><span>
</span><span id="line-4710"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isUpper</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">head</span><span> </span><span class="hs-identifier">arg</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- The arg looked like &quot;Foo&quot; or &quot;Foo.Bar&quot;</span><span>
</span><span id="line-4711"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mainModIs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mkModule</span><span> </span><span class="hs-identifier">mainUnit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mkModuleName</span><span> </span><span class="hs-identifier">arg</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4712"></span><span>
</span><span id="line-4713"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                   </span><span class="hs-comment">-- The arg looked like &quot;baz&quot;</span><span>
</span><span id="line-4714"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">mainFunIs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">arg</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4715"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4716"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">main_mod</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">main_fn</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">splitLongestPrefix</span><span> </span><span class="hs-identifier">arg</span><span> </span><span class="hs-special">(</span><span class="hs-operator">==</span><span> </span><span class="hs-char">'.'</span><span class="hs-special">)</span><span>
</span><span id="line-4717"></span><span>
</span><span id="line-4718"></span><span class="hs-identifier">addLdInputs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Option</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4719"></span><span class="annot"><a href="GHC.Driver.Session.html#addLdInputs"><span class="hs-identifier hs-type">addLdInputs</span></a></span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">{</span><span class="hs-identifier">ldInputs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ldInputs</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">p</span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-4720"></span><span>
</span><span id="line-4721"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-4722"></span><span class="hs-comment">-- Load dynflags from environment files.</span><span>
</span><span id="line-4723"></span><span>
</span><span id="line-4724"></span><span class="hs-identifier">setFlagsFromEnvFile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4725"></span><span class="annot"><a href="GHC.Driver.Session.html#setFlagsFromEnvFile"><span class="hs-identifier hs-type">setFlagsFromEnvFile</span></a></span><span> </span><span class="hs-identifier">envfile</span><span> </span><span class="hs-identifier">content</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-4726"></span><span>  </span><span class="hs-identifier">setGeneralFlag</span><span> </span><span class="hs-identifier">Opt_HideAllPackages</span><span>
</span><span id="line-4727"></span><span>  </span><span class="hs-identifier">parseEnvFile</span><span> </span><span class="hs-identifier">envfile</span><span> </span><span class="hs-identifier">content</span><span>
</span><span id="line-4728"></span><span>
</span><span id="line-4729"></span><span class="hs-identifier">parseEnvFile</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4730"></span><span class="annot"><a href="GHC.Driver.Session.html#parseEnvFile"><span class="hs-identifier hs-type">parseEnvFile</span></a></span><span> </span><span class="hs-identifier">envfile</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mapM_</span><span> </span><span class="hs-identifier">parseEntry</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">lines</span><span>
</span><span id="line-4731"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4732"></span><span>    </span><span class="hs-identifier">parseEntry</span><span> </span><span class="hs-identifier">str</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">words</span><span> </span><span class="hs-identifier">str</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-4733"></span><span>      </span><span class="hs-special">(</span><span class="hs-string">&quot;package-db&quot;</span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">PkgDbPath</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">envdir</span><span> </span><span class="hs-operator">&lt;/&gt;</span><span> </span><span class="hs-identifier">db</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4734"></span><span>        </span><span class="hs-comment">-- relative package dbs are interpreted relative to the env file</span><span>
</span><span id="line-4735"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span class="hs-identifier">envdir</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">takeDirectory</span><span> </span><span class="hs-identifier">envfile</span><span>
</span><span id="line-4736"></span><span>              </span><span class="hs-identifier">db</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">drop</span><span> </span><span class="hs-number">11</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-4737"></span><span>      </span><span class="hs-special">[</span><span class="hs-string">&quot;clear-package-db&quot;</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">clearPkgDb</span><span>
</span><span id="line-4738"></span><span>      </span><span class="hs-special">[</span><span class="hs-string">&quot;global-package-db&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-identifier">GlobalPkgDb</span><span>
</span><span id="line-4739"></span><span>      </span><span class="hs-special">[</span><span class="hs-string">&quot;user-package-db&quot;</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">addPkgDbRef</span><span> </span><span class="hs-identifier">UserPkgDb</span><span>
</span><span id="line-4740"></span><span>      </span><span class="hs-special">[</span><span class="hs-string">&quot;package-id&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">pkgid</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">exposePackageId</span><span> </span><span class="hs-identifier">pkgid</span><span>
</span><span id="line-4741"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-glyph">:</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- comments</span><span>
</span><span id="line-4742"></span><span>      </span><span class="hs-comment">-- and the original syntax introduced in 7.10:</span><span>
</span><span id="line-4743"></span><span>      </span><span class="hs-special">[</span><span class="hs-identifier">pkgid</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">exposePackageId</span><span> </span><span class="hs-identifier">pkgid</span><span>
</span><span id="line-4744"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4745"></span><span>      </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">throwGhcException</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">CmdLineError</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-4746"></span><span>                                    </span><span class="hs-string">&quot;Can't parse environment file entry: &quot;</span><span>
</span><span id="line-4747"></span><span>                                 </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">envfile</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-string">&quot;: &quot;</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">str</span><span>
</span><span id="line-4748"></span><span>
</span><span id="line-4749"></span><span>
</span><span id="line-4750"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4751"></span><span class="hs-comment">-- Paths &amp; Libraries</span><span>
</span><span id="line-4752"></span><span>
</span><span id="line-4753"></span><span class="hs-identifier">addImportPath</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addLibraryPath</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addIncludePath</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">addFrameworkPath</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4754"></span><span>
</span><span id="line-4755"></span><span class="hs-comment">-- -i on its own deletes the import paths</span><span>
</span><span id="line-4756"></span><span class="hs-identifier">addImportPath</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span class="hs-identifier">importPaths</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4757"></span><span id="addImportPath"><span class="annot"><span class="annottext">addImportPath :: [Char] -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#addImportPath"><span class="hs-identifier hs-var hs-var">addImportPath</span></a></span></span><span> </span><span class="hs-identifier">p</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DynFlags -&gt; DynFlags) -&gt; DynP ()
</span><a href="GHC.Driver.Session.html#upd"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680784423"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784423"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784423"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">importPaths :: [[Char]]
</span><a href="GHC.Driver.Session.html#importPaths"><span class="hs-identifier hs-var">importPaths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">importPaths</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">splitPathList</span><span> </span><span class="hs-identifier">p</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4758"></span><span>
</span><span id="line-4759"></span><span class="hs-identifier">addLibraryPath</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4760"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span class="hs-identifier">libraryPaths</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">libraryPaths</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">splitPathList</span><span> </span><span class="hs-identifier">p</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4761"></span><span>
</span><span id="line-4762"></span><span class="hs-identifier">addIncludePath</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4763"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span class="hs-identifier">includePaths</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4764"></span><span>                  </span><span class="hs-identifier">addGlobalInclude</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">includePaths</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">splitPathList</span><span> </span><span class="hs-identifier">p</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-4765"></span><span>
</span><span id="line-4766"></span><span class="hs-identifier">addFrameworkPath</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4767"></span><span>  </span><span class="hs-identifier">upd</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">{</span><span class="hs-identifier">frameworkPaths</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">frameworkPaths</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">splitPathList</span><span> </span><span class="hs-identifier">p</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-cpp">

#if !defined(mingw32_HOST_OS)
</span><span class="hs-identifier">split_marker</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Char</span><span>
</span><span id="line-4771"></span><span class="hs-identifier">split_marker</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-char">':'</span><span>   </span><span class="hs-comment">-- not configurable (ToDo)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-4774"></span><span class="hs-identifier">splitPathList</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-4775"></span><span class="annot"><a href="GHC.Driver.Session.html#splitPathList"><span class="hs-identifier hs-type">splitPathList</span></a></span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">filter</span><span> </span><span class="hs-identifier">notNull</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">)</span><span>
</span><span id="line-4776"></span><span>                </span><span class="hs-comment">-- empty paths are ignored: there might be a trailing</span><span>
</span><span id="line-4777"></span><span>                </span><span class="hs-comment">-- ':' in the initial list, for example.  Empty paths can</span><span>
</span><span id="line-4778"></span><span>                </span><span class="hs-comment">-- cause confusion when they are translated into -I options</span><span>
</span><span id="line-4779"></span><span>                </span><span class="hs-comment">-- for passing to gcc.</span><span>
</span><span id="line-4780"></span><span>  </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if !defined(mingw32_HOST_OS)
</span><span>    </span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">split</span><span> </span><span class="hs-identifier">split_marker</span><span> </span><span class="hs-identifier">xs</span><span class="hs-cpp">
#else
</span><span>     </span><span class="hs-comment">-- Windows: 'hybrid' support for DOS-style paths in directory lists.</span><span>
</span><span id="line-4785"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-4786"></span><span>     </span><span class="hs-comment">-- That is, if &quot;foo:bar:baz&quot; is used, this interpreted as</span><span>
</span><span id="line-4787"></span><span>     </span><span class="hs-comment">-- consisting of three entries, 'foo', 'bar', 'baz'.</span><span>
</span><span id="line-4788"></span><span>     </span><span class="hs-comment">-- However, with &quot;c:/foo:c:\\foo;x:/bar&quot;, this is interpreted</span><span>
</span><span id="line-4789"></span><span>     </span><span class="hs-comment">-- as 3 elts, &quot;c:/foo&quot;, &quot;c:\\foo&quot;, &quot;x:/bar&quot;</span><span>
</span><span id="line-4790"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-4791"></span><span>     </span><span class="hs-comment">-- Notice that no attempt is made to fully replace the 'standard'</span><span>
</span><span id="line-4792"></span><span>     </span><span class="hs-comment">-- split marker ':' with the Windows / DOS one, ';'. The reason being</span><span>
</span><span id="line-4793"></span><span>     </span><span class="hs-comment">-- that this will cause too much breakage for users &amp; ':' will</span><span>
</span><span id="line-4794"></span><span>     </span><span class="hs-comment">-- work fine even with DOS paths, if you're not insisting on being silly.</span><span>
</span><span id="line-4795"></span><span>     </span><span class="hs-comment">-- So, use either.</span><span>
</span><span id="line-4796"></span><span>    </span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-4797"></span><span>    </span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x</span><span class="hs-glyph">:</span><span class="hs-char">':'</span><span class="hs-glyph">:</span><span class="hs-identifier">div</span><span class="hs-glyph">:</span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">div</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">dir_markers</span><span>
</span><span id="line-4798"></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">x</span><span class="hs-glyph">:</span><span class="hs-char">':'</span><span class="hs-glyph">:</span><span class="hs-identifier">div</span><span class="hs-glyph">:</span><span class="hs-identifier">p</span><span class="hs-special">)</span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-identifier">rs</span><span class="hs-special">)</span><span>
</span><span id="line-4799"></span><span>                           </span><span class="hs-keyword">where</span><span>
</span><span id="line-4800"></span><span>                              </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span class="hs-identifier">rs</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">findNextPath</span><span> </span><span class="hs-identifier">xs</span><span>
</span><span id="line-4801"></span><span>          </span><span class="hs-comment">-- we used to check for existence of the path here, but that</span><span>
</span><span id="line-4802"></span><span>          </span><span class="hs-comment">-- required the IO monad to be threaded through the command-line</span><span>
</span><span id="line-4803"></span><span>          </span><span class="hs-comment">-- parser which is quite inconvenient.  The</span><span>
</span><span id="line-4804"></span><span>    </span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">cons</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">splitUp</span><span> </span><span class="hs-identifier">rs</span><span class="hs-special">)</span><span>
</span><span id="line-4805"></span><span>               </span><span class="hs-keyword">where</span><span>
</span><span id="line-4806"></span><span>                 </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span class="hs-identifier">rs</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">findNextPath</span><span> </span><span class="hs-identifier">xs</span><span>
</span><span id="line-4807"></span><span>
</span><span id="line-4808"></span><span>                 </span><span class="hs-identifier">cons</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">xs</span><span>
</span><span id="line-4809"></span><span>                 </span><span class="hs-identifier">cons</span><span> </span><span class="hs-identifier">x</span><span>  </span><span class="hs-identifier">xs</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span class="hs-glyph">:</span><span class="hs-identifier">xs</span><span>
</span><span id="line-4810"></span><span>
</span><span id="line-4811"></span><span>    </span><span class="hs-comment">-- will be called either when we've consumed nought or the</span><span>
</span><span id="line-4812"></span><span>    </span><span class="hs-comment">-- &quot;&lt;Drive&gt;:/&quot; part of a DOS path, so splitting is just a Q of</span><span>
</span><span id="line-4813"></span><span>    </span><span class="hs-comment">-- finding the next split marker.</span><span>
</span><span id="line-4814"></span><span>    </span><span class="hs-identifier">findNextPath</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4815"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">break</span><span> </span><span class="hs-special">(</span><span class="hs-special">`</span><span class="hs-identifier">elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">split_markers</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-4816"></span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-glyph">:</span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ds</span><span class="hs-special">)</span><span>
</span><span id="line-4817"></span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">p</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span>
</span><span id="line-4818"></span><span>
</span><span id="line-4819"></span><span>    </span><span class="hs-identifier">split_markers</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Char</span><span class="hs-special">]</span><span>
</span><span id="line-4820"></span><span>    </span><span class="hs-identifier">split_markers</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-char">':'</span><span class="hs-special">,</span><span> </span><span class="hs-char">';'</span><span class="hs-special">]</span><span>
</span><span id="line-4821"></span><span>
</span><span id="line-4822"></span><span>    </span><span class="hs-identifier">dir_markers</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Char</span><span class="hs-special">]</span><span>
</span><span id="line-4823"></span><span>    </span><span class="hs-identifier">dir_markers</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-char">'/'</span><span class="hs-special">,</span><span> </span><span class="hs-char">'\\'</span><span class="hs-special">]</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-4826"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-4827"></span><span class="hs-comment">-- tmpDir, where we store temporary files.</span><span>
</span><span id="line-4828"></span><span>
</span><span id="line-4829"></span><span class="hs-identifier">setTmpDir</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-4830"></span><span class="annot"><a href="GHC.Driver.Session.html#setTmpDir"><span class="hs-identifier hs-type">setTmpDir</span></a></span><span> </span><span class="hs-identifier">dir</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">alterFileSettings</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fileSettings_tmpDir</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">normalise</span><span> </span><span class="hs-identifier">dir</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-4831"></span><span>  </span><span class="hs-comment">-- we used to fix /cygdrive/c/.. on Windows, but this doesn't</span><span>
</span><span id="line-4832"></span><span>  </span><span class="hs-comment">-- seem necessary now --SDM 7/2/2008</span><span>
</span><span id="line-4833"></span><span>
</span><span id="line-4834"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4835"></span><span class="hs-comment">-- RTS opts</span><span>
</span><span id="line-4836"></span><span>
</span><span id="line-4837"></span><span class="hs-identifier">setRtsOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4838"></span><span class="annot"><a href="GHC.Driver.Session.html#setRtsOpts"><span class="hs-identifier hs-type">setRtsOpts</span></a></span><span> </span><span class="hs-identifier">arg</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">rtsOpts</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">arg</span><span class="hs-special">}</span><span>
</span><span id="line-4839"></span><span>
</span><span id="line-4840"></span><span class="hs-identifier">setRtsOptsEnabled</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">RtsOptsEnabled</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4841"></span><span class="annot"><a href="GHC.Driver.Session.html#setRtsOptsEnabled"><span class="hs-identifier hs-type">setRtsOptsEnabled</span></a></span><span> </span><span class="hs-identifier">arg</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">rtsOptsEnabled</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">arg</span><span class="hs-special">}</span><span>
</span><span id="line-4842"></span><span>
</span><span id="line-4843"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4844"></span><span class="hs-comment">-- Hpc stuff</span><span>
</span><span id="line-4845"></span><span>
</span><span id="line-4846"></span><span class="hs-identifier">setOptHpcDir</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynP</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-4847"></span><span class="annot"><a href="GHC.Driver.Session.html#setOptHpcDir"><span class="hs-identifier hs-type">setOptHpcDir</span></a></span><span> </span><span class="hs-identifier">arg</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">upd</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">hpcDir</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">arg</span><span class="hs-special">}</span><span>
</span><span id="line-4848"></span><span>
</span><span id="line-4849"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4850"></span><span class="hs-comment">-- Via-C compilation stuff</span><span>
</span><span id="line-4851"></span><span>
</span><span id="line-4852"></span><span class="hs-comment">-- There are some options that we need to pass to gcc when compiling</span><span>
</span><span id="line-4853"></span><span class="hs-comment">-- Haskell code via C, but are only supported by recent versions of</span><span>
</span><span id="line-4854"></span><span class="hs-comment">-- gcc.  The configure script decides which of these options we need,</span><span>
</span><span id="line-4855"></span><span class="hs-comment">-- and puts them in the &quot;settings&quot; file in $topdir. The advantage of</span><span>
</span><span id="line-4856"></span><span class="hs-comment">-- having these in a separate file is that the file can be created at</span><span>
</span><span id="line-4857"></span><span class="hs-comment">-- install-time depending on the available gcc version, and even</span><span>
</span><span id="line-4858"></span><span class="hs-comment">-- re-generated later if gcc is upgraded.</span><span>
</span><span id="line-4859"></span><span class="hs-comment">--</span><span>
</span><span id="line-4860"></span><span class="hs-comment">-- The options below are not dependent on the version of gcc, only the</span><span>
</span><span id="line-4861"></span><span class="hs-comment">-- platform.</span><span>
</span><span id="line-4862"></span><span>
</span><span id="line-4863"></span><span class="hs-identifier">picCCOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-4864"></span><span class="annot"><a href="GHC.Driver.Session.html#picCCOpts"><span class="hs-identifier hs-type">picCCOpts</span></a></span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pieOpts</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">picOpts</span><span>
</span><span id="line-4865"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4866"></span><span>    </span><span class="hs-identifier">picOpts</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-4867"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-4868"></span><span>      </span><span class="hs-identifier">OSDarwin</span><span>
</span><span id="line-4869"></span><span>          </span><span class="hs-comment">-- Apple prefers to do things the other way round.</span><span>
</span><span id="line-4870"></span><span>          </span><span class="hs-comment">-- PIC is on by default.</span><span>
</span><span id="line-4871"></span><span>          </span><span class="hs-comment">-- -mdynamic-no-pic:</span><span>
</span><span id="line-4872"></span><span>          </span><span class="hs-comment">--     Turn off PIC code generation.</span><span>
</span><span id="line-4873"></span><span>          </span><span class="hs-comment">-- -fno-common:</span><span>
</span><span id="line-4874"></span><span>          </span><span class="hs-comment">--     Don't generate &quot;common&quot; symbols - these are unwanted</span><span>
</span><span id="line-4875"></span><span>          </span><span class="hs-comment">--     in dynamic libraries.</span><span>
</span><span id="line-4876"></span><span>
</span><span id="line-4877"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIC</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-fno-common&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-U__PIC__&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-D__PIC__&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4878"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-mdynamic-no-pic&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4879"></span><span>      </span><span class="hs-identifier">OSMinGW32</span><span> </span><span class="hs-comment">-- no -fPIC for Windows</span><span>
</span><span id="line-4880"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIC</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-U__PIC__&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-D__PIC__&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4881"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-4882"></span><span>      </span><span class="hs-identifier">_</span><span>
</span><span id="line-4883"></span><span>      </span><span class="hs-comment">-- we need -fPIC for C files when we are compiling with -dynamic,</span><span>
</span><span id="line-4884"></span><span>      </span><span class="hs-comment">-- otherwise things like stub.c files don't get compiled</span><span>
</span><span id="line-4885"></span><span>      </span><span class="hs-comment">-- correctly.  They need to reference data in the Haskell</span><span>
</span><span id="line-4886"></span><span>      </span><span class="hs-comment">-- objects, but can't without -fPIC.  See</span><span>
</span><span id="line-4887"></span><span>      </span><span class="hs-comment">-- https://gitlab.haskell.org/ghc/ghc/wikis/commentary/position-independent-code</span><span>
</span><span id="line-4888"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIC</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-operator">||</span><span> </span><span class="hs-identifier">WayDyn</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">Set.member</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">ways</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-4889"></span><span>          </span><span class="hs-special">[</span><span class="hs-string">&quot;-fPIC&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-U__PIC__&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-D__PIC__&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4890"></span><span>      </span><span class="hs-comment">-- gcc may be configured to have PIC on by default, let's be</span><span>
</span><span id="line-4891"></span><span>      </span><span class="hs-comment">-- explicit here, see #15847</span><span>
</span><span id="line-4892"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-fno-PIC&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4893"></span><span>
</span><span id="line-4894"></span><span>    </span><span class="hs-identifier">pieOpts</span><span>
</span><span id="line-4895"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PICExecutable</span><span> </span><span class="hs-identifier">dflags</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-pie&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4896"></span><span>        </span><span class="hs-comment">-- See Note [No PIE when linking]</span><span>
</span><span id="line-4897"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">toolSettings_ccSupportsNoPie</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolSettings</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-no-pie&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4898"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-4899"></span><span>
</span><span id="line-4900"></span><span>
</span><span id="line-4901"></span><span class="hs-comment">{-
Note [No PIE while linking]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
As of 2016 some Linux distributions (e.g. Debian) have started enabling -pie by
default in their gcc builds. This is incompatible with -r as it implies that we
are producing an executable. Consequently, we must manually pass -no-pie to gcc
when joining object files or linking dynamic libraries. Unless, of course, the
user has explicitly requested a PIE executable with -pie. See #12759.
-}</span><span>
</span><span id="line-4910"></span><span>
</span><span id="line-4911"></span><span class="hs-identifier">picPOpts</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">String</span><span class="hs-special">]</span><span>
</span><span id="line-4912"></span><span class="annot"><a href="GHC.Driver.Session.html#picPOpts"><span class="hs-identifier hs-type">picPOpts</span></a></span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4913"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">gopt</span><span> </span><span class="hs-identifier">Opt_PIC</span><span> </span><span class="hs-identifier">dflags</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-string">&quot;-U__PIC__&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;-D__PIC__&quot;</span><span class="hs-special">]</span><span>
</span><span id="line-4914"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-4915"></span><span>
</span><span id="line-4916"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-4917"></span><span class="hs-comment">-- Compiler Info</span><span>
</span><span id="line-4918"></span><span>
</span><span id="line-4919"></span><span class="hs-identifier">compilerInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">String</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-4920"></span><span class="annot"><a href="GHC.Driver.Session.html#compilerInfo"><span class="hs-identifier hs-type">compilerInfo</span></a></span><span> </span><span class="hs-identifier">dflags</span><span>
</span><span id="line-4921"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- We always make &quot;Project name&quot; be first to keep parsing in</span><span>
</span><span id="line-4922"></span><span>      </span><span class="hs-comment">-- other languages simple, i.e. when looking for other fields,</span><span>
</span><span id="line-4923"></span><span>      </span><span class="hs-comment">-- you don't have to worry whether there is a leading '[' or not</span><span>
</span><span id="line-4924"></span><span>      </span><span class="hs-special">(</span><span class="hs-string">&quot;Project name&quot;</span><span class="hs-special">,</span><span>                 </span><span class="hs-identifier">cProjectName</span><span class="hs-special">)</span><span>
</span><span id="line-4925"></span><span>      </span><span class="hs-comment">-- Next come the settings, so anything else can be overridden</span><span>
</span><span id="line-4926"></span><span>      </span><span class="hs-comment">-- in the settings file (as &quot;lookup&quot; uses the first match for the</span><span>
</span><span id="line-4927"></span><span>      </span><span class="hs-comment">-- key)</span><span>
</span><span id="line-4928"></span><span>    </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fmap</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">expandDirectories</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">topDir</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">toolDir</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-4929"></span><span>          </span><span class="hs-special">(</span><span class="hs-identifier">rawSettings</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-4930"></span><span>   </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-string">&quot;Project version&quot;</span><span class="hs-special">,</span><span>             </span><span class="hs-identifier">projectVersion</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4931"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Project Git commit id&quot;</span><span class="hs-special">,</span><span>       </span><span class="hs-identifier">cProjectGitCommitId</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4932"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Booter version&quot;</span><span class="hs-special">,</span><span>              </span><span class="hs-identifier">cBooterVersion</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4933"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Stage&quot;</span><span class="hs-special">,</span><span>                       </span><span class="hs-identifier">cStage</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4934"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Build platform&quot;</span><span class="hs-special">,</span><span>              </span><span class="hs-identifier">cBuildPlatformString</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4935"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Host platform&quot;</span><span class="hs-special">,</span><span>               </span><span class="hs-identifier">cHostPlatformString</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4936"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Target platform&quot;</span><span class="hs-special">,</span><span>             </span><span class="hs-identifier">platformMisc_targetPlatformString</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">platformMisc</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4937"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Have interpreter&quot;</span><span class="hs-special">,</span><span>            </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">platformMisc_ghcWithInterpreter</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">platformMisc</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4938"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Object splitting supported&quot;</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">False</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4939"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Have native code generator&quot;</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">platformNcgSupported</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4940"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Target default backend&quot;</span><span class="hs-special">,</span><span>      </span><span class="hs-identifier">show</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">platformDefaultBackend</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4941"></span><span>       </span><span class="hs-comment">-- Whether or not we support @-dynamic-too@</span><span>
</span><span id="line-4942"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Support dynamic-too&quot;</span><span class="hs-special">,</span><span>         </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">not</span><span> </span><span class="hs-identifier">isWindows</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4943"></span><span>       </span><span class="hs-comment">-- Whether or not we support the @-j@ flag with @--make@.</span><span>
</span><span id="line-4944"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Support parallel --make&quot;</span><span class="hs-special">,</span><span>     </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4945"></span><span>       </span><span class="hs-comment">-- Whether or not we support &quot;Foo from foo-0.1-XXX:Foo&quot; syntax in</span><span>
</span><span id="line-4946"></span><span>       </span><span class="hs-comment">-- installed package info.</span><span>
</span><span id="line-4947"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Support reexported-modules&quot;</span><span class="hs-special">,</span><span>  </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4948"></span><span>       </span><span class="hs-comment">-- Whether or not we support extended @-package foo (Foo)@ syntax.</span><span>
</span><span id="line-4949"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Support thinning and renaming package flags&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4950"></span><span>       </span><span class="hs-comment">-- Whether or not we support Backpack.</span><span>
</span><span id="line-4951"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Support Backpack&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4952"></span><span>       </span><span class="hs-comment">-- If true, we require that the 'id' field in installed package info</span><span>
</span><span id="line-4953"></span><span>       </span><span class="hs-comment">-- match what is passed to the @-this-unit-id@ flag for modules</span><span>
</span><span id="line-4954"></span><span>       </span><span class="hs-comment">-- built in it</span><span>
</span><span id="line-4955"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Requires unified installed package IDs&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4956"></span><span>       </span><span class="hs-comment">-- Whether or not we support the @-this-package-key@ flag.  Prefer</span><span>
</span><span id="line-4957"></span><span>       </span><span class="hs-comment">-- &quot;Uses unit IDs&quot; over it. We still say yes even if @-this-package-key@</span><span>
</span><span id="line-4958"></span><span>       </span><span class="hs-comment">-- flag has been removed, otherwise it breaks Cabal...</span><span>
</span><span id="line-4959"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Uses package keys&quot;</span><span class="hs-special">,</span><span>           </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4960"></span><span>       </span><span class="hs-comment">-- Whether or not we support the @-this-unit-id@ flag</span><span>
</span><span id="line-4961"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Uses unit IDs&quot;</span><span class="hs-special">,</span><span>               </span><span class="hs-string">&quot;YES&quot;</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4962"></span><span>       </span><span class="hs-comment">-- Whether or not GHC compiles libraries as dynamic by default</span><span>
</span><span id="line-4963"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Dynamic by default&quot;</span><span class="hs-special">,</span><span>          </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">dYNAMIC_BY_DEFAULT</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4964"></span><span>       </span><span class="hs-comment">-- Whether or not GHC was compiled using -dynamic</span><span>
</span><span id="line-4965"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;GHC Dynamic&quot;</span><span class="hs-special">,</span><span>                 </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">hostIsDynamic</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4966"></span><span>       </span><span class="hs-comment">-- Whether or not GHC was compiled using -prof</span><span>
</span><span id="line-4967"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;GHC Profiled&quot;</span><span class="hs-special">,</span><span>                </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">hostIsProfiled</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4968"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Debug on&quot;</span><span class="hs-special">,</span><span>                    </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">debugIsOn</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4969"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;LibDir&quot;</span><span class="hs-special">,</span><span>                      </span><span class="hs-identifier">topDir</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4970"></span><span>       </span><span class="hs-comment">-- The path of the global package database used by GHC</span><span>
</span><span id="line-4971"></span><span>       </span><span class="hs-special">(</span><span class="hs-string">&quot;Global Package DB&quot;</span><span class="hs-special">,</span><span>           </span><span class="hs-identifier">globalPackageDatabasePath</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span>
</span><span id="line-4972"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-4973"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-4974"></span><span>    </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;YES&quot;</span><span>
</span><span id="line-4975"></span><span>    </span><span class="hs-identifier">showBool</span><span> </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;NO&quot;</span><span>
</span><span id="line-4976"></span><span>    </span><span class="hs-identifier">isWindows</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">platformOS</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">targetPlatform</span><span> </span><span class="hs-identifier">dflags</span><span class="hs-special">)</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">OSMinGW32</span><span>
</span><span id="line-4977"></span><span>    </span><span class="hs-identifier">expandDirectories</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">FilePath</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span>
</span><span id="line-4978"></span><span>    </span><span class="hs-identifier">expandDirectories</span><span> </span><span class="hs-identifier">topd</span><span> </span><span class="hs-identifier">mtoold</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">expandToolDir</span><span> </span><span class="hs-identifier">mtoold</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">expandTopDir</span><span> </span><span class="hs-identifier">topd</span><span>
</span><span id="line-4979"></span><span>
</span><span id="line-4980"></span><span class="hs-comment">-- Produced by deriveConstants</span><span class="hs-cpp">
#include &quot;GHCConstantsHaskellWrappers.hs&quot;
</span><span>
</span><span id="line-4983"></span><span class="annot"><a href="GHC.Driver.Session.html#bLOCK_SIZE_W"><span class="hs-identifier hs-type">bLOCK_SIZE_W</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-4984"></span><span id="bLOCK_SIZE_W"><span class="annot"><span class="annottext">bLOCK_SIZE_W :: DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#bLOCK_SIZE_W"><span class="hs-identifier hs-var hs-var">bLOCK_SIZE_W</span></a></span></span><span> </span><span id="local-6989586621680784352"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784352"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#bLOCK_SIZE"><span class="hs-identifier hs-var">bLOCK_SIZE</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784352"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Real.html#quot"><span class="hs-operator hs-var">`quot`</span></a></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformWordSizeInBytes"><span class="hs-identifier hs-var">platformWordSizeInBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621680784349"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-4985"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680784349"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621680784349"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784352"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-4986"></span><span>
</span><span id="line-4987"></span><span class="annot"><a href="GHC.Driver.Session.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span>
</span><span id="line-4988"></span><span id="wordAlignment"><span class="annot"><span class="annottext">wordAlignment :: Platform -&gt; Alignment
</span><a href="GHC.Driver.Session.html#wordAlignment"><span class="hs-identifier hs-var hs-var">wordAlignment</span></a></span></span><span> </span><span id="local-6989586621680784348"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621680784348"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#alignmentOf"><span class="hs-identifier hs-var">alignmentOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformWordSizeInBytes"><span class="hs-identifier hs-var">platformWordSizeInBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621680784348"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-4989"></span><span>
</span><span id="line-4990"></span><span class="annot"><a href="GHC.Driver.Session.html#tAG_MASK"><span class="hs-identifier hs-type">tAG_MASK</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-4991"></span><span id="tAG_MASK"><span class="annot"><span class="annottext">tAG_MASK :: DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#tAG_MASK"><span class="hs-identifier hs-var hs-var">tAG_MASK</span></a></span></span><span> </span><span id="local-6989586621680784347"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784347"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../base/src/Data.Bits.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#tAG_BITS"><span class="hs-identifier hs-var">tAG_BITS</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784347"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-4992"></span><span>
</span><span id="line-4993"></span><span class="annot"><a href="GHC.Driver.Session.html#mAX_PTR_TAG"><span class="hs-identifier hs-type">mAX_PTR_TAG</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-4994"></span><span id="mAX_PTR_TAG"><span class="annot"><span class="annottext">mAX_PTR_TAG :: DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#mAX_PTR_TAG"><span class="hs-identifier hs-var hs-var">mAX_PTR_TAG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#tAG_MASK"><span class="hs-identifier hs-var">tAG_MASK</span></a></span><span>
</span><span id="line-4995"></span><span>
</span><span id="line-4996"></span><span class="hs-comment">{- -----------------------------------------------------------------------------
Note [DynFlags consistency]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

There are a number of number of DynFlags configurations which either
do not make sense or lead to unimplemented or buggy codepaths in the
compiler. makeDynFlagsConsistent is responsible for verifying the validity
of a set of DynFlags, fixing any issues, and reporting them back to the
caller.

GHCi and -O
---------------

When using optimization, the compiler can introduce several things
(such as unboxed tuples) into the intermediate code, which GHCi later
chokes on since the bytecode interpreter can't handle this (and while
this is arguably a bug these aren't handled, there are no plans to fix
it.)

While the driver pipeline always checks for this particular erroneous
combination when parsing flags, we also need to check when we update
the flags; this is because API clients may parse flags but update the
DynFlags afterwords, before finally running code inside a session (see
T10052 and #10052).
-}</span><span>
</span><span id="line-5021"></span><span>
</span><span id="line-5022"></span><span class="hs-comment">-- | Resolve any internal inconsistencies in a set of 'DynFlags'.</span><span>
</span><span id="line-5023"></span><span class="hs-comment">-- Returns the consistent 'DynFlags' as well as a list of warnings</span><span>
</span><span id="line-5024"></span><span class="hs-comment">-- to report to the user.</span><span>
</span><span id="line-5025"></span><span class="annot"><a href="GHC.Driver.Session.html#makeDynFlagsConsistent"><span class="hs-identifier hs-type">makeDynFlagsConsistent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-5026"></span><span class="hs-comment">-- Whenever makeDynFlagsConsistent does anything, it starts over, to</span><span>
</span><span id="line-5027"></span><span class="hs-comment">-- ensure that a later change doesn't invalidate an earlier check.</span><span>
</span><span id="line-5028"></span><span class="hs-comment">-- Be careful not to introduce potential loops!</span><span>
</span><span id="line-5029"></span><span id="makeDynFlagsConsistent"><span class="annot"><span class="annottext">makeDynFlagsConsistent :: DynFlags -&gt; (DynFlags, [Located [Char]])
</span><a href="GHC.Driver.Session.html#makeDynFlagsConsistent"><span class="hs-identifier hs-var hs-var">makeDynFlagsConsistent</span></a></span></span><span> </span><span id="local-6989586621680784345"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span></span><span>
</span><span id="line-5030"></span><span> </span><span class="hs-comment">-- Disable -dynamic-too on Windows (#8228, #7134, #5987)</span><span>
</span><span id="line-5031"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="#local-6989586621680784344"><span class="hs-identifier hs-var">os</span></a></span><span> </span><span class="annot"><span class="annottext">OS -&gt; OS -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="../../ghc-boot/src/GHC.Platform.html#OSMinGW32"><span class="hs-identifier hs-var">OSMinGW32</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_BuildDynamicToo"><span class="hs-identifier hs-var">Opt_BuildDynamicToo</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5032"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680784343"><span class="annot"><span class="annottext">dflags' :: DynFlags
</span><a href="#local-6989586621680784343"><span class="hs-identifier hs-var hs-var">dflags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; GeneralFlag -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#gopt_unset"><span class="hs-identifier hs-var">gopt_unset</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_BuildDynamicToo"><span class="hs-identifier hs-var">Opt_BuildDynamicToo</span></a></span><span>
</span><span id="line-5033"></span><span>          </span><span id="local-6989586621680784342"><span class="annot"><span class="annottext">warn :: [Char]
</span><a href="#local-6989586621680784342"><span class="hs-identifier hs-var hs-var">warn</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-dynamic-too is not supported on Windows&quot;</span></span><span>
</span><span id="line-5034"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784343"><span class="hs-identifier hs-var">dflags'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784342"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-5035"></span><span>
</span><span id="line-5036"></span><span>   </span><span class="hs-comment">-- Via-C backend only supports unregisterised convention. Switch to a backend</span><span>
</span><span id="line-5037"></span><span>   </span><span class="hs-comment">-- supporting it if possible.</span><span>
</span><span id="line-5038"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var hs-var">hscTarget</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">HscTarget -&gt; HscTarget -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscC"><span class="hs-identifier hs-var">HscC</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-5039"></span><span>   </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformUnregisterised"><span class="hs-identifier hs-var hs-var">platformUnregisterised</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-5040"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Backend
</span><a href="GHC.Driver.Backend.html#platformDefaultBackend"><span class="hs-identifier hs-var">platformDefaultBackend</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5041"></span><span>         </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#NCG"><span class="hs-identifier hs-var">NCG</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680784340"><span class="annot"><span class="annottext">dflags' :: DynFlags
</span><a href="#local-6989586621680784340"><span class="hs-identifier hs-var hs-var">dflags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hscTarget :: HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var">hscTarget</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscAsm"><span class="hs-identifier hs-var">HscAsm</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-5042"></span><span>                     </span><span id="local-6989586621680784339"><span class="annot"><span class="annottext">warn :: [Char]
</span><a href="#local-6989586621680784339"><span class="hs-identifier hs-var hs-var">warn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Target platform doesn't use unregisterised ABI, so using native code generator rather than compiling via C&quot;</span></span><span>
</span><span id="line-5043"></span><span>                 </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784340"><span class="hs-identifier hs-var">dflags'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784339"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-5044"></span><span>         </span><span class="annot"><span class="annottext">Backend
</span><a href="GHC.Driver.Backend.html#LLVM"><span class="hs-identifier hs-var">LLVM</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680784337"><span class="annot"><span class="annottext">dflags' :: DynFlags
</span><a href="#local-6989586621680784337"><span class="hs-identifier hs-var hs-var">dflags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hscTarget :: HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var">hscTarget</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscLlvm"><span class="hs-identifier hs-var">HscLlvm</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-5045"></span><span>                     </span><span id="local-6989586621680784336"><span class="annot"><span class="annottext">warn :: [Char]
</span><a href="#local-6989586621680784336"><span class="hs-identifier hs-var hs-var">warn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Target platform doesn't use unregisterised ABI, so using LLVM rather than compiling via C&quot;</span></span><span>
</span><span id="line-5046"></span><span>                 </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784337"><span class="hs-identifier hs-var">dflags'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784336"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-5047"></span><span>         </span><span class="annot"><span class="annottext">Backend
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; (DynFlags, [Located [Char]])
forall a. [Char] -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#pgmError"><span class="hs-identifier hs-var">pgmError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Compiling via C is only supported with unregisterised ABI but target platform doesn't use it.&quot;</span></span><span>
</span><span id="line-5048"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Hpc"><span class="hs-identifier hs-var">Opt_Hpc</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var hs-var">hscTarget</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">HscTarget -&gt; HscTarget -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscInterpreted"><span class="hs-identifier hs-var">HscInterpreted</span></a></span><span>
</span><span id="line-5049"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680784334"><span class="annot"><span class="annottext">dflags' :: DynFlags
</span><a href="#local-6989586621680784334"><span class="hs-identifier hs-var hs-var">dflags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; GeneralFlag -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#gopt_unset"><span class="hs-identifier hs-var">gopt_unset</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Hpc"><span class="hs-identifier hs-var">Opt_Hpc</span></a></span><span>
</span><span id="line-5050"></span><span>          </span><span id="local-6989586621680784333"><span class="annot"><span class="annottext">warn :: [Char]
</span><a href="#local-6989586621680784333"><span class="hs-identifier hs-var hs-var">warn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Hpc can't be used with byte-code interpreter. Ignoring -fhpc.&quot;</span></span><span>
</span><span id="line-5051"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784334"><span class="hs-identifier hs-var">dflags'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784333"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-5052"></span><span>
</span><span id="line-5053"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var hs-var">hscTarget</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">HscTarget -&gt; [HscTarget] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscAsm"><span class="hs-identifier hs-var">HscAsm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscLlvm"><span class="hs-identifier hs-var">HscLlvm</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-5054"></span><span>   </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformUnregisterised"><span class="hs-identifier hs-var hs-var">platformUnregisterised</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5055"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hscTarget :: HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var">hscTarget</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscC"><span class="hs-identifier hs-var">HscC</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-5056"></span><span>           </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Target platform uses unregisterised ABI, so compiling via C&quot;</span></span><span>
</span><span id="line-5057"></span><span>
</span><span id="line-5058"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var hs-var">hscTarget</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">HscTarget -&gt; HscTarget -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscAsm"><span class="hs-identifier hs-var">HscAsm</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-5059"></span><span>   </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Driver.Backend.html#platformNcgSupported"><span class="hs-identifier hs-var">platformNcgSupported</span></a></span><span> </span><span class="annot"><span class="annottext">(Platform -&gt; Bool) -&gt; Platform -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5060"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680784332"><span class="annot"><span class="annottext">dflags' :: DynFlags
</span><a href="#local-6989586621680784332"><span class="hs-identifier hs-var hs-var">dflags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hscTarget :: HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var">hscTarget</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscTarget
</span><a href="GHC.Driver.Session.html#HscLlvm"><span class="hs-identifier hs-var">HscLlvm</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-5061"></span><span>            </span><span id="local-6989586621680784331"><span class="annot"><span class="annottext">warn :: [Char]
</span><a href="#local-6989586621680784331"><span class="hs-identifier hs-var hs-var">warn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Native code generator doesn't support target platform, so using LLVM&quot;</span></span><span>
</span><span id="line-5062"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784332"><span class="hs-identifier hs-var">dflags'</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784331"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-5063"></span><span>
</span><span id="line-5064"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OS -&gt; Bool
</span><a href="../../ghc-boot/src/GHC.Platform.html#osElfTarget"><span class="hs-identifier hs-var">osElfTarget</span></a></span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="#local-6989586621680784344"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIE"><span class="hs-identifier hs-var">Opt_PIE</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5065"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; GeneralFlag -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#gopt_unset"><span class="hs-identifier hs-var">gopt_unset</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIE"><span class="hs-identifier hs-var">Opt_PIE</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5066"></span><span>           </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Position-independent only supported on ELF platforms&quot;</span></span><span>
</span><span id="line-5067"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="#local-6989586621680784344"><span class="hs-identifier hs-var">os</span></a></span><span> </span><span class="annot"><span class="annottext">OS -&gt; OS -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="../../ghc-boot/src/GHC.Platform.html#OSDarwin"><span class="hs-identifier hs-var">OSDarwin</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-5068"></span><span>   </span><span class="annot"><span class="annottext">Arch
</span><a href="#local-6989586621680784329"><span class="hs-identifier hs-var">arch</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-5069"></span><span>   </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIC"><span class="hs-identifier hs-var">Opt_PIC</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5070"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; GeneralFlag -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#gopt_set"><span class="hs-identifier hs-var">gopt_set</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIC"><span class="hs-identifier hs-var">Opt_PIC</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5071"></span><span>           </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Enabling -fPIC as it is always on for this platform&quot;</span></span><span>
</span><span id="line-5072"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680784328"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784328"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DynFlags -&gt; Either [Char] DynFlags
</span><a href="GHC.Driver.Session.html#checkOptLevel"><span class="hs-identifier hs-var">checkOptLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#optLevel"><span class="hs-identifier hs-var hs-var">optLevel</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5073"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; DynFlags -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#updOptLevel"><span class="hs-identifier hs-var">updOptLevel</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784328"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-5074"></span><span>
</span><span id="line-5075"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">GhcLink
</span><a href="GHC.Driver.Session.html#LinkInMemory"><span class="hs-identifier hs-var">LinkInMemory</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; GhcLink
</span><a href="GHC.Driver.Session.html#ghcLink"><span class="hs-identifier hs-var hs-var">ghcLink</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5076"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_ExternalInterpreter"><span class="hs-identifier hs-var">Opt_ExternalInterpreter</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5077"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="GHC.Driver.Ways.html#hostIsProfiled"><span class="hs-identifier hs-var">hostIsProfiled</span></a></span><span>
</span><span id="line-5078"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HscTarget -&gt; Bool
</span><a href="GHC.Driver.Session.html#isObjectTarget"><span class="hs-identifier hs-var">isObjectTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; HscTarget
</span><a href="GHC.Driver.Session.html#hscTarget"><span class="hs-identifier hs-var hs-var">hscTarget</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5079"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Driver.Ways.html#WayProf"><span class="hs-identifier hs-var">WayProf</span></a></span><span> </span><span class="annot"><span class="annottext">Way -&gt; Set Way -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="../../containers/src/Data.Set.Internal.html#notMember"><span class="hs-operator hs-var">`Set.notMember`</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Set Way
</span><a href="GHC.Driver.Session.html#ways"><span class="hs-identifier hs-var hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5080"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">ways :: Set Way
</span><a href="GHC.Driver.Session.html#ways"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Way -&gt; Set Way -&gt; Set Way
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="../../containers/src/Data.Set.Internal.html#insert"><span class="hs-identifier hs-var">Set.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Driver.Ways.html#WayProf"><span class="hs-identifier hs-var">WayProf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Set Way
</span><a href="GHC.Driver.Session.html#ways"><span class="hs-identifier hs-var hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-5081"></span><span>         </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Enabling -prof, because -fobject-code is enabled and GHCi is profiled&quot;</span></span><span>
</span><span id="line-5082"></span><span>
</span><span id="line-5083"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-5084"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680784326"><span class="annot"><span class="annottext">loc :: SrcSpan
</span><a href="#local-6989586621680784326"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#mkGeneralSrcSpan"><span class="hs-identifier hs-var">mkGeneralSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;when making flags consistent&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-5085"></span><span>          </span><span id="local-6989586621680784341"><span class="annot"><span class="annottext">loop :: DynFlags -&gt; [Char] -&gt; (DynFlags, [Located [Char]])
</span><a href="#local-6989586621680784341"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621680784324"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784324"><span class="hs-identifier hs-var">updated_dflags</span></a></span></span><span> </span><span id="local-6989586621680784323"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784323"><span class="hs-identifier hs-var">warning</span></a></span></span><span>
</span><span id="line-5086"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; (DynFlags, [Located [Char]])
</span><a href="GHC.Driver.Session.html#makeDynFlagsConsistent"><span class="hs-identifier hs-var">makeDynFlagsConsistent</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784324"><span class="hs-identifier hs-var">updated_dflags</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5087"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621680784322"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784322"><span class="hs-identifier hs-var">dflags'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680784321"><span class="annot"><span class="annottext">[Located [Char]]
</span><a href="#local-6989586621680784321"><span class="hs-identifier hs-var">ws</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784322"><span class="hs-identifier hs-var">dflags'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [Char] -&gt; Located [Char]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680784326"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784323"><span class="hs-identifier hs-var">warning</span></a></span><span> </span><span class="annot"><span class="annottext">Located [Char] -&gt; [Located [Char]] -&gt; [Located [Char]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Located [Char]]
</span><a href="#local-6989586621680784321"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5088"></span><span>          </span><span id="local-6989586621680784320"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621680784320"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784345"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5089"></span><span>          </span><span id="local-6989586621680784329"><span class="annot"><span class="annottext">arch :: Arch
</span><a href="#local-6989586621680784329"><span class="hs-identifier hs-var hs-var">arch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621680784320"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-5090"></span><span>          </span><span id="local-6989586621680784344"><span class="annot"><span class="annottext">os :: OS
</span><a href="#local-6989586621680784344"><span class="hs-identifier hs-var hs-var">os</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; OS
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformOS"><span class="hs-identifier hs-var">platformOS</span></a></span><span>   </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621680784320"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-5091"></span><span>
</span><span id="line-5092"></span><span>
</span><span id="line-5093"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-5094"></span><span class="hs-comment">-- Do not use unsafeGlobalDynFlags!</span><span>
</span><span id="line-5095"></span><span class="hs-comment">--</span><span>
</span><span id="line-5096"></span><span class="hs-comment">-- unsafeGlobalDynFlags is a hack, necessary because we need to be able</span><span>
</span><span id="line-5097"></span><span class="hs-comment">-- to show SDocs when tracing, but we don't always have DynFlags</span><span>
</span><span id="line-5098"></span><span class="hs-comment">-- available.</span><span>
</span><span id="line-5099"></span><span class="hs-comment">--</span><span>
</span><span id="line-5100"></span><span class="hs-comment">-- Do not use it if you can help it. You may get the wrong value, or this</span><span>
</span><span id="line-5101"></span><span class="hs-comment">-- panic!</span><span>
</span><span id="line-5102"></span><span>
</span><span id="line-5103"></span><span class="hs-comment">-- | This is the value that 'unsafeGlobalDynFlags' takes before it is</span><span>
</span><span id="line-5104"></span><span class="hs-comment">-- initialized.</span><span>
</span><span id="line-5105"></span><span class="annot"><a href="GHC.Driver.Session.html#defaultGlobalDynFlags"><span class="hs-identifier hs-type">defaultGlobalDynFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span>
</span><span id="line-5106"></span><span id="defaultGlobalDynFlags"><span class="annot"><span class="annottext">defaultGlobalDynFlags :: DynFlags
</span><a href="GHC.Driver.Session.html#defaultGlobalDynFlags"><span class="hs-identifier hs-var hs-var">defaultGlobalDynFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-5107"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Settings -&gt; LlvmConfig -&gt; DynFlags
</span><a href="GHC.Driver.Session.html#defaultDynFlags"><span class="hs-identifier hs-var">defaultDynFlags</span></a></span><span> </span><span class="annot"><span class="annottext">Settings
forall {a}. a
</span><a href="#local-6989586621680784318"><span class="hs-identifier hs-var">settings</span></a></span><span> </span><span class="annot"><span class="annottext">LlvmConfig
forall {a}. a
</span><a href="#local-6989586621680784317"><span class="hs-identifier hs-var">llvmConfig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">verbosity :: Int
</span><a href="GHC.Driver.Session.html#verbosity"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-5108"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-5109"></span><span>    </span><span id="local-6989586621680784318"><span class="annot"><span class="annottext">settings :: a
</span><a href="#local-6989586621680784318"><span class="hs-identifier hs-var hs-var">settings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. [Char] -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;v_unsafeGlobalDynFlags: settings not initialised&quot;</span></span><span>
</span><span id="line-5110"></span><span>    </span><span id="local-6989586621680784317"><span class="annot"><span class="annottext">llvmConfig :: a
</span><a href="#local-6989586621680784317"><span class="hs-identifier hs-var hs-var">llvmConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; a
forall a. [Char] -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;v_unsafeGlobalDynFlags: llvmConfig not initialised&quot;</span></span><span class="hs-cpp">

#if GHC_STAGE &lt; 2
</span><span class="hs-identifier">GLOBAL_VAR</span><span class="hs-special">(</span><span class="hs-identifier">v_unsafeGlobalDynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defaultGlobalDynFlags</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">DynFlags</span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">SHARED_GLOBAL_VAR</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">v_unsafeGlobalDynFlags</span><span id="local-6989586621680788031"></span><span>
</span><span id="line-5116"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">getOrSetLibHSghcGlobalDynFlags</span><span>
</span><span id="line-5117"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;getOrSetLibHSghcGlobalDynFlags&quot;</span><span>
</span><span id="line-5118"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">defaultGlobalDynFlags</span><span>
</span><span id="line-5119"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-5122"></span><span class="annot"><a href="GHC.Driver.Session.html#unsafeGlobalDynFlags"><span class="hs-identifier hs-type">unsafeGlobalDynFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span>
</span><span id="line-5123"></span><span id="unsafeGlobalDynFlags"><span class="annot"><span class="annottext">unsafeGlobalDynFlags :: DynFlags
</span><a href="GHC.Driver.Session.html#unsafeGlobalDynFlags"><span class="hs-identifier hs-var hs-var">unsafeGlobalDynFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO DynFlags -&gt; DynFlags
forall a. IO a -&gt; a
</span><a href="../../base/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO DynFlags -&gt; DynFlags) -&gt; IO DynFlags -&gt; DynFlags
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IORef DynFlags -&gt; IO DynFlags
forall a. IORef a -&gt; IO a
</span><a href="../../base/src/GHC.IORef.html#readIORef"><span class="hs-identifier hs-var">readIORef</span></a></span><span> </span><span class="annot"><span class="annottext">IORef DynFlags
</span><a href="GHC.Driver.Session.html#v_unsafeGlobalDynFlags"><span class="hs-identifier hs-var">v_unsafeGlobalDynFlags</span></a></span><span>
</span><span id="line-5124"></span><span>
</span><span id="line-5125"></span><span class="annot"><a href="GHC.Driver.Session.html#setUnsafeGlobalDynFlags"><span class="hs-identifier hs-type">setUnsafeGlobalDynFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-5126"></span><span id="setUnsafeGlobalDynFlags"><span class="annot"><span class="annottext">setUnsafeGlobalDynFlags :: DynFlags -&gt; IO ()
</span><a href="GHC.Driver.Session.html#setUnsafeGlobalDynFlags"><span class="hs-identifier hs-var hs-var">setUnsafeGlobalDynFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IORef DynFlags -&gt; DynFlags -&gt; IO ()
forall a. IORef a -&gt; a -&gt; IO ()
</span><a href="../../base/src/GHC.IORef.html#writeIORef"><span class="hs-identifier hs-var">writeIORef</span></a></span><span> </span><span class="annot"><span class="annottext">IORef DynFlags
</span><a href="GHC.Driver.Session.html#v_unsafeGlobalDynFlags"><span class="hs-identifier hs-var">v_unsafeGlobalDynFlags</span></a></span><span>
</span><span id="line-5127"></span><span>
</span><span id="line-5128"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-5129"></span><span class="hs-comment">-- SSE and AVX</span><span>
</span><span id="line-5130"></span><span>
</span><span id="line-5131"></span><span class="hs-comment">-- TODO: Instead of using a separate predicate (i.e. isSse2Enabled) to</span><span>
</span><span id="line-5132"></span><span class="hs-comment">-- check if SSE is enabled, we might have x86-64 imply the -msse2</span><span>
</span><span id="line-5133"></span><span class="hs-comment">-- flag.</span><span>
</span><span id="line-5134"></span><span>
</span><span id="line-5135"></span><span class="annot"><a href="GHC.Driver.Session.html#isSseEnabled"><span class="hs-identifier hs-type">isSseEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5136"></span><span id="isSseEnabled"><span class="annot"><span class="annottext">isSseEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isSseEnabled"><span class="hs-identifier hs-var hs-var">isSseEnabled</span></a></span></span><span> </span><span id="local-6989586621680784312"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784312"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784312"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5137"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-5138"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86"><span class="hs-identifier hs-var">ArchX86</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-5139"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-5140"></span><span>
</span><span id="line-5141"></span><span class="annot"><a href="GHC.Driver.Session.html#isSse2Enabled"><span class="hs-identifier hs-type">isSse2Enabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5142"></span><span id="isSse2Enabled"><span class="annot"><span class="annottext">isSse2Enabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isSse2Enabled"><span class="hs-identifier hs-var hs-var">isSse2Enabled</span></a></span></span><span> </span><span id="local-6989586621680784310"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784310"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784310"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5143"></span><span>  </span><span class="hs-comment">-- We Assume  SSE1 and SSE2 operations are available on both</span><span>
</span><span id="line-5144"></span><span>  </span><span class="hs-comment">-- x86 and x86_64. Historically we didn't default to SSE2 and</span><span>
</span><span id="line-5145"></span><span>  </span><span class="hs-comment">-- SSE1 on x86, which results in defacto nondeterminism for how</span><span>
</span><span id="line-5146"></span><span>  </span><span class="hs-comment">-- rounding behaves in the associated x87 floating point instructions</span><span>
</span><span id="line-5147"></span><span>  </span><span class="hs-comment">-- because variations in the spill/fpu stack placement of arguments for</span><span>
</span><span id="line-5148"></span><span>  </span><span class="hs-comment">-- operations would change the precision and final result of what</span><span>
</span><span id="line-5149"></span><span>  </span><span class="hs-comment">-- would otherwise be the same expressions with respect to single or</span><span>
</span><span id="line-5150"></span><span>  </span><span class="hs-comment">-- double precision IEEE floating point computations.</span><span>
</span><span id="line-5151"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-5152"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86"><span class="hs-identifier hs-var">ArchX86</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-5153"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-5154"></span><span>
</span><span id="line-5155"></span><span>
</span><span id="line-5156"></span><span class="annot"><a href="GHC.Driver.Session.html#isSse4_2Enabled"><span class="hs-identifier hs-type">isSse4_2Enabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5157"></span><span id="isSse4_2Enabled"><span class="annot"><span class="annottext">isSse4_2Enabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isSse4_2Enabled"><span class="hs-identifier hs-var hs-var">isSse4_2Enabled</span></a></span></span><span> </span><span id="local-6989586621680784309"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784309"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe SseVersion
</span><a href="GHC.Driver.Session.html#sseVersion"><span class="hs-identifier hs-var hs-var">sseVersion</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784309"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SseVersion -&gt; Maybe SseVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">SseVersion -&gt; Maybe SseVersion
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">SseVersion
</span><a href="../../ghc-boot/src/GHC.Platform.html#SSE42"><span class="hs-identifier hs-var">SSE42</span></a></span><span>
</span><span id="line-5158"></span><span>
</span><span id="line-5159"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvxEnabled"><span class="hs-identifier hs-type">isAvxEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5160"></span><span id="isAvxEnabled"><span class="annot"><span class="annottext">isAvxEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvxEnabled"><span class="hs-identifier hs-var hs-var">isAvxEnabled</span></a></span></span><span> </span><span id="local-6989586621680784308"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784308"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx"><span class="hs-identifier hs-var hs-var">avx</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784308"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx2"><span class="hs-identifier hs-var hs-var">avx2</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784308"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512f"><span class="hs-identifier hs-var hs-var">avx512f</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784308"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5161"></span><span>
</span><span id="line-5162"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvx2Enabled"><span class="hs-identifier hs-type">isAvx2Enabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5163"></span><span id="isAvx2Enabled"><span class="annot"><span class="annottext">isAvx2Enabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvx2Enabled"><span class="hs-identifier hs-var hs-var">isAvx2Enabled</span></a></span></span><span> </span><span id="local-6989586621680784307"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784307"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx2"><span class="hs-identifier hs-var hs-var">avx2</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784307"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512f"><span class="hs-identifier hs-var hs-var">avx512f</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784307"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5164"></span><span>
</span><span id="line-5165"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512cdEnabled"><span class="hs-identifier hs-type">isAvx512cdEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5166"></span><span id="isAvx512cdEnabled"><span class="annot"><span class="annottext">isAvx512cdEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvx512cdEnabled"><span class="hs-identifier hs-var hs-var">isAvx512cdEnabled</span></a></span></span><span> </span><span id="local-6989586621680784306"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784306"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512cd"><span class="hs-identifier hs-var hs-var">avx512cd</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784306"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5167"></span><span>
</span><span id="line-5168"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512erEnabled"><span class="hs-identifier hs-type">isAvx512erEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5169"></span><span id="isAvx512erEnabled"><span class="annot"><span class="annottext">isAvx512erEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvx512erEnabled"><span class="hs-identifier hs-var hs-var">isAvx512erEnabled</span></a></span></span><span> </span><span id="local-6989586621680784305"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784305"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512er"><span class="hs-identifier hs-var hs-var">avx512er</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784305"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5170"></span><span>
</span><span id="line-5171"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512fEnabled"><span class="hs-identifier hs-type">isAvx512fEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5172"></span><span id="isAvx512fEnabled"><span class="annot"><span class="annottext">isAvx512fEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvx512fEnabled"><span class="hs-identifier hs-var hs-var">isAvx512fEnabled</span></a></span></span><span> </span><span id="local-6989586621680784304"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784304"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512f"><span class="hs-identifier hs-var hs-var">avx512f</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784304"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5173"></span><span>
</span><span id="line-5174"></span><span class="annot"><a href="GHC.Driver.Session.html#isAvx512pfEnabled"><span class="hs-identifier hs-type">isAvx512pfEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5175"></span><span id="isAvx512pfEnabled"><span class="annot"><span class="annottext">isAvx512pfEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isAvx512pfEnabled"><span class="hs-identifier hs-var hs-var">isAvx512pfEnabled</span></a></span></span><span> </span><span id="local-6989586621680784303"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784303"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#avx512pf"><span class="hs-identifier hs-var hs-var">avx512pf</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784303"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5176"></span><span>
</span><span id="line-5177"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-5178"></span><span class="hs-comment">-- BMI2</span><span>
</span><span id="line-5179"></span><span>
</span><span id="line-5180"></span><span class="annot"><a href="GHC.Driver.Session.html#isBmiEnabled"><span class="hs-identifier hs-type">isBmiEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5181"></span><span id="isBmiEnabled"><span class="annot"><span class="annottext">isBmiEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isBmiEnabled"><span class="hs-identifier hs-var hs-var">isBmiEnabled</span></a></span></span><span> </span><span id="local-6989586621680784302"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784302"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784302"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5182"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe BmiVersion
</span><a href="GHC.Driver.Session.html#bmiVersion"><span class="hs-identifier hs-var hs-var">bmiVersion</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784302"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BmiVersion -&gt; Maybe BmiVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">BmiVersion -&gt; Maybe BmiVersion
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BmiVersion
</span><a href="../../ghc-boot/src/GHC.Platform.html#BMI1"><span class="hs-identifier hs-var">BMI1</span></a></span><span>
</span><span id="line-5183"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86"><span class="hs-identifier hs-var">ArchX86</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe BmiVersion
</span><a href="GHC.Driver.Session.html#bmiVersion"><span class="hs-identifier hs-var hs-var">bmiVersion</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784302"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BmiVersion -&gt; Maybe BmiVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">BmiVersion -&gt; Maybe BmiVersion
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BmiVersion
</span><a href="../../ghc-boot/src/GHC.Platform.html#BMI1"><span class="hs-identifier hs-var">BMI1</span></a></span><span>
</span><span id="line-5184"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-5185"></span><span>
</span><span id="line-5186"></span><span class="annot"><a href="GHC.Driver.Session.html#isBmi2Enabled"><span class="hs-identifier hs-type">isBmi2Enabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5187"></span><span id="isBmi2Enabled"><span class="annot"><span class="annottext">isBmi2Enabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#isBmi2Enabled"><span class="hs-identifier hs-var hs-var">isBmi2Enabled</span></a></span></span><span> </span><span id="local-6989586621680784301"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784301"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.Session.html#targetPlatform"><span class="hs-identifier hs-var hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784301"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-5188"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86_64"><span class="hs-identifier hs-var">ArchX86_64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe BmiVersion
</span><a href="GHC.Driver.Session.html#bmiVersion"><span class="hs-identifier hs-var hs-var">bmiVersion</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784301"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BmiVersion -&gt; Maybe BmiVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">BmiVersion -&gt; Maybe BmiVersion
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BmiVersion
</span><a href="../../ghc-boot/src/GHC.Platform.html#BMI2"><span class="hs-identifier hs-var">BMI2</span></a></span><span>
</span><span id="line-5189"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><a href="../../ghc-boot/src/GHC.Platform.html#ArchX86"><span class="hs-identifier hs-var">ArchX86</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe BmiVersion
</span><a href="GHC.Driver.Session.html#bmiVersion"><span class="hs-identifier hs-var hs-var">bmiVersion</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784301"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe BmiVersion -&gt; Maybe BmiVersion -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">BmiVersion -&gt; Maybe BmiVersion
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BmiVersion
</span><a href="../../ghc-boot/src/GHC.Platform.html#BMI2"><span class="hs-identifier hs-var">BMI2</span></a></span><span>
</span><span id="line-5190"></span><span>    </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-5191"></span><span>
</span><span id="line-5192"></span><span class="hs-comment">-- | Indicate if cost-centre profiling is enabled</span><span>
</span><span id="line-5193"></span><span class="annot"><a href="GHC.Driver.Session.html#sccProfilingEnabled"><span class="hs-identifier hs-type">sccProfilingEnabled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5194"></span><span id="sccProfilingEnabled"><span class="annot"><span class="annottext">sccProfilingEnabled :: DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#sccProfilingEnabled"><span class="hs-identifier hs-var hs-var">sccProfilingEnabled</span></a></span></span><span> </span><span id="local-6989586621680784300"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784300"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Set Way
</span><a href="GHC.Driver.Session.html#ways"><span class="hs-identifier hs-var hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784300"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Set Way -&gt; Way -&gt; Bool
</span><a href="GHC.Driver.Ways.html#hasWay"><span class="hs-operator hs-var">`hasWay`</span></a></span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Driver.Ways.html#WayProf"><span class="hs-identifier hs-var">WayProf</span></a></span><span>
</span><span id="line-5195"></span><span>
</span><span id="line-5196"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-5197"></span><span class="hs-comment">-- Linker/compiler information</span><span>
</span><span id="line-5198"></span><span>
</span><span id="line-5199"></span><span class="hs-comment">-- LinkerInfo contains any extra options needed by the system linker.</span><span>
</span><span id="line-5200"></span><span class="hs-keyword">data</span><span> </span><span id="LinkerInfo"><span class="annot"><a href="GHC.Driver.Session.html#LinkerInfo"><span class="hs-identifier hs-var">LinkerInfo</span></a></span></span><span>
</span><span id="line-5201"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="GnuLD"><span class="annot"><a href="GHC.Driver.Session.html#GnuLD"><span class="hs-identifier hs-var">GnuLD</span></a></span></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5202"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="GnuGold"><span class="annot"><a href="GHC.Driver.Session.html#GnuGold"><span class="hs-identifier hs-var">GnuGold</span></a></span></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5203"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LlvmLLD"><span class="annot"><a href="GHC.Driver.Session.html#LlvmLLD"><span class="hs-identifier hs-var">LlvmLLD</span></a></span></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5204"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DarwinLD"><span class="annot"><a href="GHC.Driver.Session.html#DarwinLD"><span class="hs-identifier hs-var">DarwinLD</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5205"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SolarisLD"><span class="annot"><a href="GHC.Driver.Session.html#SolarisLD"><span class="hs-identifier hs-var">SolarisLD</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5206"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AixLD"><span class="annot"><a href="GHC.Driver.Session.html#AixLD"><span class="hs-identifier hs-var">AixLD</span></a></span></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.CliOption.html#Option"><span class="hs-identifier hs-type">Option</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-5207"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UnknownLD"><span class="annot"><a href="GHC.Driver.Session.html#UnknownLD"><span class="hs-identifier hs-var">UnknownLD</span></a></span></span><span>
</span><span id="line-5208"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680784281"><span id="local-6989586621680784290"><span class="annot"><span class="annottext">LinkerInfo -&gt; LinkerInfo -&gt; Bool
(LinkerInfo -&gt; LinkerInfo -&gt; Bool)
-&gt; (LinkerInfo -&gt; LinkerInfo -&gt; Bool) -&gt; Eq LinkerInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: LinkerInfo -&gt; LinkerInfo -&gt; Bool
$c/= :: LinkerInfo -&gt; LinkerInfo -&gt; Bool
== :: LinkerInfo -&gt; LinkerInfo -&gt; Bool
$c== :: LinkerInfo -&gt; LinkerInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-5209"></span><span>
</span><span id="line-5210"></span><span class="hs-comment">-- CompilerInfo tells us which C compiler we're using</span><span>
</span><span id="line-5211"></span><span class="hs-keyword">data</span><span> </span><span id="CompilerInfo"><span class="annot"><a href="GHC.Driver.Session.html#CompilerInfo"><span class="hs-identifier hs-var">CompilerInfo</span></a></span></span><span>
</span><span id="line-5212"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="GCC"><span class="annot"><a href="GHC.Driver.Session.html#GCC"><span class="hs-identifier hs-var">GCC</span></a></span></span><span>
</span><span id="line-5213"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="Clang"><span class="annot"><a href="GHC.Driver.Session.html#Clang"><span class="hs-identifier hs-var">Clang</span></a></span></span><span>
</span><span id="line-5214"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="AppleClang"><span class="annot"><a href="GHC.Driver.Session.html#AppleClang"><span class="hs-identifier hs-var">AppleClang</span></a></span></span><span>
</span><span id="line-5215"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="AppleClang51"><span class="annot"><a href="GHC.Driver.Session.html#AppleClang51"><span class="hs-identifier hs-var">AppleClang51</span></a></span></span><span>
</span><span id="line-5216"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="UnknownCC"><span class="annot"><a href="GHC.Driver.Session.html#UnknownCC"><span class="hs-identifier hs-var">UnknownCC</span></a></span></span><span>
</span><span id="line-5217"></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680784271"><span id="local-6989586621680784273"><span class="annot"><span class="annottext">CompilerInfo -&gt; CompilerInfo -&gt; Bool
(CompilerInfo -&gt; CompilerInfo -&gt; Bool)
-&gt; (CompilerInfo -&gt; CompilerInfo -&gt; Bool) -&gt; Eq CompilerInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CompilerInfo -&gt; CompilerInfo -&gt; Bool
$c/= :: CompilerInfo -&gt; CompilerInfo -&gt; Bool
== :: CompilerInfo -&gt; CompilerInfo -&gt; Bool
$c== :: CompilerInfo -&gt; CompilerInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-5218"></span><span>
</span><span id="line-5219"></span><span>
</span><span id="line-5220"></span><span class="hs-comment">-- | Should we use `-XLinker -rpath` when linking or not?</span><span>
</span><span id="line-5221"></span><span class="hs-comment">-- See Note [-fno-use-rpaths]</span><span>
</span><span id="line-5222"></span><span class="annot"><a href="GHC.Driver.Session.html#useXLinkerRPath"><span class="hs-identifier hs-type">useXLinkerRPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../ghc-boot/src/GHC.Platform.html#OS"><span class="hs-identifier hs-type">OS</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-5223"></span><span id="useXLinkerRPath"><span class="annot"><span class="annottext">useXLinkerRPath :: DynFlags -&gt; OS -&gt; Bool
</span><a href="GHC.Driver.Session.html#useXLinkerRPath"><span class="hs-identifier hs-var hs-var">useXLinkerRPath</span></a></span></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OS
</span><a href="../../ghc-boot/src/GHC.Platform.html#OSDarwin"><span class="hs-identifier hs-var">OSDarwin</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-comment">-- See Note [Dynamic linking on macOS]</span><span>
</span><span id="line-5224"></span><span class="annot"><a href="GHC.Driver.Session.html#useXLinkerRPath"><span class="hs-identifier hs-var">useXLinkerRPath</span></a></span><span> </span><span id="local-6989586621680784270"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784270"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="annot"><span class="annottext">OS
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_RPath"><span class="hs-identifier hs-var">Opt_RPath</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784270"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5225"></span><span>
</span><span id="line-5226"></span><span class="hs-comment">{-
Note [-fno-use-rpaths]
~~~~~~~~~~~~~~~~~~~~~~

First read, Note [Dynamic linking on macOS] to understand why on darwin we never
use `-XLinker -rpath`.

The specification of `Opt_RPath` is as follows:

The default case `-fuse-rpaths`:
* On darwin, never use `-Xlinker -rpath -Xlinker`, always inject the rpath
  afterwards, see `runInjectRPaths`. There is no way to use `-Xlinker` on darwin
  as things stand but it wasn't documented in the user guide before this patch how
  `-fuse-rpaths` should behave and the fact it was always disabled on darwin.
* Otherwise, use `-Xlinker -rpath -Xlinker` to set the rpath of the executable,
  this is the normal way you should set the rpath.

The case of `-fno-use-rpaths`
* Never inject anything into the rpath.

When this was first implemented, `Opt_RPath` was disabled on darwin, but
the rpath was still always augmented by `runInjectRPaths`, and there was no way to
stop this. This was problematic because you couldn't build an executable in CI
with a clean rpath.

-}</span><span>
</span><span id="line-5252"></span><span>
</span><span id="line-5253"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-5254"></span><span class="hs-comment">-- RTS hooks</span><span>
</span><span id="line-5255"></span><span>
</span><span id="line-5256"></span><span class="hs-comment">-- Convert sizes like &quot;3.5M&quot; into integers</span><span>
</span><span id="line-5257"></span><span class="annot"><a href="GHC.Driver.Session.html#decodeSize"><span class="hs-identifier hs-type">decodeSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-5258"></span><span id="decodeSize"><span class="annot"><span class="annottext">decodeSize :: [Char] -&gt; Integer
</span><a href="GHC.Driver.Session.html#decodeSize"><span class="hs-identifier hs-var hs-var">decodeSize</span></a></span></span><span> </span><span id="local-6989586621680784269"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784269"><span class="hs-identifier hs-var">str</span></a></span></span><span>
</span><span id="line-5259"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../base/src/GHC.Real.html#truncate"><span class="hs-identifier hs-var">truncate</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621680784266"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-5260"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;K&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;k&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../base/src/GHC.Real.html#truncate"><span class="hs-identifier hs-var">truncate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621680784266"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span>
</span><span id="line-5261"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;M&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;m&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../base/src/GHC.Real.html#truncate"><span class="hs-identifier hs-var">truncate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621680784266"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span>
</span><span id="line-5262"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;G&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;g&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../base/src/GHC.Real.html#truncate"><span class="hs-identifier hs-var">truncate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621680784266"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span>
</span><span id="line-5263"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GhcException -&gt; Integer
forall a. GhcException -&gt; a
</span><a href="GHC.Utils.Panic.html#throwGhcException"><span class="hs-identifier hs-var">throwGhcException</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; GhcException
</span><a href="GHC.Utils.Panic.html#CmdLineError"><span class="hs-identifier hs-var">CmdLineError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;can't decode size: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784269"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-5264"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680784264"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784264"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680784268"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784268"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; [Char] -&gt; ([Char], [Char])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base/src/GHC.List.html#span"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621680784262"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784269"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-5265"></span><span>        </span><span id="local-6989586621680784266"><span class="annot"><span class="annottext">n :: Rational
</span><a href="#local-6989586621680784266"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Rational
</span><a href="GHC.Utils.Misc.html#readRational"><span class="hs-identifier hs-var">readRational</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621680784264"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-5266"></span><span>        </span><span id="local-6989586621680784262"><span class="annot"><span class="annottext">pred :: Char -&gt; Bool
</span><a href="#local-6989586621680784262"><span class="hs-identifier hs-var hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621680784259"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680784259"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base/src/GHC.Unicode.html#isDigit"><span class="hs-identifier hs-var">isDigit</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680784259"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680784259"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>
</span><span id="line-5267"></span><span>
</span><span id="line-5268"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;setHeapSize&quot;</span></span><span>       </span><span id="setHeapSize"><span class="annot"><a href="GHC.Driver.Session.html#setHeapSize"><span class="hs-identifier hs-var">setHeapSize</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-5269"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;enableTimingStats&quot;</span></span><span> </span><span id="enableTimingStats"><span class="annot"><a href="GHC.Driver.Session.html#enableTimingStats"><span class="hs-identifier hs-var">enableTimingStats</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-5270"></span><span>
</span><span id="line-5271"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-5272"></span><span class="hs-comment">-- Types for managing temporary files.</span><span>
</span><span id="line-5273"></span><span class="hs-comment">--</span><span>
</span><span id="line-5274"></span><span class="hs-comment">-- these are here because FilesToClean is used in DynFlags</span><span>
</span><span id="line-5275"></span><span>
</span><span id="line-5276"></span><span class="hs-comment">-- | A collection of files that must be deleted before ghc exits.</span><span>
</span><span id="line-5277"></span><span class="hs-comment">-- The current collection</span><span>
</span><span id="line-5278"></span><span class="hs-comment">-- is stored in an IORef in DynFlags, 'filesToClean'.</span><span>
</span><span id="line-5279"></span><span class="hs-keyword">data</span><span> </span><span id="FilesToClean"><span class="annot"><a href="GHC.Driver.Session.html#FilesToClean"><span class="hs-identifier hs-var">FilesToClean</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FilesToClean"><span class="annot"><a href="GHC.Driver.Session.html#FilesToClean"><span class="hs-identifier hs-var">FilesToClean</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-5280"></span><span>  </span><span id="ftcGhcSession"><span class="annot"><span class="annottext">FilesToClean -&gt; Set [Char]
</span><a href="GHC.Driver.Session.html#ftcGhcSession"><span class="hs-identifier hs-var hs-var">ftcGhcSession</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../containers/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="../../base/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-5281"></span><span>  </span><span class="hs-comment">-- ^ Files that will be deleted at the end of runGhc(T)</span><span>
</span><span id="line-5282"></span><span>  </span><span id="ftcCurrentModule"><span class="annot"><span class="annottext">FilesToClean -&gt; Set [Char]
</span><a href="GHC.Driver.Session.html#ftcCurrentModule"><span class="hs-identifier hs-var hs-var">ftcCurrentModule</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../containers/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="../../base/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5283"></span><span>  </span><span class="hs-comment">-- ^ Files that will be deleted the next time</span><span>
</span><span id="line-5284"></span><span>  </span><span class="hs-comment">-- 'FileCleanup.cleanCurrentModuleTempFiles' is called, or otherwise at the</span><span>
</span><span id="line-5285"></span><span>  </span><span class="hs-comment">-- end of the session.</span><span>
</span><span id="line-5286"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-5287"></span><span>
</span><span id="line-5288"></span><span class="hs-comment">-- | An empty FilesToClean</span><span>
</span><span id="line-5289"></span><span class="annot"><a href="GHC.Driver.Session.html#emptyFilesToClean"><span class="hs-identifier hs-type">emptyFilesToClean</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#FilesToClean"><span class="hs-identifier hs-type">FilesToClean</span></a></span><span>
</span><span id="line-5290"></span><span id="emptyFilesToClean"><span class="annot"><span class="annottext">emptyFilesToClean :: FilesToClean
</span><a href="GHC.Driver.Session.html#emptyFilesToClean"><span class="hs-identifier hs-var hs-var">emptyFilesToClean</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set [Char] -&gt; Set [Char] -&gt; FilesToClean
</span><a href="GHC.Driver.Session.html#FilesToClean"><span class="hs-identifier hs-var">FilesToClean</span></a></span><span> </span><span class="annot"><span class="annottext">Set [Char]
forall a. Set a
</span><a href="../../containers/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Set [Char]
forall a. Set a
</span><a href="../../containers/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">Set.empty</span></a></span><span>
</span><span id="line-5291"></span><span>
</span><span id="line-5292"></span><span>
</span><span id="line-5293"></span><span class="hs-comment">-- | Initialize the pretty-printing options</span><span>
</span><span id="line-5294"></span><span class="annot"><a href="GHC.Driver.Session.html#initSDocContext"><span class="hs-identifier hs-type">initSDocContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PprStyle"><span class="hs-identifier hs-type">PprStyle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDocContext"><span class="hs-identifier hs-type">SDocContext</span></a></span><span>
</span><span id="line-5295"></span><span id="initSDocContext"><span class="annot"><span class="annottext">initSDocContext :: DynFlags -&gt; PprStyle -&gt; SDocContext
</span><a href="GHC.Driver.Session.html#initSDocContext"><span class="hs-identifier hs-var hs-var">initSDocContext</span></a></span></span><span> </span><span id="local-6989586621680784254"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621680784253"><span class="annot"><span class="annottext">PprStyle
</span><a href="#local-6989586621680784253"><span class="hs-identifier hs-var">style</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDC :: PprStyle
-&gt; Scheme
-&gt; PprColour
-&gt; Bool
-&gt; Int
-&gt; Int
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; Bool
-&gt; DynFlags
-&gt; SDocContext
</span><a href="GHC.Utils.Outputable.html#SDC"><span class="hs-identifier hs-type">SDC</span></a></span><span>
</span><span id="line-5296"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sdocStyle :: PprStyle
</span><a href="GHC.Utils.Outputable.html#sdocStyle"><span class="hs-identifier hs-var">sdocStyle</span></a></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="#local-6989586621680784253"><span class="hs-identifier hs-var">style</span></a></span><span>
</span><span id="line-5297"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocColScheme :: Scheme
</span><a href="GHC.Utils.Outputable.html#sdocColScheme"><span class="hs-identifier hs-var">sdocColScheme</span></a></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Scheme
</span><a href="GHC.Driver.Session.html#colScheme"><span class="hs-identifier hs-var hs-var">colScheme</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5298"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocLastColour :: PprColour
</span><a href="GHC.Utils.Outputable.html#sdocLastColour"><span class="hs-identifier hs-var">sdocLastColour</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#colReset"><span class="hs-identifier hs-var">Col.colReset</span></a></span><span>
</span><span id="line-5299"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocShouldUseColor :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocShouldUseColor"><span class="hs-identifier hs-var">sdocShouldUseColor</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; OverridingBool -&gt; Bool
</span><a href="GHC.Utils.Misc.html#overrideWith"><span class="hs-identifier hs-var">overrideWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#canUseColor"><span class="hs-identifier hs-var hs-var">canUseColor</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; OverridingBool
</span><a href="GHC.Driver.Session.html#useColor"><span class="hs-identifier hs-var hs-var">useColor</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-5300"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocDefaultDepth :: Int
</span><a href="GHC.Utils.Outputable.html#sdocDefaultDepth"><span class="hs-identifier hs-var">sdocDefaultDepth</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#pprUserLength"><span class="hs-identifier hs-var hs-var">pprUserLength</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5301"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocLineLength :: Int
</span><a href="GHC.Utils.Outputable.html#sdocLineLength"><span class="hs-identifier hs-var">sdocLineLength</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.Session.html#pprCols"><span class="hs-identifier hs-var hs-var">pprCols</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5302"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocCanUseUnicode :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocCanUseUnicode"><span class="hs-identifier hs-var">sdocCanUseUnicode</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#useUnicode"><span class="hs-identifier hs-var hs-var">useUnicode</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5303"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocHexWordLiterals :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocHexWordLiterals"><span class="hs-identifier hs-var">sdocHexWordLiterals</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_HexWordLiterals"><span class="hs-identifier hs-var">Opt_HexWordLiterals</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5304"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPprDebug :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPprDebug"><span class="hs-identifier hs-var">sdocPprDebug</span></a></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DumpFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#dopt"><span class="hs-identifier hs-var">dopt</span></a></span><span> </span><span class="annot"><span class="annottext">DumpFlag
</span><a href="GHC.Driver.Flags.html#Opt_D_ppr_debug"><span class="hs-identifier hs-var">Opt_D_ppr_debug</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5305"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintUnicodeSyntax :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintUnicodeSyntax"><span class="hs-identifier hs-var">sdocPrintUnicodeSyntax</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintUnicodeSyntax"><span class="hs-identifier hs-var">Opt_PrintUnicodeSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5306"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintCaseAsLet :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintCaseAsLet"><span class="hs-identifier hs-var">sdocPrintCaseAsLet</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PprCaseAsLet"><span class="hs-identifier hs-var">Opt_PprCaseAsLet</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5307"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintTypecheckerElaboration :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintTypecheckerElaboration"><span class="hs-identifier hs-var">sdocPrintTypecheckerElaboration</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintTypecheckerElaboration"><span class="hs-identifier hs-var">Opt_PrintTypecheckerElaboration</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5308"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintAxiomIncomps :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintAxiomIncomps"><span class="hs-identifier hs-var">sdocPrintAxiomIncomps</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintAxiomIncomps"><span class="hs-identifier hs-var">Opt_PrintAxiomIncomps</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5309"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintExplicitKinds :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintExplicitKinds"><span class="hs-identifier hs-var">sdocPrintExplicitKinds</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintExplicitKinds"><span class="hs-identifier hs-var">Opt_PrintExplicitKinds</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5310"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintExplicitCoercions :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintExplicitCoercions"><span class="hs-identifier hs-var">sdocPrintExplicitCoercions</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintExplicitCoercions"><span class="hs-identifier hs-var">Opt_PrintExplicitCoercions</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5311"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintExplicitRuntimeReps :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintExplicitRuntimeReps"><span class="hs-identifier hs-var">sdocPrintExplicitRuntimeReps</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintExplicitRuntimeReps"><span class="hs-identifier hs-var">Opt_PrintExplicitRuntimeReps</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5312"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintExplicitForalls :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintExplicitForalls"><span class="hs-identifier hs-var">sdocPrintExplicitForalls</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintExplicitForalls"><span class="hs-identifier hs-var">Opt_PrintExplicitForalls</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5313"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintPotentialInstances :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintPotentialInstances"><span class="hs-identifier hs-var">sdocPrintPotentialInstances</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintPotentialInstances"><span class="hs-identifier hs-var">Opt_PrintPotentialInstances</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5314"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintEqualityRelations :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintEqualityRelations"><span class="hs-identifier hs-var">sdocPrintEqualityRelations</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PrintEqualityRelations"><span class="hs-identifier hs-var">Opt_PrintEqualityRelations</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5315"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressTicks :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressTicks"><span class="hs-identifier hs-var">sdocSuppressTicks</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressTicks"><span class="hs-identifier hs-var">Opt_SuppressTicks</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5316"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressTypeSignatures :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressTypeSignatures"><span class="hs-identifier hs-var">sdocSuppressTypeSignatures</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressTypeSignatures"><span class="hs-identifier hs-var">Opt_SuppressTypeSignatures</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5317"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressTypeApplications :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressTypeApplications"><span class="hs-identifier hs-var">sdocSuppressTypeApplications</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressTypeApplications"><span class="hs-identifier hs-var">Opt_SuppressTypeApplications</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5318"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressIdInfo :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressIdInfo"><span class="hs-identifier hs-var">sdocSuppressIdInfo</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressIdInfo"><span class="hs-identifier hs-var">Opt_SuppressIdInfo</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5319"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressCoercions :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressCoercions"><span class="hs-identifier hs-var">sdocSuppressCoercions</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressCoercions"><span class="hs-identifier hs-var">Opt_SuppressCoercions</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5320"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressUnfoldings :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressUnfoldings"><span class="hs-identifier hs-var">sdocSuppressUnfoldings</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressUnfoldings"><span class="hs-identifier hs-var">Opt_SuppressUnfoldings</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5321"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressVarKinds :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressVarKinds"><span class="hs-identifier hs-var">sdocSuppressVarKinds</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressVarKinds"><span class="hs-identifier hs-var">Opt_SuppressVarKinds</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5322"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressUniques :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressUniques"><span class="hs-identifier hs-var">sdocSuppressUniques</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressUniques"><span class="hs-identifier hs-var">Opt_SuppressUniques</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5323"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressModulePrefixes :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressModulePrefixes"><span class="hs-identifier hs-var">sdocSuppressModulePrefixes</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressModulePrefixes"><span class="hs-identifier hs-var">Opt_SuppressModulePrefixes</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5324"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocSuppressStgExts :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocSuppressStgExts"><span class="hs-identifier hs-var">sdocSuppressStgExts</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_SuppressStgExts"><span class="hs-identifier hs-var">Opt_SuppressStgExts</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5325"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocErrorSpans :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocErrorSpans"><span class="hs-identifier hs-var">sdocErrorSpans</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_ErrorSpans"><span class="hs-identifier hs-var">Opt_ErrorSpans</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5326"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocStarIsType :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocStarIsType"><span class="hs-identifier hs-var">sdocStarIsType</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Extension -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#xopt"><span class="hs-identifier hs-var">xopt</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="../../ghc-boot-th/src/GHC.LanguageExtensions.Type.html#StarIsType"><span class="hs-identifier hs-var">LangExt.StarIsType</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5327"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocImpredicativeTypes :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocImpredicativeTypes"><span class="hs-identifier hs-var">sdocImpredicativeTypes</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Extension -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#xopt"><span class="hs-identifier hs-var">xopt</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="../../ghc-boot-th/src/GHC.LanguageExtensions.Type.html#ImpredicativeTypes"><span class="hs-identifier hs-var">LangExt.ImpredicativeTypes</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5328"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocLinearTypes :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocLinearTypes"><span class="hs-identifier hs-var">sdocLinearTypes</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Extension -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#xopt"><span class="hs-identifier hs-var">xopt</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="../../ghc-boot-th/src/GHC.LanguageExtensions.Type.html#LinearTypes"><span class="hs-identifier hs-var">LangExt.LinearTypes</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5329"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocPrintTypeAbbreviations :: Bool
</span><a href="GHC.Utils.Outputable.html#sdocPrintTypeAbbreviations"><span class="hs-identifier hs-var">sdocPrintTypeAbbreviations</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-5330"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sdocDynFlags :: DynFlags
</span><a href="GHC.Utils.Outputable.html#sdocDynFlags"><span class="hs-identifier hs-var">sdocDynFlags</span></a></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784254"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-5331"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-5332"></span><span>
</span><span id="line-5333"></span><span class="hs-comment">-- | Initialize the pretty-printing options using the default user style</span><span>
</span><span id="line-5334"></span><span class="annot"><a href="GHC.Driver.Session.html#initDefaultSDocContext"><span class="hs-identifier hs-type">initDefaultSDocContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDocContext"><span class="hs-identifier hs-type">SDocContext</span></a></span><span>
</span><span id="line-5335"></span><span id="initDefaultSDocContext"><span class="annot"><span class="annottext">initDefaultSDocContext :: DynFlags -&gt; SDocContext
</span><a href="GHC.Driver.Session.html#initDefaultSDocContext"><span class="hs-identifier hs-var hs-var">initDefaultSDocContext</span></a></span></span><span> </span><span id="local-6989586621680784214"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784214"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; PprStyle -&gt; SDocContext
</span><a href="GHC.Driver.Session.html#initSDocContext"><span class="hs-identifier hs-var">initSDocContext</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621680784214"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="GHC.Utils.Outputable.html#defaultUserStyle"><span class="hs-identifier hs-var">defaultUserStyle</span></a></span><span>
</span><span id="line-5336"></span></pre></body></html>