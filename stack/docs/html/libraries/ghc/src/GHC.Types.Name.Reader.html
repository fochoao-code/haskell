<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621680834828"><span id="local-6989586621680834829"><span id="local-6989586621680834830"><span id="local-6989586621680834831"><span id="local-6989586621680834832"><span id="local-6989586621680834833"><span id="local-6989586621680834834"><span id="local-6989586621680834835"><span id="local-6989586621680834836"><span id="local-6989586621680834837"><span id="local-6989586621680834838"><span id="local-6989586621680834839"><span id="local-6989586621680834840"><span id="local-6989586621680834841"><span id="local-6989586621680834842"><span id="local-6989586621680834843"><span id="local-6989586621680834844"><span id="local-6989586621680834845"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998
-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE CPP, DeriveDataTypeable #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- #name_types#</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- GHC uses several kinds of name internally:</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- * 'GHC.Types.Name.Occurrence.OccName': see &quot;GHC.Types.Name.Occurrence#name_types&quot;</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- * 'GHC.Types.Name.Reader.RdrName' is the type of names that come directly from the parser. They</span><span>
</span><span id="line-15"></span><span class="hs-comment">--   have not yet had their scoping and binding resolved by the renamer and can be</span><span>
</span><span id="line-16"></span><span class="hs-comment">--   thought of to a first approximation as an 'GHC.Types.Name.Occurrence.OccName' with an optional module</span><span>
</span><span id="line-17"></span><span class="hs-comment">--   qualifier</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- * 'GHC.Types.Name.Name': see &quot;GHC.Types.Name#name_types&quot;</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- * 'GHC.Types.Id.Id': see &quot;GHC.Types.Id#name_types&quot;</span><span>
</span><span id="line-22"></span><span class="hs-comment">--</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- * 'GHC.Types.Var.Var': see &quot;GHC.Types.Var#name_types&quot;</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Types.Name.Reader</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The main type</span></span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier">RdrName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- Constructors exported only to GHC.Iface.Binary</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Construction</span></span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier">mkRdrUnqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkRdrQual"><span class="hs-identifier">mkRdrQual</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier">mkUnqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier">mkVarUnqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkQual"><span class="hs-identifier">mkQual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkOrig"><span class="hs-identifier">mkOrig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier">nameRdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier">getRdrName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Destruction</span></span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier">rdrNameOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier">rdrNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier">demoteRdrName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier">isRdrDataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier">isRdrTyVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier">isRdrTc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier">isQual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual_maybe"><span class="hs-identifier">isQual_maybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier">isUnqual</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig"><span class="hs-identifier">isOrig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig_maybe"><span class="hs-identifier">isOrig_maybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact"><span class="hs-identifier">isExact</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier">isExact_maybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isSrcRdrName"><span class="hs-identifier">isSrcRdrName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Local mapping of 'RdrName' to 'Name.Name'</span></span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier">LocalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#emptyLocalRdrEnv"><span class="hs-identifier">emptyLocalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnv"><span class="hs-identifier">extendLocalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnvList"><span class="hs-identifier">extendLocalRdrEnvList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupLocalRdrEnv"><span class="hs-identifier">lookupLocalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupLocalRdrOcc"><span class="hs-identifier">lookupLocalRdrOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#elemLocalRdrEnv"><span class="hs-identifier">elemLocalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#inLocalRdrEnvScope"><span class="hs-identifier">inLocalRdrEnvScope</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#localRdrEnvElts"><span class="hs-identifier">localRdrEnvElts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#delLocalRdrEnvList"><span class="hs-identifier">delLocalRdrEnvList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Global mapping of 'RdrName' to 'GlobalRdrElt's</span></span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier">GlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#emptyGlobalRdrEnv"><span class="hs-identifier">emptyGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkGlobalRdrEnv"><span class="hs-identifier">mkGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusGlobalRdrEnv"><span class="hs-identifier">plusGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGlobalRdrEnv"><span class="hs-identifier">lookupGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendGlobalRdrEnv"><span class="hs-identifier">extendGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier">greOccName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#shadowNames"><span class="hs-identifier">shadowNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprGlobalRdrEnv"><span class="hs-identifier">pprGlobalRdrEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#globalRdrEnvElts"><span class="hs-identifier">globalRdrEnvElts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_RdrName"><span class="hs-identifier">lookupGRE_RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_Name"><span class="hs-identifier">lookupGRE_Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_FieldLabel"><span class="hs-identifier">lookupGRE_FieldLabel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_Name_OccName"><span class="hs-identifier">lookupGRE_Name_OccName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#getGRE_NameQualifier_maybes"><span class="hs-identifier">getGRE_NameQualifier_maybes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#transformGREs"><span class="hs-identifier">transformGREs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier">pickGREs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREsModExp"><span class="hs-identifier">pickGREsModExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><span class="hs-comment">-- * GlobalRdrElts</span></span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresFromAvails"><span class="hs-identifier">gresFromAvails</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresFromAvail"><span class="hs-identifier">gresFromAvail</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#localGREsFromAvail"><span class="hs-identifier">localGREsFromAvail</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#availFromGRE"><span class="hs-identifier">availFromGRE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greRdrNames"><span class="hs-identifier">greRdrNames</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greSrcSpan"><span class="hs-identifier">greSrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greQualModName"><span class="hs-identifier">greQualModName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresToAvailInfo"><span class="hs-identifier">gresToAvailInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Global 'RdrName' mapping elements: 'GlobalRdrElt', 'Provenance', 'ImportSpec'</span></span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier">GlobalRdrElt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isLocalGRE"><span class="hs-identifier">isLocalGRE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRecFldGRE"><span class="hs-identifier">isRecFldGRE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOverloadedRecFldGRE"><span class="hs-identifier">isOverloadedRecFldGRE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greLabel"><span class="hs-identifier">greLabel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#unQualOK"><span class="hs-identifier">unQualOK</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#qualSpecOK"><span class="hs-identifier">qualSpecOK</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#unQualSpecOK"><span class="hs-identifier">unQualSpecOK</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprNameProvenance"><span class="hs-identifier">pprNameProvenance</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier">Parent</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#greParent_maybe"><span class="hs-identifier">greParent_maybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier">ImportSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpDeclSpec"><span class="hs-identifier">ImpDeclSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier">ImpItemSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#importSpecLoc"><span class="hs-identifier">importSpecLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#importSpecModule"><span class="hs-identifier">importSpecModule</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExplicitItem"><span class="hs-identifier">isExplicitItem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#bestImport"><span class="hs-identifier">bestImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Utils for StarIsType</span></span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#starInfo"><span class="hs-identifier">starInfo</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#include &quot;HsVersions.h&quot;
</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html"><span class="hs-identifier">GHC.Types.Avail</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SrcLoc</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html"><span class="hs-identifier">GHC.Types.FieldLabel</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Utils</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Data.html#"><span class="hs-identifier">Data.Data</span></a></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.List.html#"><span class="hs-identifier">Data.List</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base/src/Data.OldList.html#sortBy"><span class="hs-identifier">sortBy</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{The main data type}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | Reader Name</span><span>
</span><span id="line-102"></span><span class="hs-comment">--</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- Do not use the data constructors of RdrName directly: prefer the family</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- of functions that creates them, such as 'mkRdrUnqual'</span><span>
</span><span id="line-105"></span><span class="hs-comment">--</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- - Note: A Located RdrName will only have API Annotations if it is a</span><span>
</span><span id="line-107"></span><span class="hs-comment">--         compound one,</span><span>
</span><span id="line-108"></span><span class="hs-comment">--   e.g.</span><span>
</span><span id="line-109"></span><span class="hs-comment">--</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- &gt; `bar`</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- &gt; ( ~ )</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- - 'GHC.Parser.Annotation.AnnKeywordId' : 'GHC.Parser.Annotation.AnnType',</span><span>
</span><span id="line-114"></span><span class="hs-comment">--           'GHC.Parser.Annotation.AnnOpen'  @'('@ or @'['@ or @'[:'@,</span><span>
</span><span id="line-115"></span><span class="hs-comment">--           'GHC.Parser.Annotation.AnnClose' @')'@ or @']'@ or @':]'@,,</span><span>
</span><span id="line-116"></span><span class="hs-comment">--           'GHC.Parser.Annotation.AnnBackquote' @'`'@,</span><span>
</span><span id="line-117"></span><span class="hs-comment">--           'GHC.Parser.Annotation.AnnVal'</span><span>
</span><span id="line-118"></span><span class="hs-comment">--           'GHC.Parser.Annotation.AnnTilde',</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- For details on above see note [Api annotations] in &quot;GHC.Parser.Annotation&quot;</span><span>
</span><span id="line-121"></span><span class="hs-keyword">data</span><span> </span><span id="RdrName"><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-var">RdrName</span></a></span></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Unqual"><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="hs-comment">-- ^ Unqualified  name</span><span>
</span><span id="line-124"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-125"></span><span>        </span><span class="hs-comment">-- Used for ordinary, unqualified occurrences, e.g. @x@, @y@ or @Foo@.</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-comment">-- Create such a 'RdrName' with 'mkRdrUnqual'</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Qual"><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span></span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-129"></span><span>        </span><span class="hs-comment">-- ^ Qualified name</span><span>
</span><span id="line-130"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-131"></span><span>        </span><span class="hs-comment">-- A qualified name written by the user in</span><span>
</span><span id="line-132"></span><span>        </span><span class="hs-comment">-- /source/ code.  The module isn't necessarily</span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-comment">-- the module where the thing is defined;</span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-comment">-- just the one from which it is imported.</span><span>
</span><span id="line-135"></span><span>        </span><span class="hs-comment">-- Examples are @Bar.x@, @Bar.y@ or @Bar.Foo@.</span><span>
</span><span id="line-136"></span><span>        </span><span class="hs-comment">-- Create such a 'RdrName' with 'mkRdrQual'</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Orig"><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span></span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-139"></span><span>        </span><span class="hs-comment">-- ^ Original name</span><span>
</span><span id="line-140"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-comment">-- An original name; the module is the /defining/ module.</span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-comment">-- This is used when GHC generates code that will be fed</span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-comment">-- into the renamer (e.g. from deriving clauses), but where</span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-comment">-- we want to say \&quot;Use Prelude.map dammit\&quot;. One of these</span><span>
</span><span id="line-145"></span><span>        </span><span class="hs-comment">-- can be created with 'mkOrig'</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Exact"><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-comment">-- ^ Exact name</span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-comment">-- We know exactly the 'Name'. This is used:</span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span>        </span><span class="hs-comment">--  (1) When the parser parses built-in syntax like @[]@</span><span>
</span><span id="line-153"></span><span>        </span><span class="hs-comment">--      and @(,)@, but wants a 'RdrName' from it</span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span>        </span><span class="hs-comment">--  (2) By Template Haskell, when TH has generated a unique name</span><span>
</span><span id="line-156"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span>        </span><span class="hs-comment">-- Such a 'RdrName' can be created by using 'getRdrName' on a 'Name'</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680834643"><span id="local-6989586621680834645"><span id="local-6989586621680834647"><span id="local-6989586621680834649"><span id="local-6989586621680834651"><span id="local-6989586621680834653"><span id="local-6989586621680834655"><span id="local-6989586621680834657"><span id="local-6989586621680834659"><span id="local-6989586621680834661"><span id="local-6989586621680834663"><span id="local-6989586621680834665"><span id="local-6989586621680834674"><span id="local-6989586621680834687"><span class="annot"><span class="annottext">Typeable RdrName
Typeable RdrName
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; RdrName -&gt; c RdrName)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c RdrName)
-&gt; (RdrName -&gt; Constr)
-&gt; (RdrName -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c RdrName))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c RdrName))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; RdrName -&gt; RdrName)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName)
-&gt; Data RdrName
RdrName -&gt; DataType
RdrName -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; RdrName -&gt; RdrName
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c RdrName
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; RdrName -&gt; c RdrName
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c RdrName)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c RdrName)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; RdrName -&gt; m RdrName
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; RdrName -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; RdrName -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; RdrName -&gt; RdrName
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; RdrName -&gt; RdrName
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c RdrName)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c RdrName)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c RdrName)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c RdrName)
dataTypeOf :: RdrName -&gt; DataType
$cdataTypeOf :: RdrName -&gt; DataType
toConstr :: RdrName -&gt; Constr
$ctoConstr :: RdrName -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c RdrName
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c RdrName
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; RdrName -&gt; c RdrName
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; RdrName -&gt; c RdrName
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Simple functions}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier hs-type">HasOccName</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621680834637"><span class="annot"><span class="annottext">occName :: RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var hs-var hs-var hs-var">occName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-type">rdrNameOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-172"></span><span id="rdrNameOcc"><span class="annot"><span class="annottext">rdrNameOcc :: RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var hs-var">rdrNameOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680834635"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834635"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834635"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-173"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834634"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834634"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834634"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-174"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680834633"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834633"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834633"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-175"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834632"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834632"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834632"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-type">rdrNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-178"></span><span id="rdrNameSpace"><span class="annot"><span class="annottext">rdrNameSpace :: RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var hs-var">rdrNameSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#occNameSpace"><span class="hs-identifier hs-var hs-var">occNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; NameSpace)
-&gt; (RdrName -&gt; OccName) -&gt; RdrName -&gt; NameSpace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- demoteRdrName lowers the NameSpace of RdrName.</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- see Note [Demotion] in GHC.Types.Name.Occurrence</span><span>
</span><span id="line-182"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier hs-type">demoteRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-183"></span><span id="demoteRdrName"><span class="annot"><span class="annottext">demoteRdrName :: RdrName -&gt; Maybe RdrName
</span><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier hs-var hs-var">demoteRdrName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834628"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834628"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName) -&gt; Maybe OccName -&gt; Maybe RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Maybe OccName
</span><a href="GHC.Types.Name.Occurrence.html#demoteOccName"><span class="hs-identifier hs-var">demoteOccName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834628"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier hs-var">demoteRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834626"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834626"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680834625"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834625"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; RdrName) -&gt; Maybe OccName -&gt; Maybe RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834626"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Maybe OccName
</span><a href="GHC.Types.Name.Occurrence.html#demoteOccName"><span class="hs-identifier hs-var">demoteOccName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834625"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier hs-var">demoteRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe RdrName
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-186"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#demoteRdrName"><span class="hs-identifier hs-var">demoteRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe RdrName
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-comment">-- These two are the basic constructors</span><span>
</span><span id="line-189"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-type">mkRdrUnqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-190"></span><span id="mkRdrUnqual"><span class="annot"><span class="annottext">mkRdrUnqual :: OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrUnqual"><span class="hs-identifier hs-var hs-var">mkRdrUnqual</span></a></span></span><span> </span><span id="local-6989586621680834624"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834624"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834624"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkRdrQual"><span class="hs-identifier hs-type">mkRdrQual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-193"></span><span id="mkRdrQual"><span class="annot"><span class="annottext">mkRdrQual :: ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkRdrQual"><span class="hs-identifier hs-var hs-var">mkRdrQual</span></a></span></span><span> </span><span id="local-6989586621680834623"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834623"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834622"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834622"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834623"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834622"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkOrig"><span class="hs-identifier hs-type">mkOrig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-196"></span><span id="mkOrig"><span class="annot"><span class="annottext">mkOrig :: Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkOrig"><span class="hs-identifier hs-var hs-var">mkOrig</span></a></span></span><span> </span><span id="local-6989586621680834621"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834621"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834620"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834620"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834621"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834620"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-comment">---------------</span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-comment">-- These two are used when parsing source files</span><span>
</span><span id="line-200"></span><span>        </span><span class="hs-comment">-- They do encode the module and occurrence names</span><span>
</span><span id="line-201"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-type">mkUnqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-202"></span><span id="mkUnqual"><span class="annot"><span class="annottext">mkUnqual :: NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var hs-var">mkUnqual</span></a></span></span><span> </span><span id="local-6989586621680834619"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680834619"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span id="local-6989586621680834618"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834618"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680834619"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834618"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-type">mkVarUnqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-205"></span><span id="mkVarUnqual"><span class="annot"><span class="annottext">mkVarUnqual :: FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkVarUnqual"><span class="hs-identifier hs-var hs-var">mkVarUnqual</span></a></span></span><span> </span><span id="local-6989586621680834616"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834616"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834616"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | Make a qualified 'RdrName' in the given namespace and where the 'ModuleName' and</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- the 'OccName' are taken from the first and second elements of the tuple respectively</span><span>
</span><span id="line-209"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkQual"><span class="hs-identifier hs-type">mkQual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-210"></span><span id="mkQual"><span class="annot"><span class="annottext">mkQual :: NameSpace -&gt; (FastString, FastString) -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkQual"><span class="hs-identifier hs-var hs-var">mkQual</span></a></span></span><span> </span><span id="local-6989586621680834614"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680834614"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834613"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834613"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680834612"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834612"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; ModuleName
</span><a href="GHC.Unit.Module.Name.html#mkModuleNameFS"><span class="hs-identifier hs-var">mkModuleNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834613"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680834614"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834612"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span id="local-6989586621680835085"><span class="annot"><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-type">getRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#NamedThing"><span class="hs-identifier hs-type">NamedThing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680835085"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680835085"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span></span><span>
</span><span id="line-213"></span><span id="getRdrName"><span class="annot"><span class="annottext">getRdrName :: forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var hs-var">getRdrName</span></a></span></span><span> </span><span id="local-6989586621680834608"><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621680834608"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">thing -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">thing
</span><a href="#local-6989586621680834608"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-type">nameRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-216"></span><span id="nameRdrName"><span class="annot"><span class="annottext">nameRdrName :: Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var hs-var">nameRdrName</span></a></span></span><span> </span><span id="local-6989586621680834606"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834606"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834606"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- Keep the Name even for Internal names, so that the</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- unique is still there for debug printing, particularly</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- of Types (which are converted to IfaceTypes before printing)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#nukeExact"><span class="hs-identifier hs-type">nukeExact</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-222"></span><span id="nukeExact"><span class="annot"><span class="annottext">nukeExact :: Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nukeExact"><span class="hs-identifier hs-var hs-var">nukeExact</span></a></span></span><span> </span><span id="local-6989586621680834604"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834604"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834604"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Name -&gt; Module
Name -&gt; Module
</span><a href="GHC.Types.Name.html#nameModule"><span class="hs-identifier hs-var">nameModule</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834604"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834604"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834604"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-type">isRdrDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-227"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-type">isRdrTyVar</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-228"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-type">isRdrTc</span></a></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span id="isRdrDataCon"><span class="annot"><span class="annottext">isRdrDataCon :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var hs-var">isRdrDataCon</span></a></span></span><span> </span><span id="local-6989586621680834601"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834601"><span class="hs-identifier hs-var">rn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834601"><span class="hs-identifier hs-var">rn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span id="isRdrTyVar"><span class="annot"><span class="annottext">isRdrTyVar :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var hs-var">isRdrTyVar</span></a></span></span><span>   </span><span id="local-6989586621680834599"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834599"><span class="hs-identifier hs-var">rn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier hs-var">isTvOcc</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834599"><span class="hs-identifier hs-var">rn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span id="isRdrTc"><span class="annot"><span class="annottext">isRdrTc :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var hs-var">isRdrTc</span></a></span></span><span>      </span><span id="local-6989586621680834597"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834597"><span class="hs-identifier hs-var">rn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834597"><span class="hs-identifier hs-var">rn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isSrcRdrName"><span class="hs-identifier hs-type">isSrcRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-235"></span><span id="isSrcRdrName"><span class="annot"><span class="annottext">isSrcRdrName :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isSrcRdrName"><span class="hs-identifier hs-var hs-var">isSrcRdrName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-236"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isSrcRdrName"><span class="hs-identifier hs-var">isSrcRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-237"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isSrcRdrName"><span class="hs-identifier hs-var">isSrcRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-type">isUnqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-240"></span><span id="isUnqual"><span class="annot"><span class="annottext">isUnqual :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var hs-var">isUnqual</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-241"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier hs-type">isQual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-244"></span><span id="isQual"><span class="annot"><span class="annottext">isQual :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier hs-var hs-var">isQual</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-245"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual"><span class="hs-identifier hs-var">isQual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual_maybe"><span class="hs-identifier hs-type">isQual_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span id="isQual_maybe"><span class="annot"><span class="annottext">isQual_maybe :: RdrName -&gt; Maybe (ModuleName, OccName)
</span><a href="GHC.Types.Name.Reader.html#isQual_maybe"><span class="hs-identifier hs-var hs-var">isQual_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834595"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834595"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680834594"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834594"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ModuleName, OccName) -&gt; Maybe (ModuleName, OccName)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834595"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834594"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isQual_maybe"><span class="hs-identifier hs-var">isQual_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (ModuleName, OccName)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig"><span class="hs-identifier hs-type">isOrig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-252"></span><span id="isOrig"><span class="annot"><span class="annottext">isOrig :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isOrig"><span class="hs-identifier hs-var hs-var">isOrig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-253"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig"><span class="hs-identifier hs-var">isOrig</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig_maybe"><span class="hs-identifier hs-type">isOrig_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span id="isOrig_maybe"><span class="annot"><span class="annottext">isOrig_maybe :: RdrName -&gt; Maybe (Module, OccName)
</span><a href="GHC.Types.Name.Reader.html#isOrig_maybe"><span class="hs-identifier hs-var hs-var">isOrig_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834593"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834593"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680834592"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834592"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Module, OccName) -&gt; Maybe (Module, OccName)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834593"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834592"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOrig_maybe"><span class="hs-identifier hs-var">isOrig_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Module, OccName)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact"><span class="hs-identifier hs-type">isExact</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-260"></span><span id="isExact"><span class="annot"><span class="annottext">isExact :: RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isExact"><span class="hs-identifier hs-var hs-var">isExact</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-261"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact"><span class="hs-identifier hs-var">isExact</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier hs-type">isExact_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-264"></span><span id="isExact_maybe"><span class="annot"><span class="annottext">isExact_maybe :: RdrName -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier hs-var hs-var">isExact_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834591"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834591"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834591"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-265"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier hs-var">isExact_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Instances}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834588"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621680834580"><span class="annot"><span class="annottext">ppr :: RdrName -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834578"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834578"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834578"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834577"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834577"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834577"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834576"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834576"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834575"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834575"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834576"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834575"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834572"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834572"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834571"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834571"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PprStyle -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#getPprStyle"><span class="hs-identifier hs-var">getPprStyle</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680834569"><span class="annot"><span class="annottext">PprStyle
</span><a href="#local-6989586621680834569"><span class="hs-identifier hs-var">sty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PprStyle -&gt; Module -&gt; OccName -&gt; SDoc
</span><a href="GHC.Types.Name.html#pprModulePrefix"><span class="hs-identifier hs-var">pprModulePrefix</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="#local-6989586621680834569"><span class="hs-identifier hs-var">sty</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834572"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834571"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834571"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834561"><span class="annot"><a href="GHC.Utils.Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621680834557"><span class="annot"><span class="annottext">pprBndr :: BindingSite -&gt; RdrName -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprBndr"><span class="hs-identifier hs-var hs-var hs-var hs-var">pprBndr</span></a></span></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680834555"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834555"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier hs-var">isTvOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834555"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'@'</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834555"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834555"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621680834552"><span class="annot"><span class="annottext">pprInfixOcc :: RdrName -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var hs-var hs-var hs-var">pprInfixOcc</span></a></span></span><span>  </span><span id="local-6989586621680834550"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834550"><span class="hs-identifier hs-var">rdr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprInfixVar"><span class="hs-identifier hs-var">pprInfixVar</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834550"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834550"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>    </span><span id="local-6989586621680834544"><span class="annot"><span class="annottext">pprPrefixOcc :: RdrName -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var hs-var hs-var hs-var">pprPrefixOcc</span></a></span></span><span> </span><span id="local-6989586621680834542"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834542"><span class="hs-identifier hs-var">rdr</span></a></span></span><span>
</span><span id="line-288"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834541"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834541"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#isExact_maybe"><span class="hs-identifier hs-var">isExact_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834542"><span class="hs-identifier hs-var">rdr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. NamedThing a =&gt; a -&gt; SDoc
</span><a href="GHC.Types.Name.html#pprPrefixName"><span class="hs-identifier hs-var">pprPrefixName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834541"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-289"></span><span>             </span><span class="hs-comment">-- pprPrefixName has some special cases, so</span><span>
</span><span id="line-290"></span><span>             </span><span class="hs-comment">-- we delegate to them rather than reproduce them</span><span>
</span><span id="line-291"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixVar"><span class="hs-identifier hs-var">pprPrefixVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834542"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834542"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834536"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834525"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834525"><span class="hs-identifier hs-var">n1</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621680834524"><span class="annot"><span class="annottext">== :: RdrName -&gt; RdrName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834523"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834523"><span class="hs-identifier hs-var">n2</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834525"><span class="hs-identifier hs-var">n1</span></a></span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834523"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-comment">-- Convert exact to orig</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834522"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834522"><span class="hs-identifier hs-var">n1</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span id="local-6989586621680834521"><span class="annot"><span class="annottext">r2 :: RdrName
</span><a href="#local-6989586621680834521"><span class="hs-identifier hs-var">r2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nukeExact"><span class="hs-identifier hs-var">nukeExact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834522"><span class="hs-identifier hs-var">n1</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834521"><span class="hs-identifier hs-var">r2</span></a></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621680834520"><span class="annot"><span class="annottext">r1 :: RdrName
</span><a href="#local-6989586621680834520"><span class="hs-identifier hs-var">r1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834519"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834519"><span class="hs-identifier hs-var">n2</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834520"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nukeExact"><span class="hs-identifier hs-var">nukeExact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834519"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834518"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834518"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621680834517"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834517"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834516"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834516"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span id="local-6989586621680834515"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834515"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834518"><span class="hs-identifier hs-var">m1</span></a></span><span class="annot"><span class="annottext">Module -&gt; Module -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834516"><span class="hs-identifier hs-var">m2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834517"><span class="hs-identifier hs-var">o1</span></a></span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834515"><span class="hs-identifier hs-var">o2</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834513"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834513"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621680834512"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834512"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834511"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834511"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span id="local-6989586621680834510"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834510"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834513"><span class="hs-identifier hs-var">m1</span></a></span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834511"><span class="hs-identifier hs-var">m2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834512"><span class="hs-identifier hs-var">o1</span></a></span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834510"><span class="hs-identifier hs-var">o2</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834509"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834509"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834508"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834508"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834509"><span class="hs-identifier hs-var">o1</span></a></span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834508"><span class="hs-identifier hs-var">o2</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>             </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834497"><span id="local-6989586621680834499"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>    </span><span id="local-6989586621680834494"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834494"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680834493"><span class="annot"><span class="annottext">&lt;= :: RdrName -&gt; RdrName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></span></span><span> </span><span id="local-6989586621680834491"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834491"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834494"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834491"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span>  </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span>  </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-306"></span><span>    </span><span id="local-6989586621680834488"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834488"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680834487"><span class="annot"><span class="annottext">&lt; :: RdrName -&gt; RdrName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;</span></span></span><span>  </span><span id="local-6989586621680834485"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834485"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834488"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834485"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span>  </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621680834483"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834483"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680834482"><span class="annot"><span class="annottext">&gt;= :: RdrName -&gt; RdrName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;=</span></span></span><span> </span><span id="local-6989586621680834481"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834481"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834483"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834481"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span>  </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-308"></span><span>    </span><span id="local-6989586621680834479"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834479"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680834478"><span class="annot"><span class="annottext">&gt; :: RdrName -&gt; RdrName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;</span></span></span><span>  </span><span id="local-6989586621680834476"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834476"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834479"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834476"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-comment">-- Exact &lt; Unqual &lt; Qual &lt; Orig</span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-comment">-- [Note: Apr 2004] We used to use nukeExact to convert Exact to Orig</span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-comment">--      before comparing so that Prelude.map == the exact Prelude.map, but</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-comment">--      that meant that we reported duplicates when renaming bindings</span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-comment">--      generated by Template Haskell; e.g</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">--      do { n1 &lt;- newName &quot;foo&quot;; n2 &lt;- newName &quot;foo&quot;;</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">--           &lt;decl involving n1,n2&gt; }</span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-comment">--      I think we can do without this conversion</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621680834463"><span class="annot"><span class="annottext">compare :: RdrName -&gt; RdrName -&gt; Ordering
</span><a href="#local-6989586621680834463"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834462"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834462"><span class="hs-identifier hs-var">n1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834461"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834461"><span class="hs-identifier hs-var">n2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834462"><span class="hs-identifier hs-var">n1</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834461"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834460"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834460"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span>  </span><span id="local-6989586621680834459"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834459"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834460"><span class="hs-identifier hs-var">o1</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834459"><span class="hs-identifier hs-var">o2</span></a></span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-327"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834458"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834458"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621680834457"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834457"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834456"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834456"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span id="local-6989586621680834455"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834455"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834457"><span class="hs-identifier hs-var">o1</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834455"><span class="hs-identifier hs-var">o2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
</span><a href="GHC.Utils.Misc.html#thenCmp"><span class="hs-operator hs-var">`thenCmp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834458"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834456"><span class="hs-identifier hs-var">m2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834453"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834453"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621680834452"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834452"><span class="hs-identifier hs-var">o1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680834451"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834451"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span id="local-6989586621680834450"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834450"><span class="hs-identifier hs-var">o2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834452"><span class="hs-identifier hs-var">o1</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834450"><span class="hs-identifier hs-var">o2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
</span><a href="GHC.Utils.Misc.html#thenCmp"><span class="hs-operator hs-var">`thenCmp`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834453"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Module -&gt; Module -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834451"><span class="hs-identifier hs-var">m2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                        LocalRdrEnv
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | Local Reader Environment</span><span>
</span><span id="line-342"></span><span class="hs-comment">--</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- This environment is used to store local bindings</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- (@let@, @where@, lambda, @case@).</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- It is keyed by OccName, because we never use it for qualified names</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- We keep the current mapping, *and* the set of all Names in scope</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- Reason: see Note [Splicing Exact names] in &quot;GHC.Rename.Env&quot;</span><span>
</span><span id="line-348"></span><span class="hs-keyword">data</span><span> </span><span id="LocalRdrEnv"><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-var">LocalRdrEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LRE"><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-var">LRE</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="lre_env"><span class="annot"><span class="annottext">LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var hs-var">lre_env</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-349"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="lre_in_scope"><span class="annot"><span class="annottext">LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var hs-var">lre_in_scope</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834444"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>  </span><span id="local-6989586621680834442"><span class="annot"><span class="annottext">ppr :: LocalRdrEnv -&gt; SDoc
</span><a href="#local-6989586621680834442"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834441"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834441"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834440"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834440"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocalRdrEnv {&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>         </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;env =&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; SDoc) -&gt; OccEnv Name -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; OccEnv a -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprOccEnv"><span class="hs-identifier hs-var">pprOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
</span><a href="#local-6989586621680834434"><span class="hs-identifier hs-var">ppr_elt</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834441"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-355"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in_scope =&quot;</span></span><span>
</span><span id="line-356"></span><span>                    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM Name Name -&gt; ([Name] -&gt; SDoc) -&gt; SDoc
forall key a. UniqFM key a -&gt; ([a] -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Types.Unique.FM.html#pprUFM"><span class="hs-identifier hs-var">pprUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSet -&gt; UniqFM Name Name
forall a. UniqSet a -&gt; UniqFM a a
</span><a href="GHC.Types.Unique.Set.html#getUniqSet"><span class="hs-identifier hs-var">getUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834440"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; ([Name] -&gt; SDoc) -&gt; [Name] -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; SDoc) -&gt; [Name] -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>                 </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'}'</span></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-359"></span><span>      </span><span id="local-6989586621680834434"><span class="annot"><span class="annottext">ppr_elt :: Name -&gt; SDoc
</span><a href="#local-6989586621680834434"><span class="hs-identifier hs-var hs-var">ppr_elt</span></a></span></span><span> </span><span id="local-6989586621680834424"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834424"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834424"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834424"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-360"></span><span>                     </span><span class="hs-comment">-- So we can see if the keys line up correctly</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#emptyLocalRdrEnv"><span class="hs-identifier hs-type">emptyLocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span>
</span><span id="line-363"></span><span id="emptyLocalRdrEnv"><span class="annot"><span class="annottext">emptyLocalRdrEnv :: LocalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#emptyLocalRdrEnv"><span class="hs-identifier hs-var hs-var">emptyLocalRdrEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LRE :: OccEnv Name -&gt; NameSet -&gt; LocalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name
forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var">emptyOccEnv</span></a></span><span>
</span><span id="line-364"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnv"><span class="hs-identifier hs-type">extendLocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- The Name should be a non-top-level thing</span><span>
</span><span id="line-368"></span><span id="extendLocalRdrEnv"><span class="annot"><span class="annottext">extendLocalRdrEnv :: LocalRdrEnv -&gt; Name -&gt; LocalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnv"><span class="hs-identifier hs-var hs-var">extendLocalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834419"><span class="annot"><span class="annottext">lre :: LocalRdrEnv
</span><a href="#local-6989586621680834419"><span class="hs-identifier hs-var">lre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834418"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834418"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834417"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834417"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834416"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834416"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WARN</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">isExternalName</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>    </span><span class="annot"><span class="annottext">LocalRdrEnv
</span><a href="#local-6989586621680834419"><span class="hs-identifier hs-var">lre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; OccName -&gt; Name -&gt; OccEnv Name
forall a. OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-var">extendOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834418"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834416"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834416"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-371"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; Name -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#extendNameSet"><span class="hs-identifier hs-var">extendNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834417"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834416"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnvList"><span class="hs-identifier hs-type">extendLocalRdrEnvList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span>
</span><span id="line-374"></span><span id="extendLocalRdrEnvList"><span class="annot"><span class="annottext">extendLocalRdrEnvList :: LocalRdrEnv -&gt; [Name] -&gt; LocalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#extendLocalRdrEnvList"><span class="hs-identifier hs-var hs-var">extendLocalRdrEnvList</span></a></span></span><span> </span><span id="local-6989586621680834412"><span class="annot"><span class="annottext">lre :: LocalRdrEnv
</span><a href="#local-6989586621680834412"><span class="hs-identifier hs-var">lre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834411"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834411"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834410"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834410"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834409"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834409"><span class="hs-identifier hs-var">names</span></a></span></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WARN</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">any</span><span> </span><span class="hs-identifier">isExternalName</span><span> </span><span class="hs-identifier">names</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">names</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><span class="annottext">LocalRdrEnv
</span><a href="#local-6989586621680834412"><span class="hs-identifier hs-var">lre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; [(OccName, Name)] -&gt; OccEnv Name
forall a. OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnvList"><span class="hs-identifier hs-var">extendOccEnvList</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834411"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834406"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834406"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680834406"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834406"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834409"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-377"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [Name] -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#extendNameSetList"><span class="hs-identifier hs-var">extendNameSetList</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834410"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834409"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupLocalRdrEnv"><span class="hs-identifier hs-type">lookupLocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-380"></span><span id="lookupLocalRdrEnv"><span class="annot"><span class="annottext">lookupLocalRdrEnv :: LocalRdrEnv -&gt; RdrName -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#lookupLocalRdrEnv"><span class="hs-identifier hs-var hs-var">lookupLocalRdrEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834404"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834404"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834403"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834403"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834402"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834402"><span class="hs-identifier hs-var">rdr</span></a></span></span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834401"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834401"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834402"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; OccName -&gt; Maybe Name
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834404"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834401"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-comment">-- See Note [Local bindings with Exact Names]</span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834399"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834399"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834402"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834399"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834403"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834399"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupLocalRdrOcc"><span class="hs-identifier hs-type">lookupLocalRdrOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-393"></span><span id="lookupLocalRdrOcc"><span class="annot"><span class="annottext">lookupLocalRdrOcc :: LocalRdrEnv -&gt; OccName -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#lookupLocalRdrOcc"><span class="hs-identifier hs-var hs-var">lookupLocalRdrOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834397"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834397"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834396"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834396"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; OccName -&gt; Maybe Name
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834397"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834396"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#elemLocalRdrEnv"><span class="hs-identifier hs-type">elemLocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-396"></span><span id="elemLocalRdrEnv"><span class="annot"><span class="annottext">elemLocalRdrEnv :: RdrName -&gt; LocalRdrEnv -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#elemLocalRdrEnv"><span class="hs-identifier hs-var hs-var">elemLocalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834395"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834395"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834394"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834394"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834393"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834393"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834395"><span class="hs-identifier hs-var">rdr_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-398"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680834392"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834392"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834392"><span class="hs-identifier hs-var">occ</span></a></span><span>  </span><span class="annot"><span class="annottext">OccName -&gt; OccEnv Name -&gt; Bool
forall a. OccName -&gt; OccEnv a -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#elemOccEnv"><span class="hs-operator hs-var">`elemOccEnv`</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834394"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-399"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680834390"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834390"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834390"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834393"><span class="hs-identifier hs-var">ns</span></a></span><span>  </span><span class="hs-comment">-- See Note [Local bindings with Exact Names]</span><span>
</span><span id="line-400"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-401"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#localRdrEnvElts"><span class="hs-identifier hs-type">localRdrEnvElts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-404"></span><span id="localRdrEnvElts"><span class="annot"><span class="annottext">localRdrEnvElts :: LocalRdrEnv -&gt; [Name]
</span><a href="GHC.Types.Name.Reader.html#localRdrEnvElts"><span class="hs-identifier hs-var hs-var">localRdrEnvElts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834389"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834389"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; [Name]
forall a. OccEnv a -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#occEnvElts"><span class="hs-identifier hs-var">occEnvElts</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834389"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#inLocalRdrEnvScope"><span class="hs-identifier hs-type">inLocalRdrEnvScope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- This is the point of the NameSet</span><span>
</span><span id="line-408"></span><span id="inLocalRdrEnvScope"><span class="annot"><span class="annottext">inLocalRdrEnvScope :: Name -&gt; LocalRdrEnv -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#inLocalRdrEnvScope"><span class="hs-identifier hs-var hs-var">inLocalRdrEnvScope</span></a></span></span><span> </span><span id="local-6989586621680834387"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834387"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_in_scope :: LocalRdrEnv -&gt; NameSet
</span><a href="GHC.Types.Name.Reader.html#lre_in_scope"><span class="hs-identifier hs-var">lre_in_scope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834386"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834386"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834387"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834386"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#delLocalRdrEnvList"><span class="hs-identifier hs-type">delLocalRdrEnvList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#LocalRdrEnv"><span class="hs-identifier hs-type">LocalRdrEnv</span></a></span><span>
</span><span id="line-411"></span><span id="delLocalRdrEnvList"><span class="annot"><span class="annottext">delLocalRdrEnvList :: LocalRdrEnv -&gt; [OccName] -&gt; LocalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#delLocalRdrEnvList"><span class="hs-identifier hs-var hs-var">delLocalRdrEnvList</span></a></span></span><span> </span><span id="local-6989586621680834385"><span class="annot"><span class="annottext">lre :: LocalRdrEnv
</span><a href="#local-6989586621680834385"><span class="hs-identifier hs-var">lre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#LRE"><span class="hs-identifier hs-type">LRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: LocalRdrEnv -&gt; OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834384"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834384"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834383"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621680834383"><span class="hs-identifier hs-var">occs</span></a></span></span><span>
</span><span id="line-412"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalRdrEnv
</span><a href="#local-6989586621680834385"><span class="hs-identifier hs-var">lre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">lre_env :: OccEnv Name
</span><a href="GHC.Types.Name.Reader.html#lre_env"><span class="hs-identifier hs-var">lre_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; [OccName] -&gt; OccEnv Name
forall a. OccEnv a -&gt; [OccName] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#delListFromOccEnv"><span class="hs-identifier hs-var">delListFromOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621680834384"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621680834383"><span class="hs-identifier hs-var">occs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-comment">{-
Note [Local bindings with Exact Names]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
With Template Haskell we can make local bindings that have Exact Names.
Computing shadowing etc may use elemLocalRdrEnv (at least it certainly
does so in GHC.Rename.HsType.bindHsQTyVars), so for an Exact Name we must consult
the in-scope-name-set.


************************************************************************
*                                                                      *
                        GlobalRdrEnv
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- | Global Reader Environment</span><span>
</span><span id="line-431"></span><span class="hs-keyword">type</span><span> </span><span id="GlobalRdrEnv"><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-var">GlobalRdrEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- ^ Keyed by 'OccName'; when looking up a qualified name</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- we look up the 'OccName' part, and then check the 'Provenance'</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- to see if the appropriate qualification is valid.  This</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- saves routinely doubling the size of the env by adding both</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- qualified and unqualified names to the domain.</span><span>
</span><span id="line-437"></span><span class="hs-comment">--</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- The list in the codomain is required because there may be name clashes</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- These only get reported on lookup, not on construction</span><span>
</span><span id="line-440"></span><span class="hs-comment">--</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- INVARIANT 1: All the members of the list have distinct</span><span>
</span><span id="line-442"></span><span class="hs-comment">--              'gre_name' fields; that is, no duplicate Names</span><span>
</span><span id="line-443"></span><span class="hs-comment">--</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- INVARIANT 2: Imported provenance =&gt; Name is an ExternalName</span><span>
</span><span id="line-445"></span><span class="hs-comment">--              However LocalDefs can have an InternalName.  This</span><span>
</span><span id="line-446"></span><span class="hs-comment">--              happens only when type-checking a [d| ... |] Template</span><span>
</span><span id="line-447"></span><span class="hs-comment">--              Haskell quotation; see this note in GHC.Rename.Names</span><span>
</span><span id="line-448"></span><span class="hs-comment">--              Note [Top-level Names in Template Haskell decl quotes]</span><span>
</span><span id="line-449"></span><span class="hs-comment">--</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- INVARIANT 3: If the GlobalRdrEnv maps [occ -&gt; gre], then</span><span>
</span><span id="line-451"></span><span class="hs-comment">--                 greOccName gre = occ</span><span>
</span><span id="line-452"></span><span class="hs-comment">--</span><span>
</span><span id="line-453"></span><span class="hs-comment">--              NB: greOccName gre is usually the same as</span><span>
</span><span id="line-454"></span><span class="hs-comment">--                  nameOccName (gre_name gre), but not always in the</span><span>
</span><span id="line-455"></span><span class="hs-comment">--                  case of record selectors; see greOccName</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- | Global Reader Element</span><span>
</span><span id="line-458"></span><span class="hs-comment">--</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- An element of the 'GlobalRdrEnv'</span><span>
</span><span id="line-460"></span><span class="hs-keyword">data</span><span> </span><span id="GlobalRdrElt"><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-var">GlobalRdrElt</span></a></span></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="GRE"><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-var">GRE</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="gre_name"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="gre_par"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="gre_lcl"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var hs-var">gre_lcl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>          </span><span class="hs-comment">-- ^ True &lt;=&gt; the thing was defined locally</span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="gre_imp"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var hs-var">gre_imp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- ^ In scope through these imports</span><span>
</span><span id="line-465"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834335"><span id="local-6989586621680834337"><span id="local-6989586621680834339"><span id="local-6989586621680834341"><span id="local-6989586621680834343"><span id="local-6989586621680834345"><span id="local-6989586621680834347"><span id="local-6989586621680834349"><span id="local-6989586621680834351"><span id="local-6989586621680834353"><span id="local-6989586621680834355"><span id="local-6989586621680834357"><span id="local-6989586621680834364"><span id="local-6989586621680834373"><span class="annot"><span class="annottext">Typeable GlobalRdrElt
Typeable GlobalRdrElt
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; GlobalRdrElt -&gt; c GlobalRdrElt)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c GlobalRdrElt)
-&gt; (GlobalRdrElt -&gt; Constr)
-&gt; (GlobalRdrElt -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c GlobalRdrElt))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c GlobalRdrElt))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; GlobalRdrElt -&gt; GlobalRdrElt)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt)
-&gt; Data GlobalRdrElt
GlobalRdrElt -&gt; DataType
GlobalRdrElt -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; GlobalRdrElt -&gt; GlobalRdrElt
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c GlobalRdrElt
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; GlobalRdrElt -&gt; c GlobalRdrElt
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c GlobalRdrElt)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c GlobalRdrElt)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; GlobalRdrElt -&gt; m GlobalRdrElt
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; GlobalRdrElt -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; GlobalRdrElt -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; GlobalRdrElt -&gt; GlobalRdrElt
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; GlobalRdrElt -&gt; GlobalRdrElt
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c GlobalRdrElt)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c GlobalRdrElt)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c GlobalRdrElt)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c GlobalRdrElt)
dataTypeOf :: GlobalRdrElt -&gt; DataType
$cdataTypeOf :: GlobalRdrElt -&gt; DataType
toConstr :: GlobalRdrElt -&gt; Constr
$ctoConstr :: GlobalRdrElt -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c GlobalRdrElt
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c GlobalRdrElt
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; GlobalRdrElt -&gt; c GlobalRdrElt
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; GlobalRdrElt -&gt; c GlobalRdrElt
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680834324"><span id="local-6989586621680834333"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool
(GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool)
-&gt; (GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool) -&gt; Eq GlobalRdrElt
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool
$c/= :: GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool
== :: GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool
$c== :: GlobalRdrElt -&gt; GlobalRdrElt -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>         </span><span class="hs-comment">-- INVARIANT: either gre_lcl = True or gre_imp is non-empty</span><span>
</span><span id="line-467"></span><span>         </span><span class="hs-comment">-- See Note [GlobalRdrElt provenance]</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">-- | The children of a Name are the things that are abbreviated by the &quot;..&quot;</span><span>
</span><span id="line-470"></span><span class="hs-comment">--   notation in export lists.  See Note [Parents]</span><span>
</span><span id="line-471"></span><span class="hs-keyword">data</span><span> </span><span id="Parent"><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-var">Parent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoParent"><span class="annot"><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span></span><span>
</span><span id="line-472"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="ParentIs"><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span></span><span>  </span><span class="hs-special">{</span><span> </span><span id="par_is"><span class="annot"><span class="annottext">Parent -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#par_is"><span class="hs-identifier hs-var hs-var">par_is</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-473"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="FldParent"><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-var">FldParent</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="par_is"><span class="annot"><a href="GHC.Types.Name.Reader.html#par_is"><span class="hs-identifier hs-var">par_is</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span id="par_lbl"><span class="annot"><span class="annottext">Parent -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Reader.html#par_lbl"><span class="hs-identifier hs-var hs-var">par_lbl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html#FieldLabelString"><span class="hs-identifier hs-type">FieldLabelString</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-474"></span><span>              </span><span class="hs-comment">-- ^ See Note [Parents for record fields]</span><span>
</span><span id="line-475"></span><span>            </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834309"><span id="local-6989586621680834316"><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Bool
(Parent -&gt; Parent -&gt; Bool)
-&gt; (Parent -&gt; Parent -&gt; Bool) -&gt; Eq Parent
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Parent -&gt; Parent -&gt; Bool
$c/= :: Parent -&gt; Parent -&gt; Bool
== :: Parent -&gt; Parent -&gt; Bool
$c== :: Parent -&gt; Parent -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680834269"><span id="local-6989586621680834271"><span id="local-6989586621680834273"><span id="local-6989586621680834275"><span id="local-6989586621680834277"><span id="local-6989586621680834279"><span id="local-6989586621680834281"><span id="local-6989586621680834283"><span id="local-6989586621680834285"><span id="local-6989586621680834287"><span id="local-6989586621680834289"><span id="local-6989586621680834291"><span id="local-6989586621680834297"><span id="local-6989586621680834304"><span class="annot"><span class="annottext">Typeable Parent
Typeable Parent
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; Parent -&gt; c Parent)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Parent)
-&gt; (Parent -&gt; Constr)
-&gt; (Parent -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Parent))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Parent))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; Parent -&gt; Parent)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent)
-&gt; Data Parent
Parent -&gt; DataType
Parent -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; Parent -&gt; Parent
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Parent
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Parent -&gt; c Parent
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Parent)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Parent)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; Parent -&gt; m Parent
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Parent -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Parent -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Parent -&gt; Parent
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Parent -&gt; Parent
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Parent)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c Parent)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Parent)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c Parent)
dataTypeOf :: Parent -&gt; DataType
$cdataTypeOf :: Parent -&gt; DataType
toConstr :: Parent -&gt; Constr
$ctoConstr :: Parent -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Parent
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c Parent
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Parent -&gt; c Parent
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Parent -&gt; c Parent
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834265"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-478"></span><span>   </span><span id="local-6989586621680834258"><span class="annot"><span class="annottext">ppr :: Parent -&gt; SDoc
</span><a href="#local-6989586621680834258"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-479"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span id="local-6989586621680834256"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834256"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;parent:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834256"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-480"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span id="local-6989586621680834255"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834255"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680834254"><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834254"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fldparent:&quot;</span></span><span>
</span><span id="line-481"></span><span>                             </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834255"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FastString -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834254"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-type">plusParent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span>
</span><span id="line-484"></span><span class="hs-comment">-- See Note [Combining parents]</span><span>
</span><span id="line-485"></span><span id="plusParent"><span class="annot"><span class="annottext">plusParent :: Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-var hs-var">plusParent</span></a></span></span><span> </span><span id="local-6989586621680834251"><span class="annot"><span class="annottext">p1 :: Parent
</span><a href="#local-6989586621680834251"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621680834250"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834250"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-var">hasParent</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834251"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834250"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-486"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-var">plusParent</span></a></span><span> </span><span id="local-6989586621680834248"><span class="annot"><span class="annottext">p1 :: Parent
</span><a href="#local-6989586621680834248"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834247"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834247"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-var">hasParent</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834248"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834247"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-487"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-var">plusParent</span></a></span><span> </span><span id="local-6989586621680834246"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834246"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680834245"><span class="annot"><span class="annottext">p2 :: Parent
</span><a href="#local-6989586621680834245"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-var">hasParent</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834245"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834246"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-488"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-var">plusParent</span></a></span><span> </span><span id="local-6989586621680834244"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834244"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680834243"><span class="annot"><span class="annottext">p2 :: Parent
</span><a href="#local-6989586621680834243"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-var">hasParent</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834243"><span class="hs-identifier hs-var">p2</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834244"><span class="hs-identifier hs-var">p1</span></a></span><span>
</span><span id="line-489"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-identifier hs-var">plusParent</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Parent
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-type">hasParent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span class="hs-cpp">
#if defined(DEBUG)
</span><span class="hs-identifier">hasParent</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">NoParent</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">p</span><span>
</span><span id="line-494"></span><span class="hs-identifier">hasParent</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">p'</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-operator">/=</span><span> </span><span class="hs-identifier">p'</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pprPanic</span><span> </span><span class="hs-string">&quot;hasParent&quot;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-operator">&lt;+&gt;</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">p'</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Parents should agree</span><span class="hs-cpp">
#endif
</span><span id="hasParent"><span class="annot"><span class="annottext">hasParent :: Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#hasParent"><span class="hs-identifier hs-var hs-var">hasParent</span></a></span></span><span> </span><span id="local-6989586621680834242"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834242"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">Parent
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834242"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="hs-comment">{- Note [GlobalRdrElt provenance]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The gre_lcl and gre_imp fields of a GlobalRdrElt describe its &quot;provenance&quot;,
i.e. how the Name came to be in scope.  It can be in scope two ways:
  - gre_lcl = True: it is bound in this module
  - gre_imp: a list of all the imports that brought it into scope

It's an INVARIANT that you have one or the other; that is, either
gre_lcl is True, or gre_imp is non-empty.

It is just possible to have *both* if there is a module loop: a Name
is defined locally in A, and also brought into scope by importing a
module that SOURCE-imported A.  Example (#7672):

 A.hs-boot   module A where
               data T

 B.hs        module B(Decl.T) where
               import {-# SOURCE #-} qualified A as Decl

 A.hs        module A where
               import qualified B
               data T = Z | S B.T

In A.hs, 'T' is locally bound, *and* imported as B.T.

Note [Parents]
~~~~~~~~~~~~~~~~~
  Parent           Children
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  data T           Data constructors
                   Record-field ids

  data family T    Data constructors and record-field ids
                   of all visible data instances of T

  class C          Class operations
                   Associated type constructors

~~~~~~~~~~~~~~~~~~~~~~~~~
 Constructor      Meaning
 ~~~~~~~~~~~~~~~~~~~~~~~~
  NoParent        Can not be bundled with a type constructor.
  ParentIs n      Can be bundled with the type constructor corresponding to
                  n.
  FldParent       See Note [Parents for record fields]




Note [Parents for record fields]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
For record fields, in addition to the Name of the type constructor
(stored in par_is), we use FldParent to store the field label.  This
extra information is used for identifying overloaded record fields
during renaming.

In a definition arising from a normal module (without
-XDuplicateRecordFields), par_lbl will be Nothing, meaning that the
field's label is the same as the OccName of the selector's Name.  The
GlobalRdrEnv will contain an entry like this:

    &quot;x&quot; |-&gt;  GRE x (FldParent T Nothing) LocalDef

When -XDuplicateRecordFields is enabled for the module that contains
T, the selector's Name will be mangled (see comments in GHC.Types.FieldLabel).
Thus we store the actual field label in par_lbl, and the GlobalRdrEnv
entry looks like this:

    &quot;x&quot; |-&gt;  GRE $sel:x:MkT (FldParent T (Just &quot;x&quot;)) LocalDef

Note that the OccName used when adding a GRE to the environment
(greOccName) now depends on the parent field: for FldParent it is the
field label, if present, rather than the selector name.

~~

Record pattern synonym selectors are treated differently. Their parent
information is `NoParent` in the module in which they are defined. This is because
a pattern synonym `P` has no parent constructor either.

However, if `f` is bundled with a type constructor `T` then whenever `f` is
imported the parent will use the `Parent` constructor so the parent of `f` is
now `T`.


Note [Combining parents]
~~~~~~~~~~~~~~~~~~~~~~~~
With an associated type we might have
   module M where
     class C a where
       data T a
       op :: T a -&gt; a
     instance C Int where
       data T Int = TInt
     instance C Bool where
       data T Bool = TBool

Then:   C is the parent of T
        T is the parent of TInt and TBool
So: in an export list
    C(..) is short for C( op, T )
    T(..) is short for T( TInt, TBool )

Module M exports everything, so its exports will be
   AvailTC C [C,T,op]
   AvailTC T [T,TInt,TBool]
On import we convert to GlobalRdrElt and then combine
those.  For T that will mean we have
  one GRE with Parent C
  one GRE with NoParent
That's why plusParent picks the &quot;best&quot; case.
-}</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span class="hs-comment">-- | make a 'GlobalRdrEnv' where all the elements point to the same</span><span>
</span><span id="line-615"></span><span class="hs-comment">-- Provenance (useful for &quot;hiding&quot; imports, or imports with no details).</span><span>
</span><span id="line-616"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresFromAvails"><span class="hs-identifier hs-type">gresFromAvails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-617"></span><span class="hs-comment">-- prov = Nothing   =&gt; locally bound</span><span>
</span><span id="line-618"></span><span class="hs-comment">--        Just spec =&gt; imported as described by spec</span><span>
</span><span id="line-619"></span><span id="gresFromAvails"><span class="annot"><span class="annottext">gresFromAvails :: Maybe ImportSpec -&gt; [AvailInfo] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#gresFromAvails"><span class="hs-identifier hs-var hs-var">gresFromAvails</span></a></span></span><span> </span><span id="local-6989586621680834241"><span class="annot"><span class="annottext">Maybe ImportSpec
</span><a href="#local-6989586621680834241"><span class="hs-identifier hs-var">prov</span></a></span></span><span> </span><span id="local-6989586621680834240"><span class="annot"><span class="annottext">[AvailInfo]
</span><a href="#local-6989586621680834240"><span class="hs-identifier hs-var">avails</span></a></span></span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AvailInfo -&gt; [GlobalRdrElt]) -&gt; [AvailInfo] -&gt; [GlobalRdrElt]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base/src/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Maybe ImportSpec) -&gt; AvailInfo -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#gresFromAvail"><span class="hs-identifier hs-var">gresFromAvail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ImportSpec -&gt; Name -&gt; Maybe ImportSpec
forall a b. a -&gt; b -&gt; a
</span><a href="../../base/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ImportSpec
</span><a href="#local-6989586621680834241"><span class="hs-identifier hs-var">prov</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AvailInfo]
</span><a href="#local-6989586621680834240"><span class="hs-identifier hs-var">avails</span></a></span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#localGREsFromAvail"><span class="hs-identifier hs-type">localGREsFromAvail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-623"></span><span class="hs-comment">-- Turn an Avail into a list of LocalDef GlobalRdrElts</span><span>
</span><span id="line-624"></span><span id="localGREsFromAvail"><span class="annot"><span class="annottext">localGREsFromAvail :: AvailInfo -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#localGREsFromAvail"><span class="hs-identifier hs-var hs-var">localGREsFromAvail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Maybe ImportSpec) -&gt; AvailInfo -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#gresFromAvail"><span class="hs-identifier hs-var">gresFromAvail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ImportSpec -&gt; Name -&gt; Maybe ImportSpec
forall a b. a -&gt; b -&gt; a
</span><a href="../../base/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ImportSpec
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresFromAvail"><span class="hs-identifier hs-type">gresFromAvail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-627"></span><span id="gresFromAvail"><span class="annot"><span class="annottext">gresFromAvail :: (Name -&gt; Maybe ImportSpec) -&gt; AvailInfo -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#gresFromAvail"><span class="hs-identifier hs-var hs-var">gresFromAvail</span></a></span></span><span> </span><span id="local-6989586621680834237"><span class="annot"><span class="annottext">Name -&gt; Maybe ImportSpec
</span><a href="#local-6989586621680834237"><span class="hs-identifier hs-var">prov_fn</span></a></span></span><span> </span><span id="local-6989586621680834236"><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span></span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; GlobalRdrElt) -&gt; [Name] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834235"><span class="hs-identifier hs-var">mk_gre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; [Name]
</span><a href="GHC.Types.Avail.html#availNonFldNames"><span class="hs-identifier hs-var">availNonFldNames</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLbl Name -&gt; GlobalRdrElt)
-&gt; [FieldLbl Name] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLbl Name -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834233"><span class="hs-identifier hs-var">mk_fld_gre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; [FieldLbl Name]
</span><a href="GHC.Types.Avail.html#availFlds"><span class="hs-identifier hs-var">availFlds</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-630"></span><span>    </span><span id="local-6989586621680834235"><span class="annot"><span class="annottext">mk_gre :: Name -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834235"><span class="hs-identifier hs-var hs-var">mk_gre</span></a></span></span><span> </span><span id="local-6989586621680834231"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-631"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe ImportSpec
</span><a href="#local-6989586621680834237"><span class="hs-identifier hs-var">prov_fn</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- Nothing =&gt; bound locally</span><span>
</span><span id="line-632"></span><span>                           </span><span class="hs-comment">-- Just is =&gt; imported from 'is'</span><span>
</span><span id="line-633"></span><span>          </span><span class="annot"><span class="annottext">Maybe ImportSpec
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GRE :: Name -&gt; Parent -&gt; Bool -&gt; [ImportSpec] -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; AvailInfo -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#mkParent"><span class="hs-identifier hs-var">mkParent</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span>
</span><span id="line-634"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-635"></span><span>          </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834229"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834229"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GRE :: Name -&gt; Parent -&gt; Bool -&gt; [ImportSpec] -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; AvailInfo -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#mkParent"><span class="hs-identifier hs-var">mkParent</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834231"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span>
</span><span id="line-636"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834229"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span>    </span><span id="local-6989586621680834233"><span class="annot"><span class="annottext">mk_fld_gre :: FieldLbl Name -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834233"><span class="hs-identifier hs-var hs-var">mk_fld_gre</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.FieldLabel.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">flLabel :: forall a. FieldLbl a -&gt; FastString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834226"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834226"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flIsOverloaded :: forall a. FieldLbl a -&gt; Bool
</span><a href="GHC.Types.FieldLabel.html#flIsOverloaded"><span class="hs-identifier hs-var">flIsOverloaded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834224"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834224"><span class="hs-identifier hs-var">is_overloaded</span></a></span></span><span>
</span><span id="line-639"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flSelector :: forall a. FieldLbl a -&gt; a
</span><a href="GHC.Types.FieldLabel.html#flSelector"><span class="hs-identifier hs-var">flSelector</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834222"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834222"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-640"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe ImportSpec
</span><a href="#local-6989586621680834237"><span class="hs-identifier hs-var">prov_fn</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834222"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>  </span><span class="hs-comment">-- Nothing =&gt; bound locally</span><span>
</span><span id="line-641"></span><span>                           </span><span class="hs-comment">-- Just is =&gt; imported from 'is'</span><span>
</span><span id="line-642"></span><span>          </span><span class="annot"><span class="annottext">Maybe ImportSpec
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GRE :: Name -&gt; Parent -&gt; Bool -&gt; [ImportSpec] -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834222"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe FastString -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-var">FldParent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; Name
</span><a href="GHC.Types.Avail.html#availName"><span class="hs-identifier hs-var">availName</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834220"><span class="hs-identifier hs-var">mb_lbl</span></a></span><span>
</span><span id="line-643"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-644"></span><span>          </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834219"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834219"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GRE :: Name -&gt; Parent -&gt; Bool -&gt; [ImportSpec] -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834222"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe FastString -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-var">FldParent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; Name
</span><a href="GHC.Types.Avail.html#availName"><span class="hs-identifier hs-var">availName</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621680834236"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834220"><span class="hs-identifier hs-var">mb_lbl</span></a></span><span>
</span><span id="line-645"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834219"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-646"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-647"></span><span>        </span><span id="local-6989586621680834220"><span class="annot"><span class="annottext">mb_lbl :: Maybe FastString
</span><a href="#local-6989586621680834220"><span class="hs-identifier hs-var hs-var">mb_lbl</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834224"><span class="hs-identifier hs-var">is_overloaded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Maybe FastString
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834226"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-648"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-649"></span><span>
</span><span id="line-650"></span><span>
</span><span id="line-651"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greQualModName"><span class="hs-identifier hs-type">greQualModName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span>
</span><span id="line-652"></span><span class="hs-comment">-- Get a suitable module qualifier for the GRE</span><span>
</span><span id="line-653"></span><span class="hs-comment">-- (used in mkPrintUnqualified)</span><span>
</span><span id="line-654"></span><span class="hs-comment">-- Prerecondition: the gre_name is always External</span><span>
</span><span id="line-655"></span><span id="greQualModName"><span class="annot"><span class="annottext">greQualModName :: GlobalRdrElt -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#greQualModName"><span class="hs-identifier hs-var hs-var">greQualModName</span></a></span></span><span> </span><span id="local-6989586621680834218"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834218"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834217"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834217"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834216"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834216"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834215"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834215"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834216"><span class="hs-identifier hs-var">lcl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834214"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834214"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834217"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834214"><span class="hs-identifier hs-var">mod</span></a></span><span>
</span><span id="line-657"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834211"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834211"><span class="hs-identifier hs-var">is</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[ImportSpec]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834215"><span class="hs-identifier hs-var">iss</span></a></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834211"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; ModuleName
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;greQualModName&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834218"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greRdrNames"><span class="hs-identifier hs-type">greRdrNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-661"></span><span id="greRdrNames"><span class="annot"><span class="annottext">greRdrNames :: GlobalRdrElt -&gt; [RdrName]
</span><a href="GHC.Types.Name.Reader.html#greRdrNames"><span class="hs-identifier hs-var hs-var">greRdrNames</span></a></span></span><span> </span><span id="local-6989586621680834207"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834207"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834206"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834206"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834205"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834205"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834206"><span class="hs-identifier hs-var">lcl</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834204"><span class="hs-identifier hs-var">unqual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RdrName] -&gt; [RdrName] -&gt; [RdrName]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpDeclSpec -&gt; [RdrName]) -&gt; [ImpDeclSpec] -&gt; [RdrName]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base/src/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; [RdrName]
</span><a href="#local-6989586621680834203"><span class="hs-identifier hs-var">do_spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ImportSpec -&gt; ImpDeclSpec) -&gt; [ImportSpec] -&gt; [ImpDeclSpec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834205"><span class="hs-identifier hs-var">iss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621680834202"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621680834202"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-var">greOccName</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834207"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-665"></span><span>    </span><span id="local-6989586621680834204"><span class="annot"><span class="annottext">unqual :: RdrName
</span><a href="#local-6989586621680834204"><span class="hs-identifier hs-var hs-var">unqual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834202"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-666"></span><span>    </span><span id="local-6989586621680834203"><span class="annot"><span class="annottext">do_spec :: ImpDeclSpec -&gt; [RdrName]
</span><a href="#local-6989586621680834203"><span class="hs-identifier hs-var hs-var">do_spec</span></a></span></span><span> </span><span id="local-6989586621680834201"><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680834201"><span class="hs-identifier hs-var">decl_spec</span></a></span></span><span>
</span><span id="line-667"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680834201"><span class="hs-identifier hs-var">decl_spec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834199"><span class="hs-identifier hs-var">qual</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-668"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834204"><span class="hs-identifier hs-var">unqual</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834199"><span class="hs-identifier hs-var">qual</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-669"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680834199"><span class="annot"><span class="annottext">qual :: RdrName
</span><a href="#local-6989586621680834199"><span class="hs-identifier hs-var hs-var">qual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680834201"><span class="hs-identifier hs-var">decl_spec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834202"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span class="hs-comment">-- the SrcSpan that pprNameProvenance prints out depends on whether</span><span>
</span><span id="line-672"></span><span class="hs-comment">-- the Name is defined locally or not: for a local definition the</span><span>
</span><span id="line-673"></span><span class="hs-comment">-- definition site is used, otherwise the location of the import</span><span>
</span><span id="line-674"></span><span class="hs-comment">-- declaration.  We want to sort the export locations in</span><span>
</span><span id="line-675"></span><span class="hs-comment">-- exportClashErr by this SrcSpan, we need to extract it:</span><span>
</span><span id="line-676"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greSrcSpan"><span class="hs-identifier hs-type">greSrcSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-677"></span><span id="greSrcSpan"><span class="annot"><span class="annottext">greSrcSpan :: GlobalRdrElt -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#greSrcSpan"><span class="hs-identifier hs-var hs-var">greSrcSpan</span></a></span></span><span> </span><span id="local-6989586621680834198"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834198"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834197"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834197"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834196"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834196"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834195"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834195"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834196"><span class="hs-identifier hs-var">lcl</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834197"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-679"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834193"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834193"><span class="hs-identifier hs-var">is</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[ImportSpec]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834195"><span class="hs-identifier hs-var">iss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var hs-var">is_dloc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680834193"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; SrcSpan
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;greSrcSpan&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834198"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkParent"><span class="hs-identifier hs-type">mkParent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span>
</span><span id="line-683"></span><span id="mkParent"><span class="annot"><span class="annottext">mkParent :: Name -&gt; AvailInfo -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#mkParent"><span class="hs-identifier hs-var hs-var">mkParent</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Avail.html#Avail"><span class="hs-identifier hs-type">Avail</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>
</span><span id="line-684"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkParent"><span class="hs-identifier hs-var">mkParent</span></a></span><span> </span><span id="local-6989586621680834190"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834190"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-type">AvailTC</span></a></span><span> </span><span id="local-6989586621680834188"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834188"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[FieldLbl Name]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834190"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834188"><span class="hs-identifier hs-var">m</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>
</span><span id="line-685"></span><span>                         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834188"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-686"></span><span>
</span><span id="line-687"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greParent_maybe"><span class="hs-identifier hs-type">greParent_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-688"></span><span id="greParent_maybe"><span class="annot"><span class="annottext">greParent_maybe :: GlobalRdrElt -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#greParent_maybe"><span class="hs-identifier hs-var hs-var">greParent_maybe</span></a></span></span><span> </span><span id="local-6989586621680834187"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834187"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834187"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-689"></span><span>                        </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-690"></span><span>                        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span id="local-6989586621680834186"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834186"><span class="hs-identifier hs-var">n</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834186"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-691"></span><span>                        </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span id="local-6989586621680834185"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834185"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834185"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span class="hs-comment">-- | Takes a list of distinct GREs and folds them</span><span>
</span><span id="line-694"></span><span class="hs-comment">-- into AvailInfos. This is more efficient than mapping each individual</span><span>
</span><span id="line-695"></span><span class="hs-comment">-- GRE to an AvailInfo and the folding using `plusAvail` but needs the</span><span>
</span><span id="line-696"></span><span class="hs-comment">-- uniqueness assumption.</span><span>
</span><span id="line-697"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#gresToAvailInfo"><span class="hs-identifier hs-type">gresToAvailInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-698"></span><span id="gresToAvailInfo"><span class="annot"><span class="annottext">gresToAvailInfo :: [GlobalRdrElt] -&gt; [AvailInfo]
</span><a href="GHC.Types.Name.Reader.html#gresToAvailInfo"><span class="hs-identifier hs-var hs-var">gresToAvailInfo</span></a></span></span><span> </span><span id="local-6989586621680834184"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834184"><span class="hs-identifier hs-var">gres</span></a></span></span><span>
</span><span id="line-699"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameEnv AvailInfo -&gt; [AvailInfo]
forall a. NameEnv a -&gt; [a]
</span><a href="GHC.Types.Name.Env.html#nameEnvElts"><span class="hs-identifier hs-var">nameEnvElts</span></a></span><span> </span><span class="annot"><span class="annottext">NameEnv AvailInfo
</span><a href="#local-6989586621680834182"><span class="hs-identifier hs-var">avail_env</span></a></span><span>
</span><span id="line-700"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-701"></span><span>    </span><span class="annot"><a href="#local-6989586621680834182"><span class="hs-identifier hs-type">avail_env</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html#NameEnv"><span class="hs-identifier hs-type">NameEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span> </span><span class="hs-comment">-- Keyed by the parent</span><span>
</span><span id="line-702"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680834182"><span class="annot"><span class="annottext">NameEnv AvailInfo
</span><a href="#local-6989586621680834182"><span class="hs-identifier hs-var">avail_env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((NameEnv AvailInfo, NameSet)
 -&gt; GlobalRdrElt -&gt; (NameEnv AvailInfo, NameSet))
-&gt; (NameEnv AvailInfo, NameSet)
-&gt; [GlobalRdrElt]
-&gt; (NameEnv AvailInfo, NameSet)
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">(NameEnv AvailInfo, NameSet)
-&gt; GlobalRdrElt -&gt; (NameEnv AvailInfo, NameSet)
</span><a href="#local-6989586621680834179"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameEnv AvailInfo
forall a. NameEnv a
</span><a href="GHC.Types.Name.Env.html#emptyNameEnv"><span class="hs-identifier hs-var">emptyNameEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834184"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span>    </span><span class="annot"><a href="#local-6989586621680834179"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Env.html#NameEnv"><span class="hs-identifier hs-type">NameEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-706"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Env.html#NameEnv"><span class="hs-identifier hs-type">NameEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span>    </span><span id="local-6989586621680834179"><span class="annot"><span class="annottext">add :: (NameEnv AvailInfo, NameSet)
-&gt; GlobalRdrElt -&gt; (NameEnv AvailInfo, NameSet)
</span><a href="#local-6989586621680834179"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834177"><span class="annot"><span class="annottext">NameEnv AvailInfo
</span><a href="#local-6989586621680834177"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680834176"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834176"><span class="hs-identifier hs-var">done</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834175"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834175"><span class="hs-identifier hs-var">gre</span></a></span></span><span>
</span><span id="line-708"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834176"><span class="hs-identifier hs-var">done</span></a></span><span>
</span><span id="line-709"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameEnv AvailInfo
</span><a href="#local-6989586621680834177"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834176"><span class="hs-identifier hs-var">done</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Don't insert twice into the AvailInfo</span><span>
</span><span id="line-710"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-711"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; AvailInfo -&gt; AvailInfo)
-&gt; (GlobalRdrElt -&gt; AvailInfo)
-&gt; NameEnv AvailInfo
-&gt; Name
-&gt; GlobalRdrElt
-&gt; NameEnv AvailInfo
forall a b.
(a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; NameEnv b -&gt; Name -&gt; a -&gt; NameEnv b
</span><a href="GHC.Types.Name.Env.html#extendNameEnv_Acc"><span class="hs-identifier hs-var">extendNameEnv_Acc</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; AvailInfo -&gt; AvailInfo
</span><a href="#local-6989586621680834172"><span class="hs-identifier hs-var">comb</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; AvailInfo
</span><a href="GHC.Types.Name.Reader.html#availFromGRE"><span class="hs-identifier hs-var">availFromGRE</span></a></span><span> </span><span class="annot"><span class="annottext">NameEnv AvailInfo
</span><a href="#local-6989586621680834177"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834171"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834175"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-712"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621680834176"><span class="hs-identifier hs-var">done</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; Name -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#extendNameSet"><span class="hs-operator hs-var">`extendNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-713"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-714"></span><span>        </span><span id="local-6989586621680834174"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834175"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-715"></span><span>        </span><span id="local-6989586621680834171"><span class="annot"><span class="annottext">key :: Name
</span><a href="#local-6989586621680834171"><span class="hs-identifier hs-var hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe Name
</span><a href="GHC.Types.Name.Reader.html#greParent_maybe"><span class="hs-identifier hs-var">greParent_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834175"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-716"></span><span>                 </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834170"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834170"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834170"><span class="hs-identifier hs-var">parent</span></a></span><span>
</span><span id="line-717"></span><span>                 </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834175"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-718"></span><span>
</span><span id="line-719"></span><span>        </span><span class="hs-comment">-- We want to insert the child `k` into a list of children but</span><span>
</span><span id="line-720"></span><span>        </span><span class="hs-comment">-- need to maintain the invariant that the parent is first.</span><span>
</span><span id="line-721"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-722"></span><span>        </span><span class="hs-comment">-- We also use the invariant that `k` is not already in `ns`.</span><span>
</span><span id="line-723"></span><span>        </span><span class="annot"><a href="#local-6989586621680834169"><span class="hs-identifier hs-type">insertChildIntoChildren</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-724"></span><span>        </span><span id="local-6989586621680834169"><span class="annot"><span class="annottext">insertChildIntoChildren :: Name -&gt; [Name] -&gt; Name -&gt; [Name]
</span><a href="#local-6989586621680834169"><span class="hs-identifier hs-var hs-var">insertChildIntoChildren</span></a></span></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621680834168"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834168"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834168"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-725"></span><span>        </span><span class="annot"><a href="#local-6989586621680834169"><span class="hs-identifier hs-var">insertChildIntoChildren</span></a></span><span> </span><span id="local-6989586621680834167"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834167"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834166"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834166"><span class="hs-identifier hs-var">n</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680834165"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834165"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834164"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834164"><span class="hs-identifier hs-var">k</span></a></span></span><span>
</span><span id="line-726"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834167"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834164"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834164"><span class="hs-identifier hs-var">k</span></a></span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834166"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834165"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-727"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834166"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834164"><span class="hs-identifier hs-var">k</span></a></span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834165"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span>        </span><span class="annot"><a href="#local-6989586621680834172"><span class="hs-identifier hs-type">comb</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span>
</span><span id="line-730"></span><span>        </span><span id="local-6989586621680834172"><span class="annot"><span class="annottext">comb :: GlobalRdrElt -&gt; AvailInfo -&gt; AvailInfo
</span><a href="#local-6989586621680834172"><span class="hs-identifier hs-var hs-var">comb</span></a></span></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Avail.html#Avail"><span class="hs-identifier hs-type">Avail</span></a></span><span> </span><span id="local-6989586621680834163"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834163"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#Avail"><span class="hs-identifier hs-var">Avail</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834163"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-comment">-- Duplicated name, should not happen</span><span>
</span><span id="line-731"></span><span>        </span><span class="annot"><a href="#local-6989586621680834172"><span class="hs-identifier hs-var">comb</span></a></span><span> </span><span id="local-6989586621680834162"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834162"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-type">AvailTC</span></a></span><span> </span><span id="local-6989586621680834161"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834161"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680834160"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834160"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621680834159"><span class="annot"><span class="annottext">[FieldLbl Name]
</span><a href="#local-6989586621680834159"><span class="hs-identifier hs-var">fls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834162"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-733"></span><span>              </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834161"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var">name</span></a></span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834160"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldLbl Name]
</span><a href="#local-6989586621680834159"><span class="hs-identifier hs-var">fls</span></a></span><span> </span><span class="hs-comment">-- Not sure this ever happens</span><span>
</span><span id="line-734"></span><span>              </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834161"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; Name -&gt; [Name]
</span><a href="#local-6989586621680834169"><span class="hs-identifier hs-var">insertChildIntoChildren</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834161"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834160"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldLbl Name]
</span><a href="#local-6989586621680834159"><span class="hs-identifier hs-var">fls</span></a></span><span>
</span><span id="line-735"></span><span>              </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680834158"><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834158"><span class="hs-identifier hs-var">mb_lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834161"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621680834160"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Maybe FastString -&gt; FieldLbl Name
</span><a href="GHC.Types.Name.Reader.html#mkFieldLabel"><span class="hs-identifier hs-var">mkFieldLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834174"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834158"><span class="hs-identifier hs-var">mb_lbl</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLbl Name -&gt; [FieldLbl Name] -&gt; [FieldLbl Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[FieldLbl Name]
</span><a href="#local-6989586621680834159"><span class="hs-identifier hs-var">fls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#availFromGRE"><span class="hs-identifier hs-type">availFromGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span>
</span><span id="line-738"></span><span id="availFromGRE"><span class="annot"><span class="annottext">availFromGRE :: GlobalRdrElt -&gt; AvailInfo
</span><a href="GHC.Types.Name.Reader.html#availFromGRE"><span class="hs-identifier hs-var hs-var">availFromGRE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834156"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834155"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834155"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621680834155"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-740"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-type">ParentIs</span></a></span><span> </span><span id="local-6989586621680834154"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834154"><span class="hs-identifier hs-var">p</span></a></span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834154"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-741"></span><span>      </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isTyConName"><span class="hs-identifier hs-var">isTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-742"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#avail"><span class="hs-identifier hs-var">avail</span></a></span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span>
</span><span id="line-743"></span><span>      </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span> </span><span id="local-6989586621680834151"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834151"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680834150"><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834150"><span class="hs-identifier hs-var">mb_lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [FieldLbl Name] -&gt; AvailInfo
</span><a href="GHC.Types.Avail.html#AvailTC"><span class="hs-identifier hs-var">AvailTC</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834151"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Maybe FastString -&gt; FieldLbl Name
</span><a href="GHC.Types.Name.Reader.html#mkFieldLabel"><span class="hs-identifier hs-var">mkFieldLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834156"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834150"><span class="hs-identifier hs-var">mb_lbl</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-744"></span><span>
</span><span id="line-745"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkFieldLabel"><span class="hs-identifier hs-type">mkFieldLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span>
</span><span id="line-746"></span><span id="mkFieldLabel"><span class="annot"><span class="annottext">mkFieldLabel :: Name -&gt; Maybe FastString -&gt; FieldLbl Name
</span><a href="GHC.Types.Name.Reader.html#mkFieldLabel"><span class="hs-identifier hs-var hs-var">mkFieldLabel</span></a></span></span><span> </span><span id="local-6989586621680834148"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834148"><span class="hs-identifier hs-var">me</span></a></span></span><span> </span><span id="local-6989586621680834147"><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834147"><span class="hs-identifier hs-var">mb_lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-747"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="#local-6989586621680834147"><span class="hs-identifier hs-var">mb_lbl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-748"></span><span>                 </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldLabel :: forall a. FastString -&gt; Bool -&gt; a -&gt; FieldLbl a
</span><a href="GHC.Types.FieldLabel.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">flLabel :: FastString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834148"><span class="hs-identifier hs-var">me</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flIsOverloaded :: Bool
</span><a href="GHC.Types.FieldLabel.html#flIsOverloaded"><span class="hs-identifier hs-var">flIsOverloaded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-750"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flSelector :: Name
</span><a href="GHC.Types.FieldLabel.html#flSelector"><span class="hs-identifier hs-var">flSelector</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834148"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-751"></span><span>                 </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834145"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834145"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldLabel :: forall a. FastString -&gt; Bool -&gt; a -&gt; FieldLbl a
</span><a href="GHC.Types.FieldLabel.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">flLabel :: FastString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834145"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-752"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flIsOverloaded :: Bool
</span><a href="GHC.Types.FieldLabel.html#flIsOverloaded"><span class="hs-identifier hs-var">flIsOverloaded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-753"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">flSelector :: Name
</span><a href="GHC.Types.FieldLabel.html#flSelector"><span class="hs-identifier hs-var">flSelector</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834148"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-754"></span><span>
</span><span id="line-755"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#emptyGlobalRdrEnv"><span class="hs-identifier hs-type">emptyGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-756"></span><span id="emptyGlobalRdrEnv"><span class="annot"><span class="annottext">emptyGlobalRdrEnv :: GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#emptyGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">emptyGlobalRdrEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var">emptyOccEnv</span></a></span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#globalRdrEnvElts"><span class="hs-identifier hs-type">globalRdrEnvElts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-759"></span><span id="globalRdrEnvElts"><span class="annot"><span class="annottext">globalRdrEnvElts :: GlobalRdrEnv -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#globalRdrEnvElts"><span class="hs-identifier hs-var hs-var">globalRdrEnvElts</span></a></span></span><span> </span><span id="local-6989586621680834144"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834144"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; [GlobalRdrElt] -&gt; GlobalRdrEnv -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; OccEnv a -&gt; b
</span><a href="GHC.Types.Name.Occurrence.html#foldOccEnv"><span class="hs-identifier hs-var">foldOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834144"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680834140"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-762"></span><span>  </span><span id="local-6989586621680834137"><span class="annot"><span class="annottext">ppr :: GlobalRdrElt -&gt; SDoc
</span><a href="#local-6989586621680834137"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621680834136"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834136"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834136"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Parent -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834136"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>               </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprNameProvenance"><span class="hs-identifier hs-var">pprNameProvenance</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834136"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprGlobalRdrEnv"><span class="hs-identifier hs-type">pprGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-766"></span><span id="pprGlobalRdrEnv"><span class="annot"><span class="annottext">pprGlobalRdrEnv :: Bool -&gt; GlobalRdrEnv -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">pprGlobalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834135"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834135"><span class="hs-identifier hs-var">locals_only</span></a></span></span><span> </span><span id="local-6989586621680834134"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834134"><span class="hs-identifier hs-var">env</span></a></span></span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GlobalRdrEnv&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppWhen"><span class="hs-identifier hs-var">ppWhen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834135"><span class="hs-identifier hs-var">locals_only</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PtrString -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PtrString
</span><a href="GHC.Data.FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(locals only)&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>             </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#lbrace"><span class="hs-identifier hs-var">lbrace</span></a></span><span>
</span><span id="line-769"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; SDoc
</span><a href="#local-6989586621680834128"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="#local-6989586621680834127"><span class="hs-identifier hs-var">remove_locals</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834126"><span class="hs-identifier hs-var">gre_list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680834126"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834126"><span class="hs-identifier hs-var">gre_list</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; [[GlobalRdrElt]]
forall a. OccEnv a -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#occEnvElts"><span class="hs-identifier hs-var">occEnvElts</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834134"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-770"></span><span>             </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#rbrace"><span class="hs-identifier hs-var">rbrace</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-772"></span><span>    </span><span id="local-6989586621680834127"><span class="annot"><span class="annottext">remove_locals :: [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="#local-6989586621680834127"><span class="hs-identifier hs-var hs-var">remove_locals</span></a></span></span><span> </span><span id="local-6989586621680834124"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834124"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834135"><span class="hs-identifier hs-var">locals_only</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; Bool) -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isLocalGRE"><span class="hs-identifier hs-var">isLocalGRE</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834124"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-773"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834124"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-774"></span><span>    </span><span id="local-6989586621680834128"><span class="annot"><span class="annottext">pp :: [GlobalRdrElt] -&gt; SDoc
</span><a href="#local-6989586621680834128"><span class="hs-identifier hs-var hs-var">pp</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-775"></span><span>    </span><span class="annot"><a href="#local-6989586621680834128"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span id="local-6989586621680834119"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834119"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834118"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-776"></span><span>                     </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unique&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834118"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>                     </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>                 </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; SDoc) -&gt; [GlobalRdrElt] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834119"><span class="hs-identifier hs-var">gres</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-780"></span><span>        </span><span id="local-6989586621680834118"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621680834118"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; GlobalRdrElt
forall a. [a] -&gt; a
</span><a href="../../base/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834119"><span class="hs-identifier hs-var">gres</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGlobalRdrEnv"><span class="hs-identifier hs-type">lookupGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-783"></span><span id="lookupGlobalRdrEnv"><span class="annot"><span class="annottext">lookupGlobalRdrEnv :: GlobalRdrEnv -&gt; OccName -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#lookupGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">lookupGlobalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834116"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834116"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834115"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834115"><span class="hs-identifier hs-var">occ_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; OccName -&gt; Maybe [GlobalRdrElt]
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834116"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834115"><span class="hs-identifier hs-var">occ_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-784"></span><span>                                  </span><span class="annot"><span class="annottext">Maybe [GlobalRdrElt]
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-785"></span><span>                                  </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834114"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834114"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834114"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-type">greOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-788"></span><span id="greOccName"><span class="annot"><span class="annottext">greOccName :: GlobalRdrElt -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-var hs-var">greOccName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">par_lbl :: Parent -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Reader.html#par_lbl"><span class="hs-identifier hs-var">par_lbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834113"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834113"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834113"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-789"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-var">greOccName</span></a></span><span> </span><span id="local-6989586621680834112"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834112"><span class="hs-identifier hs-var">gre</span></a></span></span><span>                                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834112"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_RdrName"><span class="hs-identifier hs-type">lookupGRE_RdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-792"></span><span id="lookupGRE_RdrName"><span class="annot"><span class="annottext">lookupGRE_RdrName :: RdrName -&gt; GlobalRdrEnv -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_RdrName"><span class="hs-identifier hs-var hs-var">lookupGRE_RdrName</span></a></span></span><span> </span><span id="local-6989586621680834111"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834111"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span> </span><span id="local-6989586621680834110"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834110"><span class="hs-identifier hs-var">env</span></a></span></span><span>
</span><span id="line-793"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; OccName -&gt; Maybe [GlobalRdrElt]
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834110"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834111"><span class="hs-identifier hs-var">rdr_name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-794"></span><span>    </span><span class="annot"><span class="annottext">Maybe [GlobalRdrElt]
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-795"></span><span>    </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834109"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834109"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier hs-var">pickGREs</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680834111"><span class="hs-identifier hs-var">rdr_name</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834109"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-796"></span><span>
</span><span id="line-797"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_Name"><span class="hs-identifier hs-type">lookupGRE_Name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-798"></span><span class="hs-comment">-- ^ Look for precisely this 'Name' in the environment.  This tests</span><span>
</span><span id="line-799"></span><span class="hs-comment">-- whether it is in scope, ignoring anything else that might be in</span><span>
</span><span id="line-800"></span><span class="hs-comment">-- scope with the same 'OccName'.</span><span>
</span><span id="line-801"></span><span id="lookupGRE_Name"><span class="annot"><span class="annottext">lookupGRE_Name :: GlobalRdrEnv -&gt; Name -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_Name"><span class="hs-identifier hs-var hs-var">lookupGRE_Name</span></a></span></span><span> </span><span id="local-6989586621680834108"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834108"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834107"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834107"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; Name -&gt; OccName -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_Name_OccName"><span class="hs-identifier hs-var">lookupGRE_Name_OccName</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834108"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834107"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834107"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>
</span><span id="line-804"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_FieldLabel"><span class="hs-identifier hs-type">lookupGRE_FieldLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html#FieldLabel"><span class="hs-identifier hs-type">FieldLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-805"></span><span class="hs-comment">-- ^ Look for a particular record field selector in the environment, where the</span><span>
</span><span id="line-806"></span><span class="hs-comment">-- selector name and field label may be different: the GlobalRdrEnv is keyed on</span><span>
</span><span id="line-807"></span><span class="hs-comment">-- the label.  See Note [Parents for record fields] for why this happens.</span><span>
</span><span id="line-808"></span><span id="lookupGRE_FieldLabel"><span class="annot"><span class="annottext">lookupGRE_FieldLabel :: GlobalRdrEnv -&gt; FieldLbl Name -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_FieldLabel"><span class="hs-identifier hs-var hs-var">lookupGRE_FieldLabel</span></a></span></span><span> </span><span id="local-6989586621680834106"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834106"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834105"><span class="annot"><span class="annottext">FieldLbl Name
</span><a href="#local-6989586621680834105"><span class="hs-identifier hs-var">fl</span></a></span></span><span>
</span><span id="line-809"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; Name -&gt; OccName -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_Name_OccName"><span class="hs-identifier hs-var">lookupGRE_Name_OccName</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834106"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLbl Name -&gt; Name
forall a. FieldLbl a -&gt; a
</span><a href="GHC.Types.FieldLabel.html#flSelector"><span class="hs-identifier hs-var hs-var">flSelector</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLbl Name
</span><a href="#local-6989586621680834105"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLbl Name -&gt; FastString
forall a. FieldLbl a -&gt; FastString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var hs-var">flLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLbl Name
</span><a href="#local-6989586621680834105"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>
</span><span id="line-811"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#lookupGRE_Name_OccName"><span class="hs-identifier hs-type">lookupGRE_Name_OccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-812"></span><span class="hs-comment">-- ^ Look for precisely this 'Name' in the environment, but with an 'OccName'</span><span>
</span><span id="line-813"></span><span class="hs-comment">-- that might differ from that of the 'Name'.  See 'lookupGRE_FieldLabel' and</span><span>
</span><span id="line-814"></span><span class="hs-comment">-- Note [Parents for record fields].</span><span>
</span><span id="line-815"></span><span id="lookupGRE_Name_OccName"><span class="annot"><span class="annottext">lookupGRE_Name_OccName :: GlobalRdrEnv -&gt; Name -&gt; OccName -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_Name_OccName"><span class="hs-identifier hs-var hs-var">lookupGRE_Name_OccName</span></a></span></span><span> </span><span id="local-6989586621680834104"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834104"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834103"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834103"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621680834102"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834102"><span class="hs-identifier hs-var">occ</span></a></span></span><span>
</span><span id="line-816"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834101"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680834101"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834101"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; OccName -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#lookupGlobalRdrEnv"><span class="hs-identifier hs-var">lookupGlobalRdrEnv</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834104"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834102"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-817"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834101"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834103"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-818"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-819"></span><span>      </span><span class="hs-special">[</span><span id="local-6989586621680834100"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834100"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834100"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-820"></span><span>      </span><span id="local-6989586621680834099"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834099"><span class="hs-identifier hs-var">gres</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; Maybe GlobalRdrElt
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lookupGRE_Name_OccName&quot;</span></span><span>
</span><span id="line-821"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834103"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834102"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834099"><span class="hs-identifier hs-var">gres</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-822"></span><span>               </span><span class="hs-comment">-- See INVARIANT 1 on GlobalRdrEnv</span><span>
</span><span id="line-823"></span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#getGRE_NameQualifier_maybes"><span class="hs-identifier hs-type">getGRE_NameQualifier_maybes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span class="hs-comment">-- Returns all the qualifiers by which 'x' is in scope</span><span>
</span><span id="line-827"></span><span class="hs-comment">-- Nothing means &quot;the unqualified version is in scope&quot;</span><span>
</span><span id="line-828"></span><span class="hs-comment">-- [] means the thing is not in scope at all</span><span>
</span><span id="line-829"></span><span id="getGRE_NameQualifier_maybes"><span class="annot"><span class="annottext">getGRE_NameQualifier_maybes :: GlobalRdrEnv -&gt; Name -&gt; [Maybe [ModuleName]]
</span><a href="GHC.Types.Name.Reader.html#getGRE_NameQualifier_maybes"><span class="hs-identifier hs-var hs-var">getGRE_NameQualifier_maybes</span></a></span></span><span> </span><span id="local-6989586621680834097"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834097"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834096"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834096"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; Name -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#lookupGRE_Name"><span class="hs-identifier hs-var">lookupGRE_Name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834097"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834096"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-831"></span><span>      </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834095"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834095"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe [ModuleName]
</span><a href="#local-6989586621680834094"><span class="hs-identifier hs-var">qualifier_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834095"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-832"></span><span>      </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-834"></span><span>    </span><span id="local-6989586621680834094"><span class="annot"><span class="annottext">qualifier_maybe :: GlobalRdrElt -&gt; Maybe [ModuleName]
</span><a href="#local-6989586621680834094"><span class="hs-identifier hs-var hs-var">qualifier_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834093"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834093"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834092"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834092"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834093"><span class="hs-identifier hs-var">lcl</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [ModuleName]
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-836"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ModuleName] -&gt; Maybe [ModuleName]
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">([ModuleName] -&gt; Maybe [ModuleName])
-&gt; [ModuleName] -&gt; Maybe [ModuleName]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; ModuleName) -&gt; [ImportSpec] -&gt; [ModuleName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpDeclSpec -&gt; ModuleName)
-&gt; (ImportSpec -&gt; ImpDeclSpec) -&gt; ImportSpec -&gt; ModuleName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834092"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isLocalGRE"><span class="hs-identifier hs-type">isLocalGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-839"></span><span id="isLocalGRE"><span class="annot"><span class="annottext">isLocalGRE :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isLocalGRE"><span class="hs-identifier hs-var hs-var">isLocalGRE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834091"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834091"><span class="hs-identifier hs-var">lcl</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834091"><span class="hs-identifier hs-var">lcl</span></a></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRecFldGRE"><span class="hs-identifier hs-type">isRecFldGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-842"></span><span id="isRecFldGRE"><span class="annot"><span class="annottext">isRecFldGRE :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRecFldGRE"><span class="hs-identifier hs-var hs-var">isRecFldGRE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-843"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isRecFldGRE"><span class="hs-identifier hs-var">isRecFldGRE</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOverloadedRecFldGRE"><span class="hs-identifier hs-type">isOverloadedRecFldGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-846"></span><span class="hs-comment">-- ^ Is this a record field defined with DuplicateRecordFields?</span><span>
</span><span id="line-847"></span><span class="hs-comment">-- (See Note [Parents for record fields])</span><span>
</span><span id="line-848"></span><span id="isOverloadedRecFldGRE"><span class="annot"><span class="annottext">isOverloadedRecFldGRE :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isOverloadedRecFldGRE"><span class="hs-identifier hs-var hs-var">isOverloadedRecFldGRE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">par_lbl :: Parent -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Reader.html#par_lbl"><span class="hs-identifier hs-var">par_lbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-849"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isOverloadedRecFldGRE"><span class="hs-identifier hs-var">isOverloadedRecFldGRE</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><span class="hs-identifier">_</span></span><span>                                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span class="hs-comment">-- Returns the field label of this GRE, if it has one</span><span>
</span><span id="line-852"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greLabel"><span class="hs-identifier hs-type">greLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.FieldLabel.html#FieldLabelString"><span class="hs-identifier hs-type">FieldLabelString</span></a></span><span>
</span><span id="line-853"></span><span id="greLabel"><span class="annot"><span class="annottext">greLabel :: GlobalRdrElt -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Reader.html#greLabel"><span class="hs-identifier hs-var hs-var">greLabel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">par_lbl :: Parent -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Reader.html#par_lbl"><span class="hs-identifier hs-var">par_lbl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834090"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834090"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Maybe FastString
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680834090"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-854"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greLabel"><span class="hs-identifier hs-var">greLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834089"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834089"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#FldParent"><span class="hs-identifier hs-type">FldParent</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Maybe FastString
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var hs-var">occNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834089"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#greLabel"><span class="hs-identifier hs-var">greLabel</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><span class="hs-identifier">_</span></span><span>                                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#unQualOK"><span class="hs-identifier hs-type">unQualOK</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-858"></span><span class="hs-comment">-- ^ Test if an unqualified version of this thing would be in scope</span><span>
</span><span id="line-859"></span><span id="unQualOK"><span class="annot"><span class="annottext">unQualOK :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#unQualOK"><span class="hs-identifier hs-var hs-var">unQualOK</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834088"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834088"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834087"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834087"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834088"><span class="hs-identifier hs-var">lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-861"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; Bool) -&gt; [ImportSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#unQualSpecOK"><span class="hs-identifier hs-var">unQualSpecOK</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834087"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span class="hs-comment">{- Note [GRE filtering]
~~~~~~~~~~~~~~~~~~~~~~~
(pickGREs rdr gres) takes a list of GREs which have the same OccName
as 'rdr', say &quot;x&quot;.  It does two things:

(a) filters the GREs to a subset that are in scope
    * Qualified,   as 'M.x'  if want_qual    is Qual M _
    * Unqualified, as 'x'    if want_unqual  is Unqual _

(b) for that subset, filter the provenance field (gre_lcl and gre_imp)
    to ones that brought it into scope qualified or unqualified resp.

Example:
      module A ( f ) where
      import qualified Foo( f )
      import Baz( f )
      f = undefined

Let's suppose that Foo.f and Baz.f are the same entity really, but the local
'f' is different, so there will be two GREs matching &quot;f&quot;:
   gre1:  gre_lcl = True,  gre_imp = []
   gre2:  gre_lcl = False, gre_imp = [ imported from Foo, imported from Bar ]

The use of &quot;f&quot; in the export list is ambiguous because it's in scope
from the local def and the import Baz(f); but *not* the import qualified Foo.
pickGREs returns two GRE
   gre1:   gre_lcl = True,  gre_imp = []
   gre2:   gre_lcl = False, gre_imp = [ imported from Bar ]

Now the &quot;ambiguous occurrence&quot; message can correctly report how the
ambiguity arises.
-}</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier hs-type">pickGREs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-897"></span><span class="hs-comment">-- ^ Takes a list of GREs which have the right OccName 'x'</span><span>
</span><span id="line-898"></span><span class="hs-comment">-- Pick those GREs that are in scope</span><span>
</span><span id="line-899"></span><span class="hs-comment">--    * Qualified,   as 'M.x'  if want_qual    is Qual M _</span><span>
</span><span id="line-900"></span><span class="hs-comment">--    * Unqualified, as 'x'    if want_unqual  is Unqual _</span><span>
</span><span id="line-901"></span><span class="hs-comment">--</span><span>
</span><span id="line-902"></span><span class="hs-comment">-- Return each such GRE, with its ImportSpecs filtered, to reflect</span><span>
</span><span id="line-903"></span><span class="hs-comment">-- how it is in scope qualified or unqualified respectively.</span><span>
</span><span id="line-904"></span><span class="hs-comment">-- See Note [GRE filtering]</span><span>
</span><span id="line-905"></span><span id="pickGREs"><span class="annot"><span class="annottext">pickGREs :: RdrName -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier hs-var hs-var">pickGREs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621680834086"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834086"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; Maybe GlobalRdrElt)
-&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickUnqualGRE"><span class="hs-identifier hs-var">pickUnqualGRE</span></a></span><span>     </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834086"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-906"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier hs-var">pickGREs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680834083"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834083"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680834082"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834082"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; Maybe GlobalRdrElt)
-&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickQualGRE"><span class="hs-identifier hs-var">pickQualGRE</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834083"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834082"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-907"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREs"><span class="hs-identifier hs-var">pickGREs</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span>            </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- I don't think this actually happens</span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickUnqualGRE"><span class="hs-identifier hs-type">pickUnqualGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-910"></span><span id="pickUnqualGRE"><span class="annot"><span class="annottext">pickUnqualGRE :: GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickUnqualGRE"><span class="hs-identifier hs-var hs-var">pickUnqualGRE</span></a></span></span><span> </span><span id="local-6989586621680834080"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834080"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834079"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834079"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834078"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834078"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-911"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834079"><span class="hs-identifier hs-var">lcl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ImportSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834075"><span class="hs-identifier hs-var">iss'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-912"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834080"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834075"><span class="hs-identifier hs-var">iss'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-913"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-914"></span><span>    </span><span id="local-6989586621680834075"><span class="annot"><span class="annottext">iss' :: [ImportSpec]
</span><a href="#local-6989586621680834075"><span class="hs-identifier hs-var hs-var">iss'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; Bool) -&gt; [ImportSpec] -&gt; [ImportSpec]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#unQualSpecOK"><span class="hs-identifier hs-var">unQualSpecOK</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834078"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-915"></span><span>
</span><span id="line-916"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickQualGRE"><span class="hs-identifier hs-type">pickQualGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-917"></span><span id="pickQualGRE"><span class="annot"><span class="annottext">pickQualGRE :: ModuleName -&gt; GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickQualGRE"><span class="hs-identifier hs-var hs-var">pickQualGRE</span></a></span></span><span> </span><span id="local-6989586621680834074"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834074"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834073"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834073"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834072"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834072"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834071"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834071"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834070"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834070"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834069"><span class="hs-identifier hs-var">lcl'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ImportSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834068"><span class="hs-identifier hs-var">iss'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834073"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834069"><span class="hs-identifier hs-var">lcl'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834068"><span class="hs-identifier hs-var">iss'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-920"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-921"></span><span>    </span><span id="local-6989586621680834068"><span class="annot"><span class="annottext">iss' :: [ImportSpec]
</span><a href="#local-6989586621680834068"><span class="hs-identifier hs-var hs-var">iss'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; Bool) -&gt; [ImportSpec] -&gt; [ImportSpec]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; ImportSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#qualSpecOK"><span class="hs-identifier hs-var">qualSpecOK</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834074"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834070"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-922"></span><span>    </span><span id="local-6989586621680834069"><span class="annot"><span class="annottext">lcl' :: Bool
</span><a href="#local-6989586621680834069"><span class="hs-identifier hs-var hs-var">lcl'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834071"><span class="hs-identifier hs-var">lcl</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; Name -&gt; Bool
</span><a href="#local-6989586621680834067"><span class="hs-identifier hs-var">name_is_from</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834074"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834072"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-923"></span><span>
</span><span id="line-924"></span><span>    </span><span class="annot"><a href="#local-6989586621680834067"><span class="hs-identifier hs-type">name_is_from</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-925"></span><span>    </span><span id="local-6989586621680834067"><span class="annot"><span class="annottext">name_is_from :: ModuleName -&gt; Name -&gt; Bool
</span><a href="#local-6989586621680834067"><span class="hs-identifier hs-var hs-var">name_is_from</span></a></span></span><span> </span><span id="local-6989586621680834066"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834066"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834065"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834065"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834065"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-926"></span><span>                              </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834064"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834064"><span class="hs-identifier hs-var">n_mod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834064"><span class="hs-identifier hs-var">n_mod</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834066"><span class="hs-identifier hs-var">mod</span></a></span><span>
</span><span id="line-927"></span><span>                              </span><span class="annot"><span class="annottext">Maybe Module
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-928"></span><span>
</span><span id="line-929"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickGREsModExp"><span class="hs-identifier hs-type">pickGREsModExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-930"></span><span class="hs-comment">-- ^ Pick GREs that are in scope *both* qualified *and* unqualified</span><span>
</span><span id="line-931"></span><span class="hs-comment">-- Return each GRE that is, as a pair</span><span>
</span><span id="line-932"></span><span class="hs-comment">--    (qual_gre, unqual_gre)</span><span>
</span><span id="line-933"></span><span class="hs-comment">-- These two GREs are the original GRE with imports filtered to express how</span><span>
</span><span id="line-934"></span><span class="hs-comment">-- it is in scope qualified an unqualified respectively</span><span>
</span><span id="line-935"></span><span class="hs-comment">--</span><span>
</span><span id="line-936"></span><span class="hs-comment">-- Used only for the 'module M' item in export list;</span><span>
</span><span id="line-937"></span><span class="hs-comment">--   see 'GHC.Tc.Gen.Export.exports_from_avail'</span><span>
</span><span id="line-938"></span><span id="pickGREsModExp"><span class="annot"><span class="annottext">pickGREsModExp :: ModuleName -&gt; [GlobalRdrElt] -&gt; [(GlobalRdrElt, GlobalRdrElt)]
</span><a href="GHC.Types.Name.Reader.html#pickGREsModExp"><span class="hs-identifier hs-var hs-var">pickGREsModExp</span></a></span></span><span> </span><span id="local-6989586621680834063"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834063"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834062"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834062"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; Maybe (GlobalRdrElt, GlobalRdrElt))
-&gt; [GlobalRdrElt] -&gt; [(GlobalRdrElt, GlobalRdrElt)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; GlobalRdrElt -&gt; Maybe (GlobalRdrElt, GlobalRdrElt)
</span><a href="GHC.Types.Name.Reader.html#pickBothGRE"><span class="hs-identifier hs-var">pickBothGRE</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834063"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834062"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pickBothGRE"><span class="hs-identifier hs-type">pickBothGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-941"></span><span id="pickBothGRE"><span class="annot"><span class="annottext">pickBothGRE :: ModuleName -&gt; GlobalRdrElt -&gt; Maybe (GlobalRdrElt, GlobalRdrElt)
</span><a href="GHC.Types.Name.Reader.html#pickBothGRE"><span class="hs-identifier hs-var hs-var">pickBothGRE</span></a></span></span><span> </span><span id="local-6989586621680834060"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834060"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680834059"><span class="annot"><span class="annottext">gre :: GlobalRdrElt
</span><a href="#local-6989586621680834059"><span class="hs-identifier hs-var">gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834058"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834058"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-942"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isBuiltInSyntax"><span class="hs-identifier hs-var">isBuiltInSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834058"><span class="hs-identifier hs-var">n</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (GlobalRdrElt, GlobalRdrElt)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834056"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834056"><span class="hs-identifier hs-var">gre1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickQualGRE"><span class="hs-identifier hs-var">pickQualGRE</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834060"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834059"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834055"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834055"><span class="hs-identifier hs-var">gre2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#pickUnqualGRE"><span class="hs-identifier hs-var">pickUnqualGRE</span></a></span><span>   </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834059"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt, GlobalRdrElt) -&gt; Maybe (GlobalRdrElt, GlobalRdrElt)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834056"><span class="hs-identifier hs-var">gre1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834055"><span class="hs-identifier hs-var">gre2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (GlobalRdrElt, GlobalRdrElt)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-947"></span><span>        </span><span class="hs-comment">-- isBuiltInSyntax filter out names for built-in syntax They</span><span>
</span><span id="line-948"></span><span>        </span><span class="hs-comment">-- just clutter up the environment (esp tuples), and the</span><span>
</span><span id="line-949"></span><span>        </span><span class="hs-comment">-- parser will generate Exact RdrNames for them, so the</span><span>
</span><span id="line-950"></span><span>        </span><span class="hs-comment">-- cluttered envt is no use.  Really, it's only useful for</span><span>
</span><span id="line-951"></span><span>        </span><span class="hs-comment">-- GHC.Base and GHC.Tuple.</span><span>
</span><span id="line-952"></span><span>
</span><span id="line-953"></span><span class="hs-comment">-- Building GlobalRdrEnvs</span><span>
</span><span id="line-954"></span><span>
</span><span id="line-955"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusGlobalRdrEnv"><span class="hs-identifier hs-type">plusGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-956"></span><span id="plusGlobalRdrEnv"><span class="annot"><span class="annottext">plusGlobalRdrEnv :: GlobalRdrEnv -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#plusGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">plusGlobalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834054"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834054"><span class="hs-identifier hs-var">env1</span></a></span></span><span> </span><span id="local-6989586621680834053"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834053"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; GlobalRdrEnv -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
forall a. (a -&gt; a -&gt; a) -&gt; OccEnv a -&gt; OccEnv a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#plusOccEnv_C"><span class="hs-identifier hs-var">plusOccEnv_C</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var">insertGRE</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834054"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834053"><span class="hs-identifier hs-var">env2</span></a></span><span>
</span><span id="line-957"></span><span>
</span><span id="line-958"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#mkGlobalRdrEnv"><span class="hs-identifier hs-type">mkGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-959"></span><span id="mkGlobalRdrEnv"><span class="annot"><span class="annottext">mkGlobalRdrEnv :: [GlobalRdrElt] -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#mkGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">mkGlobalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834049"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834049"><span class="hs-identifier hs-var">gres</span></a></span></span><span>
</span><span id="line-960"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv)
-&gt; GlobalRdrEnv -&gt; [GlobalRdrElt] -&gt; GlobalRdrEnv
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="#local-6989586621680834048"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#emptyGlobalRdrEnv"><span class="hs-identifier hs-var">emptyGlobalRdrEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834049"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-961"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-962"></span><span>    </span><span id="local-6989586621680834048"><span class="annot"><span class="annottext">add :: GlobalRdrElt -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="#local-6989586621680834048"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621680834047"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834047"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span id="local-6989586621680834046"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834046"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; (GlobalRdrElt -&gt; [GlobalRdrElt])
-&gt; GlobalRdrEnv
-&gt; OccName
-&gt; GlobalRdrElt
-&gt; GlobalRdrEnv
forall a b.
(a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; OccEnv b -&gt; OccName -&gt; a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv_Acc"><span class="hs-identifier hs-var">extendOccEnv_Acc</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var">insertGRE</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt]
forall a. a -&gt; [a]
</span><a href="GHC.Utils.Misc.html#singleton"><span class="hs-identifier hs-var">Utils.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834046"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-963"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-var">greOccName</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834047"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>                                   </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834047"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-965"></span><span>
</span><span id="line-966"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-type">insertGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-967"></span><span id="insertGRE"><span class="annot"><span class="annottext">insertGRE :: GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var hs-var">insertGRE</span></a></span></span><span> </span><span id="local-6989586621680834043"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834043"><span class="hs-identifier hs-var">new_g</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834043"><span class="hs-identifier hs-var">new_g</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-968"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var">insertGRE</span></a></span><span> </span><span id="local-6989586621680834042"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834042"><span class="hs-identifier hs-var">new_g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680834041"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834041"><span class="hs-identifier hs-var">old_g</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680834040"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834040"><span class="hs-identifier hs-var">old_gs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-969"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834042"><span class="hs-identifier hs-var">new_g</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834041"><span class="hs-identifier hs-var">old_g</span></a></span><span>
</span><span id="line-970"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834042"><span class="hs-identifier hs-var">new_g</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; GlobalRdrElt -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#plusGRE"><span class="hs-operator hs-var">`plusGRE`</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834041"><span class="hs-identifier hs-var">old_g</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834040"><span class="hs-identifier hs-var">old_gs</span></a></span><span>
</span><span id="line-971"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-972"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834041"><span class="hs-identifier hs-var">old_g</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var">insertGRE</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834042"><span class="hs-identifier hs-var">new_g</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834040"><span class="hs-identifier hs-var">old_gs</span></a></span><span>
</span><span id="line-973"></span><span>
</span><span id="line-974"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#plusGRE"><span class="hs-identifier hs-type">plusGRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-975"></span><span class="hs-comment">-- Used when the gre_name fields match</span><span>
</span><span id="line-976"></span><span id="plusGRE"><span class="annot"><span class="annottext">plusGRE :: GlobalRdrElt -&gt; GlobalRdrElt -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#plusGRE"><span class="hs-identifier hs-var hs-var">plusGRE</span></a></span></span><span> </span><span id="local-6989586621680834038"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834038"><span class="hs-identifier hs-var">g1</span></a></span></span><span> </span><span id="local-6989586621680834037"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834037"><span class="hs-identifier hs-var">g2</span></a></span></span><span>
</span><span id="line-977"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRE :: Name -&gt; Parent -&gt; Bool -&gt; [ImportSpec] -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var hs-var">gre_name</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834038"><span class="hs-identifier hs-var">g1</span></a></span><span>
</span><span id="line-978"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var hs-var">gre_lcl</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834038"><span class="hs-identifier hs-var">g1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var hs-var">gre_lcl</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834037"><span class="hs-identifier hs-var">g2</span></a></span><span>
</span><span id="line-979"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var hs-var">gre_imp</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834038"><span class="hs-identifier hs-var">g1</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec] -&gt; [ImportSpec] -&gt; [ImportSpec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var hs-var">gre_imp</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834037"><span class="hs-identifier hs-var">g2</span></a></span><span>
</span><span id="line-980"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_par :: Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var">gre_par</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span><span>  </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834038"><span class="hs-identifier hs-var">g1</span></a></span><span> </span><span class="annot"><span class="annottext">Parent -&gt; Parent -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#plusParent"><span class="hs-operator hs-var">`plusParent`</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#gre_par"><span class="hs-identifier hs-var hs-var">gre_par</span></a></span><span>  </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834037"><span class="hs-identifier hs-var">g2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#transformGREs"><span class="hs-identifier hs-type">transformGREs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-983"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-984"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-985"></span><span class="hs-comment">-- ^ Apply a transformation function to the GREs for these OccNames</span><span>
</span><span id="line-986"></span><span id="transformGREs"><span class="annot"><span class="annottext">transformGREs :: (GlobalRdrElt -&gt; GlobalRdrElt)
-&gt; [OccName] -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#transformGREs"><span class="hs-identifier hs-var hs-var">transformGREs</span></a></span></span><span> </span><span id="local-6989586621680834035"><span class="annot"><span class="annottext">GlobalRdrElt -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834035"><span class="hs-identifier hs-var">trans_gre</span></a></span></span><span> </span><span id="local-6989586621680834034"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621680834034"><span class="hs-identifier hs-var">occs</span></a></span></span><span> </span><span id="local-6989586621680834033"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834033"><span class="hs-identifier hs-var">rdr_env</span></a></span></span><span>
</span><span id="line-987"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv)
-&gt; GlobalRdrEnv -&gt; [OccName] -&gt; GlobalRdrEnv
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="#local-6989586621680834032"><span class="hs-identifier hs-var">trans</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834033"><span class="hs-identifier hs-var">rdr_env</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621680834034"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-988"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-989"></span><span>    </span><span id="local-6989586621680834032"><span class="annot"><span class="annottext">trans :: OccName -&gt; GlobalRdrEnv -&gt; GlobalRdrEnv
</span><a href="#local-6989586621680834032"><span class="hs-identifier hs-var hs-var">trans</span></a></span></span><span> </span><span id="local-6989586621680834031"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834031"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621680834030"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834030"><span class="hs-identifier hs-var">env</span></a></span></span><span>
</span><span id="line-990"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; OccName -&gt; Maybe [GlobalRdrElt]
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834030"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834031"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-991"></span><span>           </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834029"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834029"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; OccName -&gt; [GlobalRdrElt] -&gt; GlobalRdrEnv
forall a. OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-var">extendOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834030"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680834031"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; GlobalRdrElt) -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; GlobalRdrElt
</span><a href="#local-6989586621680834035"><span class="hs-identifier hs-var">trans_gre</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834029"><span class="hs-identifier hs-var">gres</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-992"></span><span>           </span><span class="annot"><span class="annottext">Maybe [GlobalRdrElt]
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834030"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-993"></span><span>
</span><span id="line-994"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#extendGlobalRdrEnv"><span class="hs-identifier hs-type">extendGlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-995"></span><span id="extendGlobalRdrEnv"><span class="annot"><span class="annottext">extendGlobalRdrEnv :: GlobalRdrEnv -&gt; GlobalRdrElt -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#extendGlobalRdrEnv"><span class="hs-identifier hs-var hs-var">extendGlobalRdrEnv</span></a></span></span><span> </span><span id="local-6989586621680834028"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834028"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834027"><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834027"><span class="hs-identifier hs-var">gre</span></a></span></span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; (GlobalRdrElt -&gt; [GlobalRdrElt])
-&gt; GlobalRdrEnv
-&gt; OccName
-&gt; GlobalRdrElt
-&gt; GlobalRdrEnv
forall a b.
(a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; OccEnv b -&gt; OccName -&gt; a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv_Acc"><span class="hs-identifier hs-var">extendOccEnv_Acc</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#insertGRE"><span class="hs-identifier hs-var">insertGRE</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt]
forall a. a -&gt; [a]
</span><a href="GHC.Utils.Misc.html#singleton"><span class="hs-identifier hs-var">Utils.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834028"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-997"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#greOccName"><span class="hs-identifier hs-var">greOccName</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834027"><span class="hs-identifier hs-var">gre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834027"><span class="hs-identifier hs-var">gre</span></a></span><span>
</span><span id="line-998"></span><span>
</span><span id="line-999"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#shadowNames"><span class="hs-identifier hs-type">shadowNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-1000"></span><span id="shadowNames"><span class="annot"><span class="annottext">shadowNames :: GlobalRdrEnv -&gt; [Name] -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#shadowNames"><span class="hs-identifier hs-var hs-var">shadowNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrEnv -&gt; Name -&gt; GlobalRdrEnv)
-&gt; GlobalRdrEnv -&gt; [Name] -&gt; GlobalRdrEnv
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv -&gt; Name -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#shadowName"><span class="hs-identifier hs-var">shadowName</span></a></span><span>
</span><span id="line-1001"></span><span>
</span><span id="line-1002"></span><span class="hs-comment">{- Note [GlobalRdrEnv shadowing]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Before adding new names to the GlobalRdrEnv we nuke some existing entries;
this is &quot;shadowing&quot;.  The actual work is done by RdrEnv.shadowName.
Suppose
   env' = shadowName env M.f

Then:
   * Looking up (Unqual f) in env' should succeed, returning M.f,
     even if env contains existing unqualified bindings for f.
     They are shadowed

   * Looking up (Qual M.f) in env' should succeed, returning M.f

   * Looking up (Qual X.f) in env', where X /= M, should be the same as
     looking up (Qual X.f) in env.
     That is, shadowName does /not/ delete earlier qualified bindings

There are two reasons for shadowing:

* The GHCi REPL

  - Ids bought into scope on the command line (eg let x = True) have
    External Names, like Ghci4.x.  We want a new binding for 'x' (say)
    to override the existing binding for 'x'.  Example:

           ghci&gt; :load M    -- Brings `x` and `M.x` into scope
           ghci&gt; x
           ghci&gt; &quot;Hello&quot;
           ghci&gt; M.x
           ghci&gt; &quot;hello&quot;
           ghci&gt; let x = True  -- Shadows `x`
           ghci&gt; x             -- The locally bound `x`
                               -- NOT an ambiguous reference
           ghci&gt; True
           ghci&gt; M.x           -- M.x is still in scope!
           ghci&gt; &quot;Hello&quot;
    So when we add `x = True` we must not delete the `M.x` from the
    `GlobalRdrEnv`; rather we just want to make it &quot;qualified only&quot;;
    hence the `mk_fake-imp_spec` in `shadowName`.  See also Note
    [Interactively-bound Ids in GHCi] in GHC.Driver.Types

  - Data types also have External Names, like Ghci4.T; but we still want
    'T' to mean the newly-declared 'T', not an old one.

* Nested Template Haskell declaration brackets
  See Note [Top-level Names in Template Haskell decl quotes] in GHC.Rename.Names

  Consider a TH decl quote:
      module M where
        f x = h [d| f = ...f...M.f... |]
  We must shadow the outer unqualified binding of 'f', else we'll get
  a complaint when extending the GlobalRdrEnv, saying that there are
  two bindings for 'f'.  There are several tricky points:

    - This shadowing applies even if the binding for 'f' is in a
      where-clause, and hence is in the *local* RdrEnv not the *global*
      RdrEnv.  This is done in lcl_env_TH in extendGlobalRdrEnvRn.

    - The External Name M.f from the enclosing module must certainly
      still be available.  So we don't nuke it entirely; we just make
      it seem like qualified import.

    - We only shadow *External* names (which come from the main module),
      or from earlier GHCi commands. Do not shadow *Internal* names
      because in the bracket
          [d| class C a where f :: a
              f = 4 |]
      rnSrcDecls will first call extendGlobalRdrEnvRn with C[f] from the
      class decl, and *separately* extend the envt with the value binding.
      At that stage, the class op 'f' will have an Internal name.
-}</span><span>
</span><span id="line-1074"></span><span>
</span><span id="line-1075"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#shadowName"><span class="hs-identifier hs-type">shadowName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrEnv"><span class="hs-identifier hs-type">GlobalRdrEnv</span></a></span><span>
</span><span id="line-1076"></span><span class="hs-comment">-- Remove certain old GREs that share the same OccName as this new Name.</span><span>
</span><span id="line-1077"></span><span class="hs-comment">-- See Note [GlobalRdrEnv shadowing] for details</span><span>
</span><span id="line-1078"></span><span id="shadowName"><span class="annot"><span class="annottext">shadowName :: GlobalRdrEnv -&gt; Name -&gt; GlobalRdrEnv
</span><a href="GHC.Types.Name.Reader.html#shadowName"><span class="hs-identifier hs-var hs-var">shadowName</span></a></span></span><span> </span><span id="local-6989586621680834025"><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834025"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680834024"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834024"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-1079"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe [GlobalRdrElt] -&gt; Maybe [GlobalRdrElt])
-&gt; GlobalRdrEnv -&gt; OccName -&gt; GlobalRdrEnv
forall elt.
(Maybe elt -&gt; Maybe elt) -&gt; OccEnv elt -&gt; OccName -&gt; OccEnv elt
</span><a href="GHC.Types.Name.Occurrence.html#alterOccEnv"><span class="hs-identifier hs-var">alterOccEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([GlobalRdrElt] -&gt; [GlobalRdrElt])
-&gt; Maybe [GlobalRdrElt] -&gt; Maybe [GlobalRdrElt]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="#local-6989586621680834022"><span class="hs-identifier hs-var">alter_fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlobalRdrEnv
</span><a href="#local-6989586621680834025"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834024"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1081"></span><span>    </span><span class="annot"><a href="#local-6989586621680834022"><span class="hs-identifier hs-type">alter_fn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1082"></span><span>    </span><span id="local-6989586621680834022"><span class="annot"><span class="annottext">alter_fn :: [GlobalRdrElt] -&gt; [GlobalRdrElt]
</span><a href="#local-6989586621680834022"><span class="hs-identifier hs-var hs-var">alter_fn</span></a></span></span><span> </span><span id="local-6989586621680834021"><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834021"><span class="hs-identifier hs-var">gres</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalRdrElt -&gt; Maybe GlobalRdrElt)
-&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="#local-6989586621680834020"><span class="hs-identifier hs-var">shadow_with</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834024"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobalRdrElt]
</span><a href="#local-6989586621680834021"><span class="hs-identifier hs-var">gres</span></a></span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span>    </span><span class="annot"><a href="#local-6989586621680834020"><span class="hs-identifier hs-type">shadow_with</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-1085"></span><span>    </span><span id="local-6989586621680834020"><span class="annot"><span class="annottext">shadow_with :: Name -&gt; GlobalRdrElt -&gt; Maybe GlobalRdrElt
</span><a href="#local-6989586621680834020"><span class="hs-identifier hs-var hs-var">shadow_with</span></a></span></span><span> </span><span id="local-6989586621680834019"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834019"><span class="hs-identifier hs-var">new_name</span></a></span></span><span>
</span><span id="line-1086"></span><span>       </span><span id="local-6989586621680834018"><span class="annot"><span class="annottext">old_gre :: GlobalRdrElt
</span><a href="#local-6989586621680834018"><span class="hs-identifier hs-var">old_gre</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834017"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834017"><span class="hs-identifier hs-var">old_name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834016"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834016"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680834015"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834015"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1087"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834017"><span class="hs-identifier hs-var">old_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1088"></span><span>           </span><span class="annot"><span class="annottext">Maybe Module
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834018"><span class="hs-identifier hs-var">old_gre</span></a></span><span>   </span><span class="hs-comment">-- Old name is Internal; do not shadow</span><span>
</span><span id="line-1089"></span><span>           </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834014"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834014"><span class="hs-identifier hs-var">old_mod</span></a></span></span><span>
</span><span id="line-1090"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680834013"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834013"><span class="hs-identifier hs-var">new_mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834019"><span class="hs-identifier hs-var">new_name</span></a></span><span>
</span><span id="line-1091"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834013"><span class="hs-identifier hs-var">new_mod</span></a></span><span> </span><span class="annot"><span class="annottext">Module -&gt; Module -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834014"><span class="hs-identifier hs-var">old_mod</span></a></span><span>   </span><span class="hs-comment">-- Old name same as new name; shadow completely</span><span>
</span><span id="line-1092"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1093"></span><span>
</span><span id="line-1094"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[ImportSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834012"><span class="hs-identifier hs-var">iss'</span></a></span><span>            </span><span class="hs-comment">-- Nothing remains</span><span>
</span><span id="line-1095"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe GlobalRdrElt
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1096"></span><span>
</span><span id="line-1097"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-1098"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; Maybe GlobalRdrElt
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GlobalRdrElt
</span><a href="#local-6989586621680834018"><span class="hs-identifier hs-var">old_gre</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834012"><span class="hs-identifier hs-var">iss'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span>
</span><span id="line-1100"></span><span>              </span><span class="hs-keyword">where</span><span>
</span><span id="line-1101"></span><span>                </span><span id="local-6989586621680834012"><span class="annot"><span class="annottext">iss' :: [ImportSpec]
</span><a href="#local-6989586621680834012"><span class="hs-identifier hs-var hs-var">iss'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834011"><span class="hs-identifier hs-var">lcl_imp</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec] -&gt; [ImportSpec] -&gt; [ImportSpec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; Maybe ImportSpec) -&gt; [ImportSpec] -&gt; [ImportSpec]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/Data.Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ImportSpec -&gt; Maybe ImportSpec
</span><a href="#local-6989586621680834010"><span class="hs-identifier hs-var">shadow_is</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834019"><span class="hs-identifier hs-var">new_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680834015"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-1102"></span><span>                </span><span id="local-6989586621680834011"><span class="annot"><span class="annottext">lcl_imp :: [ImportSpec]
</span><a href="#local-6989586621680834011"><span class="hs-identifier hs-var hs-var">lcl_imp</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680834016"><span class="hs-identifier hs-var">lcl</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Module -&gt; ImportSpec
forall {unit}. Name -&gt; GenModule unit -&gt; ImportSpec
</span><a href="#local-6989586621680834009"><span class="hs-identifier hs-var">mk_fake_imp_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834017"><span class="hs-identifier hs-var">old_name</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680834014"><span class="hs-identifier hs-var">old_mod</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1103"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1104"></span><span>
</span><span id="line-1105"></span><span>    </span><span id="local-6989586621680834009"><span class="annot"><span class="annottext">mk_fake_imp_spec :: Name -&gt; GenModule unit -&gt; ImportSpec
</span><a href="#local-6989586621680834009"><span class="hs-identifier hs-var hs-var">mk_fake_imp_spec</span></a></span></span><span> </span><span id="local-6989586621680834008"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834008"><span class="hs-identifier hs-var">old_name</span></a></span></span><span> </span><span id="local-6989586621680834007"><span class="annot"><span class="annottext">GenModule unit
</span><a href="#local-6989586621680834007"><span class="hs-identifier hs-var">old_mod</span></a></span></span><span>    </span><span class="hs-comment">-- Urgh!</span><span>
</span><span id="line-1106"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ImpItemSpec -&gt; ImportSpec
</span><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-var">ImpSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680834005"><span class="hs-identifier hs-var">id_spec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span>
</span><span id="line-1107"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1108"></span><span>        </span><span id="local-6989586621680834003"><span class="annot"><span class="annottext">old_mod_name :: ModuleName
</span><a href="#local-6989586621680834003"><span class="hs-identifier hs-var hs-var">old_mod_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenModule unit -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">GenModule unit
</span><a href="#local-6989586621680834007"><span class="hs-identifier hs-var">old_mod</span></a></span><span>
</span><span id="line-1109"></span><span>        </span><span id="local-6989586621680834005"><span class="annot"><span class="annottext">id_spec :: ImpDeclSpec
</span><a href="#local-6989586621680834005"><span class="hs-identifier hs-var hs-var">id_spec</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec :: ModuleName -&gt; ModuleName -&gt; Bool -&gt; SrcSpan -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#ImpDeclSpec"><span class="hs-identifier hs-type">ImpDeclSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_mod :: ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_mod"><span class="hs-identifier hs-var">is_mod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834003"><span class="hs-identifier hs-var">old_mod_name</span></a></span><span>
</span><span id="line-1110"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_as :: ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var">is_as</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680834003"><span class="hs-identifier hs-var">old_mod_name</span></a></span><span>
</span><span id="line-1111"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_qual :: Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var">is_qual</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1112"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_dloc :: SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var">is_dloc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834008"><span class="hs-identifier hs-var">old_name</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span>    </span><span class="annot"><a href="#local-6989586621680834010"><span class="hs-identifier hs-type">shadow_is</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span>
</span><span id="line-1115"></span><span>    </span><span id="local-6989586621680834010"><span class="annot"><span class="annottext">shadow_is :: Name -&gt; ImportSpec -&gt; Maybe ImportSpec
</span><a href="#local-6989586621680834010"><span class="hs-identifier hs-var hs-var">shadow_is</span></a></span></span><span> </span><span id="local-6989586621680834000"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834000"><span class="hs-identifier hs-var">new_name</span></a></span></span><span> </span><span id="local-6989586621680833999"><span class="annot"><span class="annottext">is :: ImportSpec
</span><a href="#local-6989586621680833999"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-type">ImpSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_decl :: ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var">is_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833998"><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833998"><span class="hs-identifier hs-var">id_spec</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1116"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680833997"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680833997"><span class="hs-identifier hs-var">new_mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680834000"><span class="hs-identifier hs-var">new_name</span></a></span><span>
</span><span id="line-1117"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833998"><span class="hs-identifier hs-var">id_spec</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680833997"><span class="hs-identifier hs-var">new_mod</span></a></span><span>
</span><span id="line-1118"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ImportSpec
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-comment">-- Shadow both qualified and unqualified</span><span>
</span><span id="line-1119"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-comment">-- Shadow unqualified only</span><span>
</span><span id="line-1120"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; Maybe ImportSpec
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833999"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_decl :: ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var">is_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833998"><span class="hs-identifier hs-var">id_spec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_qual :: Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var">is_qual</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span>
</span><span id="line-1123"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                        ImportSpec
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span class="hs-comment">-- | Import Specification</span><span>
</span><span id="line-1132"></span><span class="hs-comment">--</span><span>
</span><span id="line-1133"></span><span class="hs-comment">-- The 'ImportSpec' of something says how it came to be imported</span><span>
</span><span id="line-1134"></span><span class="hs-comment">-- It's quite elaborate so that we can give accurate unused-name warnings.</span><span>
</span><span id="line-1135"></span><span class="hs-keyword">data</span><span> </span><span id="ImportSpec"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-var">ImportSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpSpec"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-var">ImpSpec</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="is_decl"><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpDeclSpec"><span class="hs-identifier hs-type">ImpDeclSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1136"></span><span>                            </span><span id="is_item"><span class="annot"><span class="annottext">ImportSpec -&gt; ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#is_item"><span class="hs-identifier hs-var hs-var">is_item</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier hs-type">ImpItemSpec</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1137"></span><span>                </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span id="local-6989586621680833990"><span id="local-6989586621680833994"><span class="annot"><span class="annottext">ImportSpec -&gt; ImportSpec -&gt; Bool
(ImportSpec -&gt; ImportSpec -&gt; Bool)
-&gt; (ImportSpec -&gt; ImportSpec -&gt; Bool) -&gt; Eq ImportSpec
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ImportSpec -&gt; ImportSpec -&gt; Bool
$c/= :: ImportSpec -&gt; ImportSpec -&gt; Bool
== :: ImportSpec -&gt; ImportSpec -&gt; Bool
$c== :: ImportSpec -&gt; ImportSpec -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680833956"><span id="local-6989586621680833958"><span id="local-6989586621680833960"><span id="local-6989586621680833962"><span id="local-6989586621680833964"><span id="local-6989586621680833966"><span id="local-6989586621680833968"><span id="local-6989586621680833970"><span id="local-6989586621680833972"><span id="local-6989586621680833974"><span id="local-6989586621680833976"><span id="local-6989586621680833978"><span id="local-6989586621680833982"><span id="local-6989586621680833986"><span class="annot"><span class="annottext">Typeable ImportSpec
Typeable ImportSpec
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; ImportSpec -&gt; c ImportSpec)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImportSpec)
-&gt; (ImportSpec -&gt; Constr)
-&gt; (ImportSpec -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImportSpec))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c ImportSpec))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; ImportSpec -&gt; ImportSpec)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec)
-&gt; Data ImportSpec
ImportSpec -&gt; DataType
ImportSpec -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; ImportSpec -&gt; ImportSpec
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImportSpec
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImportSpec -&gt; c ImportSpec
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImportSpec)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ImportSpec)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImportSpec -&gt; m ImportSpec
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImportSpec -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImportSpec -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImportSpec -&gt; ImportSpec
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImportSpec -&gt; ImportSpec
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ImportSpec)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c ImportSpec)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImportSpec)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImportSpec)
dataTypeOf :: ImportSpec -&gt; DataType
$cdataTypeOf :: ImportSpec -&gt; DataType
toConstr :: ImportSpec -&gt; Constr
$ctoConstr :: ImportSpec -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImportSpec
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImportSpec
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImportSpec -&gt; c ImportSpec
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImportSpec -&gt; c ImportSpec
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span class="hs-comment">-- | Import Declaration Specification</span><span>
</span><span id="line-1140"></span><span class="hs-comment">--</span><span>
</span><span id="line-1141"></span><span class="hs-comment">-- Describes a particular import declaration and is</span><span>
</span><span id="line-1142"></span><span class="hs-comment">-- shared among all the 'Provenance's for that decl</span><span>
</span><span id="line-1143"></span><span class="hs-keyword">data</span><span> </span><span id="ImpDeclSpec"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpDeclSpec"><span class="hs-identifier hs-var">ImpDeclSpec</span></a></span></span><span>
</span><span id="line-1144"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ImpDeclSpec"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpDeclSpec"><span class="hs-identifier hs-var">ImpDeclSpec</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1145"></span><span>        </span><span id="is_mod"><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_mod"><span class="hs-identifier hs-var hs-var">is_mod</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ Module imported, e.g. @import Muggle@</span><span>
</span><span id="line-1146"></span><span>                                   </span><span class="hs-comment">-- Note the @Muggle@ may well not be</span><span>
</span><span id="line-1147"></span><span>                                   </span><span class="hs-comment">-- the defining module for this thing!</span><span>
</span><span id="line-1148"></span><span>
</span><span id="line-1149"></span><span>                                   </span><span class="hs-comment">-- TODO: either should be Module, or there</span><span>
</span><span id="line-1150"></span><span>                                   </span><span class="hs-comment">-- should be a Maybe UnitId here too.</span><span>
</span><span id="line-1151"></span><span>        </span><span id="is_as"><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ Import alias, e.g. from @as M@ (or @Muggle@ if there is no @as@ clause)</span><span>
</span><span id="line-1152"></span><span>        </span><span id="is_qual"><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- ^ Was this import qualified?</span><span>
</span><span id="line-1153"></span><span>        </span><span id="is_dloc"><span class="annot"><span class="annottext">ImpDeclSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var hs-var">is_dloc</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>     </span><span class="hs-comment">-- ^ The location of the entire import declaration</span><span>
</span><span id="line-1154"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680833947"><span id="local-6989586621680833954"><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool
(ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool)
-&gt; (ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool) -&gt; Eq ImpDeclSpec
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool
$c/= :: ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool
== :: ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool
$c== :: ImpDeclSpec -&gt; ImpDeclSpec -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680833908"><span id="local-6989586621680833910"><span id="local-6989586621680833912"><span id="local-6989586621680833914"><span id="local-6989586621680833916"><span id="local-6989586621680833918"><span id="local-6989586621680833920"><span id="local-6989586621680833922"><span id="local-6989586621680833924"><span id="local-6989586621680833926"><span id="local-6989586621680833928"><span id="local-6989586621680833930"><span id="local-6989586621680833936"><span id="local-6989586621680833943"><span class="annot"><span class="annottext">Typeable ImpDeclSpec
Typeable ImpDeclSpec
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; ImpDeclSpec -&gt; c ImpDeclSpec)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpDeclSpec)
-&gt; (ImpDeclSpec -&gt; Constr)
-&gt; (ImpDeclSpec -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpDeclSpec))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c ImpDeclSpec))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; ImpDeclSpec -&gt; ImpDeclSpec)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec)
-&gt; Data ImpDeclSpec
ImpDeclSpec -&gt; DataType
ImpDeclSpec -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; ImpDeclSpec -&gt; ImpDeclSpec
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpDeclSpec
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpDeclSpec -&gt; c ImpDeclSpec
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpDeclSpec)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpDeclSpec)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpDeclSpec -&gt; m ImpDeclSpec
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpDeclSpec -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpDeclSpec -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImpDeclSpec -&gt; ImpDeclSpec
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImpDeclSpec -&gt; ImpDeclSpec
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpDeclSpec)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpDeclSpec)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpDeclSpec)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpDeclSpec)
dataTypeOf :: ImpDeclSpec -&gt; DataType
$cdataTypeOf :: ImpDeclSpec -&gt; DataType
toConstr :: ImpDeclSpec -&gt; Constr
$ctoConstr :: ImpDeclSpec -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpDeclSpec
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpDeclSpec
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpDeclSpec -&gt; c ImpDeclSpec
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpDeclSpec -&gt; c ImpDeclSpec
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1155"></span><span>
</span><span id="line-1156"></span><span class="hs-comment">-- | Import Item Specification</span><span>
</span><span id="line-1157"></span><span class="hs-comment">--</span><span>
</span><span id="line-1158"></span><span class="hs-comment">-- Describes import info a particular Name</span><span>
</span><span id="line-1159"></span><span class="hs-keyword">data</span><span> </span><span id="ImpItemSpec"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier hs-var">ImpItemSpec</span></a></span></span><span>
</span><span id="line-1160"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ImpAll"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span></span><span>              </span><span class="hs-comment">-- ^ The import had no import list,</span><span>
</span><span id="line-1161"></span><span>                        </span><span class="hs-comment">-- or had a hiding list</span><span>
</span><span id="line-1162"></span><span>
</span><span id="line-1163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ImpSome"><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-var">ImpSome</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1164"></span><span>        </span><span id="is_explicit"><span class="annot"><span class="annottext">ImpItemSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_explicit"><span class="hs-identifier hs-var hs-var">is_explicit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-1165"></span><span>        </span><span id="is_iloc"><span class="annot"><span class="annottext">ImpItemSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_iloc"><span class="hs-identifier hs-var hs-var">is_iloc</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>  </span><span class="hs-comment">-- Location of the import item</span><span>
</span><span id="line-1166"></span><span>    </span><span class="hs-special">}</span><span>   </span><span class="hs-comment">-- ^ The import had an import list.</span><span>
</span><span id="line-1167"></span><span>        </span><span class="hs-comment">-- The 'is_explicit' field is @True@ iff the thing was named</span><span>
</span><span id="line-1168"></span><span>        </span><span class="hs-comment">-- /explicitly/ in the import specs rather</span><span>
</span><span id="line-1169"></span><span>        </span><span class="hs-comment">-- than being imported as part of a &quot;...&quot; group. Consider:</span><span>
</span><span id="line-1170"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1171"></span><span>        </span><span class="hs-comment">-- &gt; import C( T(..) )</span><span>
</span><span id="line-1172"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1173"></span><span>        </span><span class="hs-comment">-- Here the constructors of @T@ are not named explicitly;</span><span>
</span><span id="line-1174"></span><span>        </span><span class="hs-comment">-- only @T@ is named explicitly.</span><span>
</span><span id="line-1175"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680833899"><span id="local-6989586621680833903"><span class="annot"><span class="annottext">ImpItemSpec -&gt; ImpItemSpec -&gt; Bool
(ImpItemSpec -&gt; ImpItemSpec -&gt; Bool)
-&gt; (ImpItemSpec -&gt; ImpItemSpec -&gt; Bool) -&gt; Eq ImpItemSpec
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ImpItemSpec -&gt; ImpItemSpec -&gt; Bool
$c/= :: ImpItemSpec -&gt; ImpItemSpec -&gt; Bool
== :: ImpItemSpec -&gt; ImpItemSpec -&gt; Bool
$c== :: ImpItemSpec -&gt; ImpItemSpec -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680833865"><span id="local-6989586621680833867"><span id="local-6989586621680833869"><span id="local-6989586621680833871"><span id="local-6989586621680833873"><span id="local-6989586621680833875"><span id="local-6989586621680833877"><span id="local-6989586621680833879"><span id="local-6989586621680833881"><span id="local-6989586621680833883"><span id="local-6989586621680833885"><span id="local-6989586621680833887"><span id="local-6989586621680833891"><span id="local-6989586621680833895"><span class="annot"><span class="annottext">Typeable ImpItemSpec
Typeable ImpItemSpec
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; ImpItemSpec -&gt; c ImpItemSpec)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpItemSpec)
-&gt; (ImpItemSpec -&gt; Constr)
-&gt; (ImpItemSpec -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpItemSpec))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c ImpItemSpec))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; ImpItemSpec -&gt; ImpItemSpec)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec)
-&gt; Data ImpItemSpec
ImpItemSpec -&gt; DataType
ImpItemSpec -&gt; Constr
(forall b. Data b =&gt; b -&gt; b) -&gt; ImpItemSpec -&gt; ImpItemSpec
forall a.
Typeable a
-&gt; (forall (c :: * -&gt; *).
    (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
    -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; [u]
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpItemSpec
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpItemSpec -&gt; c ImpItemSpec
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpItemSpec)
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpItemSpec)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
$cgmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
$cgmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
$cgmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d) -&gt; ImpItemSpec -&gt; m ImpItemSpec
gmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; u
$cgmapQi :: forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; u
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; [u]
$cgmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; ImpItemSpec -&gt; [u]
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
$cgmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
$cgmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; ImpItemSpec -&gt; r
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImpItemSpec -&gt; ImpItemSpec
$cgmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; ImpItemSpec -&gt; ImpItemSpec
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpItemSpec)
$cdataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c ImpItemSpec)
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpItemSpec)
$cdataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c ImpItemSpec)
dataTypeOf :: ImpItemSpec -&gt; DataType
$cdataTypeOf :: ImpItemSpec -&gt; DataType
toConstr :: ImpItemSpec -&gt; Constr
$ctoConstr :: ImpItemSpec -&gt; Constr
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpItemSpec
$cgunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c ImpItemSpec
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpItemSpec -&gt; c ImpItemSpec
$cgfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; ImpItemSpec -&gt; c ImpItemSpec
</span><a href="../../base/src/Data.Data.html#Data"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1176"></span><span>
</span><span id="line-1177"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#bestImport"><span class="hs-identifier hs-type">bestImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span>
</span><span id="line-1178"></span><span class="hs-comment">-- See Note [Choosing the best import declaration]</span><span>
</span><span id="line-1179"></span><span id="bestImport"><span class="annot"><span class="annottext">bestImport :: [ImportSpec] -&gt; ImportSpec
</span><a href="GHC.Types.Name.Reader.html#bestImport"><span class="hs-identifier hs-var hs-var">bestImport</span></a></span></span><span> </span><span id="local-6989586621680833864"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680833864"><span class="hs-identifier hs-var">iss</span></a></span></span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; ImportSpec -&gt; Ordering)
-&gt; [ImportSpec] -&gt; [ImportSpec]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/Data.OldList.html#sortBy"><span class="hs-identifier hs-var">sortBy</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; ImportSpec -&gt; Ordering
</span><a href="#local-6989586621680833863"><span class="hs-identifier hs-var">best</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680833864"><span class="hs-identifier hs-var">iss</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1181"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680833862"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833862"><span class="hs-identifier hs-var">is</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[ImportSpec]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833862"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-1182"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; ImportSpec
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bestImport&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ImportSpec] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680833864"><span class="hs-identifier hs-var">iss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1183"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1184"></span><span>    </span><span class="annot"><a href="#local-6989586621680833863"><span class="hs-identifier hs-type">best</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span>
</span><span id="line-1185"></span><span>    </span><span class="hs-comment">-- Less means better</span><span>
</span><span id="line-1186"></span><span>    </span><span class="hs-comment">-- Unqualified always wins over qualified; then</span><span>
</span><span id="line-1187"></span><span>    </span><span class="hs-comment">-- import-all wins over import-some; then</span><span>
</span><span id="line-1188"></span><span>    </span><span class="hs-comment">-- earlier declaration wins over later</span><span>
</span><span id="line-1189"></span><span>    </span><span id="local-6989586621680833863"><span class="annot"><span class="annottext">best :: ImportSpec -&gt; ImportSpec -&gt; Ordering
</span><a href="#local-6989586621680833863"><span class="hs-identifier hs-var hs-var">best</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-type">ImpSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_item :: ImportSpec -&gt; ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#is_item"><span class="hs-identifier hs-var">is_item</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833861"><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833861"><span class="hs-identifier hs-var">item1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_decl :: ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var">is_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833860"><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833860"><span class="hs-identifier hs-var">d1</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1190"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-type">ImpSpec</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_item :: ImportSpec -&gt; ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#is_item"><span class="hs-identifier hs-var">is_item</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833859"><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833859"><span class="hs-identifier hs-var">item2</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">is_decl :: ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var">is_decl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833858"><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833858"><span class="hs-identifier hs-var">d2</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1191"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833860"><span class="hs-identifier hs-var">d1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833858"><span class="hs-identifier hs-var">d2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
</span><a href="GHC.Utils.Misc.html#thenCmp"><span class="hs-operator hs-var">`thenCmp`</span></a></span><span>
</span><span id="line-1192"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpItemSpec -&gt; ImpItemSpec -&gt; Ordering
</span><a href="#local-6989586621680833857"><span class="hs-identifier hs-var">best_item</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833861"><span class="hs-identifier hs-var">item1</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833859"><span class="hs-identifier hs-var">item2</span></a></span><span class="hs-special">)</span><span>           </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
</span><a href="GHC.Utils.Misc.html#thenCmp"><span class="hs-operator hs-var">`thenCmp`</span></a></span><span>
</span><span id="line-1193"></span><span>        </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; Ordering
</span><a href="GHC.Types.SrcLoc.html#leftmost_smallest"><span class="hs-identifier hs-var">SrcLoc.leftmost_smallest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var hs-var">is_dloc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833860"><span class="hs-identifier hs-var">d1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var hs-var">is_dloc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833858"><span class="hs-identifier hs-var">d2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1194"></span><span>
</span><span id="line-1195"></span><span>    </span><span class="annot"><a href="#local-6989586621680833857"><span class="hs-identifier hs-type">best_item</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier hs-type">ImpItemSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier hs-type">ImpItemSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span>
</span><span id="line-1196"></span><span>    </span><span id="local-6989586621680833857"><span class="annot"><span class="annottext">best_item :: ImpItemSpec -&gt; ImpItemSpec -&gt; Ordering
</span><a href="#local-6989586621680833857"><span class="hs-identifier hs-var hs-var">best_item</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-1197"></span><span>    </span><span class="annot"><a href="#local-6989586621680833857"><span class="hs-identifier hs-var">best_item</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-type">ImpSome</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-1198"></span><span>    </span><span class="annot"><a href="#local-6989586621680833857"><span class="hs-identifier hs-var">best_item</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-type">ImpSome</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-1199"></span><span>    </span><span class="annot"><a href="#local-6989586621680833857"><span class="hs-identifier hs-var">best_item</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-type">ImpSome</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_explicit :: ImpItemSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_explicit"><span class="hs-identifier hs-var">is_explicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833855"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833855"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1200"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-type">ImpSome</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">is_explicit :: ImpItemSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_explicit"><span class="hs-identifier hs-var">is_explicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833854"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833854"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833855"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833854"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1201"></span><span>     </span><span class="hs-comment">-- False &lt; True, so if e1 is explicit and e2 is not, we get GT</span><span>
</span><span id="line-1202"></span><span>
</span><span id="line-1203"></span><span class="hs-comment">{- Note [Choosing the best import declaration]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
When reporting unused import declarations we use the following rules.
   (see [wiki:commentary/compiler/unused-imports])

Say that an import-item is either
  * an entire import-all decl (eg import Foo), or
  * a particular item in an import list (eg import Foo( ..., x, ...)).
The general idea is that for each /occurrence/ of an imported name, we will
attribute that use to one import-item. Once we have processed all the
occurrences, any import items with no uses attributed to them are unused,
and are warned about. More precisely:

1. For every RdrName in the program text, find its GlobalRdrElt.

2. Then, from the [ImportSpec] (gre_imp) of that GRE, choose one
   the &quot;chosen import-item&quot;, and mark it &quot;used&quot;. This is done
   by 'bestImport'

3. After processing all the RdrNames, bleat about any
   import-items that are unused.
   This is done in GHC.Rename.Names.warnUnusedImportDecls.

The function 'bestImport' returns the dominant import among the
ImportSpecs it is given, implementing Step 2.  We say import-item A
dominates import-item B if we choose A over B. In general, we try to
choose the import that is most likely to render other imports
unnecessary.  Here is the dominance relationship we choose:

    a) import Foo dominates import qualified Foo.

    b) import Foo dominates import Foo(x).

    c) Otherwise choose the textually first one.

Rationale for (a).  Consider
   import qualified M  -- Import #1
   import M( x )       -- Import #2
   foo = M.x + x

The unqualified 'x' can only come from import #2.  The qualified 'M.x'
could come from either, but bestImport picks import #2, because it is
more likely to be useful in other imports, as indeed it is in this
case (see #5211 for a concrete example).

But the rules are not perfect; consider
   import qualified M  -- Import #1
   import M( x )       -- Import #2
   foo = M.x + M.y

The M.x will use import #2, but M.y can only use import #1.
-}</span><span>
</span><span id="line-1255"></span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#unQualSpecOK"><span class="hs-identifier hs-type">unQualSpecOK</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1258"></span><span class="hs-comment">-- ^ Is in scope unqualified?</span><span>
</span><span id="line-1259"></span><span id="unQualSpecOK"><span class="annot"><span class="annottext">unQualSpecOK :: ImportSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#unQualSpecOK"><span class="hs-identifier hs-var hs-var">unQualSpecOK</span></a></span></span><span> </span><span id="local-6989586621680833853"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833853"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833853"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#qualSpecOK"><span class="hs-identifier hs-type">qualSpecOK</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1262"></span><span class="hs-comment">-- ^ Is in scope qualified with the given module?</span><span>
</span><span id="line-1263"></span><span id="qualSpecOK"><span class="annot"><span class="annottext">qualSpecOK :: ModuleName -&gt; ImportSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#qualSpecOK"><span class="hs-identifier hs-var hs-var">qualSpecOK</span></a></span></span><span> </span><span id="local-6989586621680833852"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680833852"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680833851"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833851"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680833852"><span class="hs-identifier hs-var">mod</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_as"><span class="hs-identifier hs-var hs-var">is_as</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833851"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>
</span><span id="line-1265"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#importSpecLoc"><span class="hs-identifier hs-type">importSpecLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1266"></span><span id="importSpecLoc"><span class="annot"><span class="annottext">importSpecLoc :: ImportSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#importSpecLoc"><span class="hs-identifier hs-var hs-var">importSpecLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-type">ImpSpec</span></a></span><span> </span><span id="local-6989586621680833850"><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833850"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_dloc"><span class="hs-identifier hs-var hs-var">is_dloc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><a href="#local-6989586621680833850"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-1267"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#importSpecLoc"><span class="hs-identifier hs-var">importSpecLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSpec"><span class="hs-identifier hs-type">ImpSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec
</span><span class="hs-identifier">_</span></span><span>    </span><span id="local-6989586621680833849"><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833849"><span class="hs-identifier hs-var">item</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpItemSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#is_iloc"><span class="hs-identifier hs-var hs-var">is_iloc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="#local-6989586621680833849"><span class="hs-identifier hs-var">item</span></a></span><span>
</span><span id="line-1268"></span><span>
</span><span id="line-1269"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#importSpecModule"><span class="hs-identifier hs-type">importSpecModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span>
</span><span id="line-1270"></span><span id="importSpecModule"><span class="annot"><span class="annottext">importSpecModule :: ImportSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#importSpecModule"><span class="hs-identifier hs-var hs-var">importSpecModule</span></a></span></span><span> </span><span id="local-6989586621680833848"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833848"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#is_mod"><span class="hs-identifier hs-var hs-var">is_mod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833848"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1271"></span><span>
</span><span id="line-1272"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExplicitItem"><span class="hs-identifier hs-type">isExplicitItem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpItemSpec"><span class="hs-identifier hs-type">ImpItemSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1273"></span><span id="isExplicitItem"><span class="annot"><span class="annottext">isExplicitItem :: ImpItemSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isExplicitItem"><span class="hs-identifier hs-var hs-var">isExplicitItem</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpItemSpec
</span><a href="GHC.Types.Name.Reader.html#ImpAll"><span class="hs-identifier hs-var">ImpAll</span></a></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1274"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#isExplicitItem"><span class="hs-identifier hs-var">isExplicitItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImpSome"><span class="hs-identifier hs-type">ImpSome</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">is_explicit :: ImpItemSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_explicit"><span class="hs-identifier hs-var">is_explicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833847"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833847"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833847"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-1275"></span><span>
</span><span id="line-1276"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprNameProvenance"><span class="hs-identifier hs-type">pprNameProvenance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1277"></span><span class="hs-comment">-- ^ Print out one place where the name was define/imported</span><span>
</span><span id="line-1278"></span><span class="hs-comment">-- (With -dppr-debug, print them all)</span><span>
</span><span id="line-1279"></span><span id="pprNameProvenance"><span class="annot"><span class="annottext">pprNameProvenance :: GlobalRdrElt -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprNameProvenance"><span class="hs-identifier hs-var hs-var">pprNameProvenance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GRE"><span class="hs-identifier hs-type">GRE</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gre_name :: GlobalRdrElt -&gt; Name
</span><a href="GHC.Types.Name.Reader.html#gre_name"><span class="hs-identifier hs-var">gre_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833846"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680833846"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_lcl :: GlobalRdrElt -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#gre_lcl"><span class="hs-identifier hs-var">gre_lcl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833845"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833845"><span class="hs-identifier hs-var">lcl</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gre_imp :: GlobalRdrElt -&gt; [ImportSpec]
</span><a href="GHC.Types.Name.Reader.html#gre_imp"><span class="hs-identifier hs-var">gre_imp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680833844"><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680833844"><span class="hs-identifier hs-var">iss</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ifPprDebug"><span class="hs-identifier hs-var">ifPprDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621680833842"><span class="hs-identifier hs-var">pp_provs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1281"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall a. [a] -&gt; a
</span><a href="../../base/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621680833842"><span class="hs-identifier hs-var">pp_provs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1282"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1283"></span><span>    </span><span id="local-6989586621680833842"><span class="annot"><span class="annottext">pp_provs :: [SDoc]
</span><a href="#local-6989586621680833842"><span class="hs-identifier hs-var hs-var">pp_provs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc]
</span><a href="#local-6989586621680833841"><span class="hs-identifier hs-var">pp_lcl</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; [SDoc] -&gt; [SDoc]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(ImportSpec -&gt; SDoc) -&gt; [ImportSpec] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; SDoc
</span><a href="#local-6989586621680833840"><span class="hs-identifier hs-var">pp_is</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportSpec]
</span><a href="#local-6989586621680833844"><span class="hs-identifier hs-var">iss</span></a></span><span>
</span><span id="line-1284"></span><span>    </span><span id="local-6989586621680833841"><span class="annot"><span class="annottext">pp_lcl :: [SDoc]
</span><a href="#local-6989586621680833841"><span class="hs-identifier hs-var hs-var">pp_lcl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833845"><span class="hs-identifier hs-var">lcl</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;defined at&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SrcLoc
</span><a href="GHC.Types.Name.html#nameSrcLoc"><span class="hs-identifier hs-var">nameSrcLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680833846"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1285"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1286"></span><span>    </span><span id="local-6989586621680833840"><span class="annot"><span class="annottext">pp_is :: ImportSpec -&gt; SDoc
</span><a href="#local-6989586621680833840"><span class="hs-identifier hs-var hs-var">pp_is</span></a></span></span><span> </span><span id="local-6989586621680833835"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833835"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ImportSpec -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833835"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; Name -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#ppr_defn_site"><span class="hs-identifier hs-var">ppr_defn_site</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833835"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680833846"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1287"></span><span>
</span><span id="line-1288"></span><span class="hs-comment">-- If we know the exact definition point (which we may do with GHCi)</span><span>
</span><span id="line-1289"></span><span class="hs-comment">-- then show that too.  But not if it's just &quot;imported from X&quot;.</span><span>
</span><span id="line-1290"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#ppr_defn_site"><span class="hs-identifier hs-type">ppr_defn_site</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1291"></span><span id="ppr_defn_site"><span class="annot"><span class="annottext">ppr_defn_site :: ImportSpec -&gt; Name -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#ppr_defn_site"><span class="hs-identifier hs-var hs-var">ppr_defn_site</span></a></span></span><span> </span><span id="local-6989586621680833832"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833832"><span class="hs-identifier hs-var">imp_spec</span></a></span></span><span> </span><span id="local-6989586621680833831"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680833831"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-1292"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833830"><span class="hs-identifier hs-var">same_module</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Bool
</span><a href="GHC.Types.SrcLoc.html#isGoodSrcSpan"><span class="hs-identifier hs-var">isGoodSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680833828"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>              </span><span class="hs-comment">-- Nothing interesting to say</span><span>
</span><span id="line-1294"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-1295"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;and originally defined&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680833827"><span class="hs-identifier hs-var">pp_mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1296"></span><span>                </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprLoc"><span class="hs-identifier hs-var">pprLoc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680833828"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1297"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1298"></span><span>    </span><span id="local-6989586621680833828"><span class="annot"><span class="annottext">loc :: SrcSpan
</span><a href="#local-6989586621680833828"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680833831"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-1299"></span><span>    </span><span id="local-6989586621680833821"><span class="annot"><span class="annottext">defining_mod :: Module
</span><a href="#local-6989586621680833821"><span class="hs-identifier hs-var hs-var">defining_mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ASSERT2</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">isExternalName</span><span> </span><span class="hs-identifier">name</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-identifier">name</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">nameModule</span><span> </span><span class="hs-identifier">name</span><span>
</span><span id="line-1300"></span><span>    </span><span id="local-6989586621680833830"><span class="annot"><span class="annottext">same_module :: Bool
</span><a href="#local-6989586621680833830"><span class="hs-identifier hs-var hs-var">same_module</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImportSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#importSpecModule"><span class="hs-identifier hs-var">importSpecModule</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833832"><span class="hs-identifier hs-var">imp_spec</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; ModuleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680833821"><span class="hs-identifier hs-var">defining_mod</span></a></span><span>
</span><span id="line-1301"></span><span>    </span><span id="local-6989586621680833827"><span class="annot"><span class="annottext">pp_mod :: SDoc
</span><a href="#local-6989586621680833827"><span class="hs-identifier hs-var hs-var">pp_mod</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833830"><span class="hs-identifier hs-var">same_module</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1302"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680833821"><span class="hs-identifier hs-var">defining_mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1303"></span><span>
</span><span id="line-1304"></span><span>
</span><span id="line-1305"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680833812"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#ImportSpec"><span class="hs-identifier hs-type">ImportSpec</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1306"></span><span>   </span><span id="local-6989586621680833810"><span class="annot"><span class="annottext">ppr :: ImportSpec -&gt; SDoc
</span><a href="#local-6989586621680833810"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621680833809"><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833809"><span class="hs-identifier hs-var">imp_spec</span></a></span></span><span>
</span><span id="line-1307"></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;imported&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680833808"><span class="hs-identifier hs-var">qual</span></a></span><span>
</span><span id="line-1308"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;from&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ModuleName
</span><a href="GHC.Types.Name.Reader.html#importSpecModule"><span class="hs-identifier hs-var">importSpecModule</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833809"><span class="hs-identifier hs-var">imp_spec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1309"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprLoc"><span class="hs-identifier hs-var">pprLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; SrcSpan
</span><a href="GHC.Types.Name.Reader.html#importSpecLoc"><span class="hs-identifier hs-var">importSpecLoc</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833809"><span class="hs-identifier hs-var">imp_spec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-1311"></span><span>       </span><span id="local-6989586621680833808"><span class="annot"><span class="annottext">qual :: SDoc
</span><a href="#local-6989586621680833808"><span class="hs-identifier hs-var hs-var">qual</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ImpDeclSpec -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#is_qual"><span class="hs-identifier hs-var hs-var">is_qual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportSpec -&gt; ImpDeclSpec
</span><a href="GHC.Types.Name.Reader.html#is_decl"><span class="hs-identifier hs-var hs-var">is_decl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportSpec
</span><a href="#local-6989586621680833809"><span class="hs-identifier hs-var">imp_spec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;qualified&quot;</span></span><span>
</span><span id="line-1312"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1313"></span><span>
</span><span id="line-1314"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprLoc"><span class="hs-identifier hs-type">pprLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1315"></span><span id="pprLoc"><span class="annot"><span class="annottext">pprLoc :: SrcSpan -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#pprLoc"><span class="hs-identifier hs-var hs-var">pprLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621680833806"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680833806"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680833806"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1316"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#pprLoc"><span class="hs-identifier hs-var">pprLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1317"></span><span>
</span><span id="line-1318"></span><span class="hs-comment">-- | Display info about the treatment of '*' under NoStarIsType.</span><span>
</span><span id="line-1319"></span><span class="hs-comment">--</span><span>
</span><span id="line-1320"></span><span class="hs-comment">-- With StarIsType, three properties of '*' hold:</span><span>
</span><span id="line-1321"></span><span class="hs-comment">--</span><span>
</span><span id="line-1322"></span><span class="hs-comment">--   (a) it is not an infix operator</span><span>
</span><span id="line-1323"></span><span class="hs-comment">--   (b) it is always in scope</span><span>
</span><span id="line-1324"></span><span class="hs-comment">--   (c) it is a synonym for Data.Kind.Type</span><span>
</span><span id="line-1325"></span><span class="hs-comment">--</span><span>
</span><span id="line-1326"></span><span class="hs-comment">-- However, the user might not know that he's working on a module with</span><span>
</span><span id="line-1327"></span><span class="hs-comment">-- NoStarIsType and write code that still assumes (a), (b), and (c), which</span><span>
</span><span id="line-1328"></span><span class="hs-comment">-- actually do not hold in that module.</span><span>
</span><span id="line-1329"></span><span class="hs-comment">--</span><span>
</span><span id="line-1330"></span><span class="hs-comment">-- Violation of (a) shows up in the parser. For instance, in the following</span><span>
</span><span id="line-1331"></span><span class="hs-comment">-- examples, we have '*' not applied to enough arguments:</span><span>
</span><span id="line-1332"></span><span class="hs-comment">--</span><span>
</span><span id="line-1333"></span><span class="hs-comment">--   data A :: *</span><span>
</span><span id="line-1334"></span><span class="hs-comment">--   data F :: * -&gt; *</span><span>
</span><span id="line-1335"></span><span class="hs-comment">--</span><span>
</span><span id="line-1336"></span><span class="hs-comment">-- Violation of (b) or (c) show up in the renamer and the typechecker</span><span>
</span><span id="line-1337"></span><span class="hs-comment">-- respectively. For instance:</span><span>
</span><span id="line-1338"></span><span class="hs-comment">--</span><span>
</span><span id="line-1339"></span><span class="hs-comment">--   type K = Either * Bool</span><span>
</span><span id="line-1340"></span><span class="hs-comment">--</span><span>
</span><span id="line-1341"></span><span class="hs-comment">-- This will parse differently depending on whether StarIsType is enabled,</span><span>
</span><span id="line-1342"></span><span class="hs-comment">-- but it will parse nonetheless. With NoStarIsType it is parsed as a type</span><span>
</span><span id="line-1343"></span><span class="hs-comment">-- operator, thus we have ((*) Either Bool). Now there are two cases to</span><span>
</span><span id="line-1344"></span><span class="hs-comment">-- consider:</span><span>
</span><span id="line-1345"></span><span class="hs-comment">--</span><span>
</span><span id="line-1346"></span><span class="hs-comment">--   1. There is no definition of (*) in scope. In this case the renamer will</span><span>
</span><span id="line-1347"></span><span class="hs-comment">--      fail to look it up. This is a violation of assumption (b).</span><span>
</span><span id="line-1348"></span><span class="hs-comment">--</span><span>
</span><span id="line-1349"></span><span class="hs-comment">--   2. There is a definition of the (*) type operator in scope (for example</span><span>
</span><span id="line-1350"></span><span class="hs-comment">--      coming from GHC.TypeNats). In this case the user will get a kind</span><span>
</span><span id="line-1351"></span><span class="hs-comment">--      mismatch error. This is a violation of assumption (c).</span><span>
</span><span id="line-1352"></span><span class="hs-comment">--</span><span>
</span><span id="line-1353"></span><span class="hs-comment">-- The user might unknowingly be working on a module with NoStarIsType</span><span>
</span><span id="line-1354"></span><span class="hs-comment">-- or use '*' as 'Data.Kind.Type' out of habit. So it is important to give a</span><span>
</span><span id="line-1355"></span><span class="hs-comment">-- hint whenever an assumption about '*' is violated. Unfortunately, it is</span><span>
</span><span id="line-1356"></span><span class="hs-comment">-- somewhat difficult to deal with (c), so we limit ourselves to (a) and (b).</span><span>
</span><span id="line-1357"></span><span class="hs-comment">--</span><span>
</span><span id="line-1358"></span><span class="hs-comment">-- 'starInfo' generates an appropriate hint to the user depending on the</span><span>
</span><span id="line-1359"></span><span class="hs-comment">-- extensions enabled in the module and the name that triggered the error.</span><span>
</span><span id="line-1360"></span><span class="hs-comment">-- That is, if we have NoStarIsType and the error is related to '*' or its</span><span>
</span><span id="line-1361"></span><span class="hs-comment">-- Unicode variant, the resulting SDoc will contain a helpful suggestion.</span><span>
</span><span id="line-1362"></span><span class="hs-comment">-- Otherwise it is empty.</span><span>
</span><span id="line-1363"></span><span class="hs-comment">--</span><span>
</span><span id="line-1364"></span><span class="annot"><a href="GHC.Types.Name.Reader.html#starInfo"><span class="hs-identifier hs-type">starInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1365"></span><span id="starInfo"><span class="annot"><span class="annottext">starInfo :: Bool -&gt; RdrName -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#starInfo"><span class="hs-identifier hs-var hs-var">starInfo</span></a></span></span><span> </span><span id="local-6989586621680833804"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833804"><span class="hs-identifier hs-var">star_is_type</span></a></span></span><span> </span><span id="local-6989586621680833803"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680833803"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1366"></span><span>  </span><span class="hs-comment">-- One might ask: if can use `sdocOption sdocStarIsType` here, why bother to</span><span>
</span><span id="line-1367"></span><span>  </span><span class="hs-comment">-- take star_is_type as input? Why not refactor?</span><span>
</span><span id="line-1368"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-1369"></span><span>  </span><span class="hs-comment">-- The reason is that `sdocOption sdocStarIsType` would indicate that</span><span>
</span><span id="line-1370"></span><span>  </span><span class="hs-comment">-- StarIsType is enabled in the module that tries to load the problematic</span><span>
</span><span id="line-1371"></span><span>  </span><span class="hs-comment">-- definition, not in the module that is being loaded.</span><span>
</span><span id="line-1372"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-1373"></span><span>  </span><span class="hs-comment">-- So if we have 'data T :: *' in a module with NoStarIsType, then the hint</span><span>
</span><span id="line-1374"></span><span>  </span><span class="hs-comment">-- must be displayed even if we load this definition from a module (or GHCi)</span><span>
</span><span id="line-1375"></span><span>  </span><span class="hs-comment">-- with StarIsType enabled!</span><span>
</span><span id="line-1376"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-1377"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833802"><span class="hs-identifier hs-var">isUnqualStar</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680833804"><span class="hs-identifier hs-var">star_is_type</span></a></span><span>
</span><span id="line-1378"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;With NoStarIsType, &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-1379"></span><span>          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680833803"><span class="hs-identifier hs-var">rdr_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-1380"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is treated as a regular type operator. &quot;</span></span><span>
</span><span id="line-1381"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1382"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Did you mean to use &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-1383"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; from Data.Kind instead?&quot;</span></span><span>
</span><span id="line-1384"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1385"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1386"></span><span>    </span><span class="hs-comment">-- Does rdr_name look like the user might have meant the '*' kind by it?</span><span>
</span><span id="line-1387"></span><span>    </span><span class="hs-comment">-- We focus on unqualified stars specifically, because qualified stars are</span><span>
</span><span id="line-1388"></span><span>    </span><span class="hs-comment">-- treated as type operators even under StarIsType.</span><span>
</span><span id="line-1389"></span><span>    </span><span id="local-6989586621680833802"><span class="annot"><span class="annottext">isUnqualStar :: Bool
</span><a href="#local-6989586621680833802"><span class="hs-identifier hs-var hs-var">isUnqualStar</span></a></span></span><span>
</span><span id="line-1390"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680833799"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680833799"><span class="hs-identifier hs-var">occName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680833803"><span class="hs-identifier hs-var">rdr_name</span></a></span><span>
</span><span id="line-1391"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680833798"><span class="annot"><span class="annottext">fs :: FastString
</span><a href="#local-6989586621680833798"><span class="hs-identifier hs-var hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680833799"><span class="hs-identifier hs-var">occName</span></a></span><span>
</span><span id="line-1392"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680833798"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680833798"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#9733;&quot;</span></span><span>
</span><span id="line-1393"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1394"></span></pre></body></html>