<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">--</span><span>
</span><span id="line-2"></span><span class="hs-comment">--  (c) The University of Glasgow 2002-2006</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Functions over HsSyn specialised to RdrName.</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE MagicHash #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Parser.PostProcess</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-22"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsOpApp"><span class="hs-identifier">mkHsOpApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIntegral"><span class="hs-identifier">mkHsIntegral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsFractional"><span class="hs-identifier">mkHsFractional</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsIsString"><span class="hs-identifier">mkHsIsString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><a href="GHC.Hs.Utils.html#mkHsDo"><span class="hs-identifier">mkHsDo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier">mkSpliceDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier">mkRoleAnnotDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier">mkClassDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier">mkTyData</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier">mkDataFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier">mkTySynonym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier">mkTyFamInstEqn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier">mkStandaloneKindSig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier">mkTyFamInst</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier">mkFamDecl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#mkLHsSigType"><span class="hs-identifier">mkLHsSigType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier">mkInlinePragma</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier">mkPatSynMatchGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier">mkRecConstrOrUpdate</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- HsExp -&gt; [HsFieldUpdate] -&gt; P HsExp</span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier">mkTyClD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier">mkInstD</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier">mkRdrRecordCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier">mkRdrRecordUpd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier">setRdrNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#filterCTuple"><span class="hs-identifier">filterCTuple</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier">fromSpecTyVarBndr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier">fromSpecTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier">cvBindGroup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier">cvBindsAndSigs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier">cvTopDecls</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier">placeHolderPunRhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>        </span><span class="hs-comment">-- Stuff to do with Foreign declarations</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier">mkImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier">parseCImport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier">mkExport</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier">mkExtName</span></a></span><span class="hs-special">,</span><span>    </span><span class="hs-comment">-- RdrName -&gt; CLabelString</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier">mkGadtDecl</span></a></span><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- [Located RdrName] -&gt; LHsType RdrName -&gt; ConDecl RdrName</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier">mkConDeclH98</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>        </span><span class="hs-comment">-- Bunch of functions in the parser monad for</span><span>
</span><span id="line-55"></span><span>        </span><span class="hs-comment">-- checking and constructing values</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier">checkImportDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier">checkExpBlockArguments</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier">checkCmdBlockArguments</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier">checkPrecP</span></a></span><span class="hs-special">,</span><span>           </span><span class="hs-comment">-- Int -&gt; P Int</span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier">checkContext</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsType -&gt; P HsContext</span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier">checkPattern</span></a></span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- HsExp -&gt; P HsPat</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_msg"><span class="hs-identifier">checkPattern_msg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier">checkMonadComp</span></a></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- P (HsStmtContext GhcPs)</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier">checkValDef</span></a></span><span class="hs-special">,</span><span>          </span><span class="hs-comment">-- (SrcLoc, HsExp, HsRhs, [HsDecl]) -&gt; P HsDecl</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier">checkValSigLhs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier">LRuleTyTmVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier">RuleTyTmVar</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier">mkRuleBndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier">mkRuleTyVarBndrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier">checkRuleTyVarBndrNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier">checkRecordSyntax</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier">checkEmptyGADTs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier">addFatalError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier">hintBangPat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier">TyEl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOps"><span class="hs-identifier">mergeOps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeDataCon"><span class="hs-identifier">mergeDataCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier">mkBangTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier">mkMultTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>        </span><span class="hs-comment">-- Help with processing exports</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier">ImpExpSubSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier">ImpExpQcSpec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier">mkModuleImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier">mkTypeImpExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier">mkImpExpSubSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier">checkImportSpec</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>        </span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-84"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#forallSym"><span class="hs-identifier">forallSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier">starSym</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-comment">-- Warnings and errors</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier">warnStarIsType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier">warnPrepositiveQualifiedModule</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier">failOpFewArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier">failOpNotEnabledImportQualifiedPost</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier">failOpImportQualifiedTwice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>        </span><span class="hs-comment">-- Expression/command/pattern ambiguity resolution</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier">PV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier">runPV</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier">ECP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#runECP_PV"><span class="hs-identifier">runECP_PV</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#runECP_P"><span class="hs-identifier">runECP_P</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier">DisambInfixOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier">DisambECP</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier">ecpFromExp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier">ecpFromCmd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier">PatBuilder</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>           </span><span class="hs-comment">-- Lots of it</span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier">isTupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier">dataConTyCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html"><span class="hs-identifier">GHC.Core.ConLike</span></a></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier">ConLike</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Role"><span class="hs-identifier">Role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier">fsFromRole</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier">ModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html"><span class="hs-identifier">GHC.Parser.Lexer</span></a></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html#isLexCon"><span class="hs-identifier">isLexCon</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyThing"><span class="hs-identifier">TyThing</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier">unrestrictedFunTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier">Specificity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier">cTupleTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier">tupleTyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier">tupleDataCon</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier">nilDataConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier">nilDataConKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier">listTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier">listTyConKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier">eqTyCon_RDR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>                          </span><span class="annot"><a href="GHC.Builtin.Types.html#tupleTyConName"><span class="hs-identifier">tupleTyConName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#cTupleTyConNameArity_maybe"><span class="hs-identifier">cTupleTyConNameArity_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html"><span class="hs-identifier">GHC.Builtin.Names</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#allNameStrings"><span class="hs-identifier">allNameStrings</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#hasKey"><span class="hs-identifier">hasKey</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html"><span class="hs-identifier">GHC.Data.OrdList</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier">OrdList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier">fromOL</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html"><span class="hs-identifier">GHC.Parser.Annotation</span></a></span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.List.html#"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html"><span class="hs-identifier">GHC.Driver.Session</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html#WarningFlag"><span class="hs-identifier">WarningFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier">DynFlags</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#Messages"><span class="hs-identifier">Messages</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Control.Monad.html#"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Text.ParserCombinators.ReadP.html#"><span class="hs-identifier">Text.ParserCombinators.ReadP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ReadP</span></span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Char.html#"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base/src/Data.Monoid.html#"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Monoid</span></span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Data.html#"><span class="hs-identifier">Data.Data</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base/src/Data.Data.html#dataTypeOf"><span class="hs-identifier">dataTypeOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/Data.Data.html#fromConstr"><span class="hs-identifier">fromConstr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/Data.Data.html#dataTypeConstrs"><span class="hs-identifier">dataTypeConstrs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base/src/Data.Kind.html#"><span class="hs-identifier">Data.Kind</span></a></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span> </span><span class="hs-special">)</span><span class="hs-cpp">

#include &quot;HsVersions.h&quot;
</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">{- **********************************************************************

  Construction functions for Rdr stuff

  ********************************************************************* -}</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | mkClassDecl builds a RdrClassDecl, filling in the names for tycon and</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- datacon by deriving them from the name of the class.  We fill in the names</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- for the tycon and datacon corresponding to the class, by deriving them</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- from the name of the class itself.  This saves recording the names in the</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- interface file (which would be equally good).</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- Similarly for mkConDecl, mkClassOpSig and default-method names.</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">--         *** See Note [The Naming story] in GHC.Hs.Decls ****</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621680978237"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-type">mkTyClD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978237"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978237"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-166"></span><span id="mkTyClD"><span class="annot"><span class="annottext">mkTyClD :: forall (p :: Pass). LTyClDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkTyClD"><span class="hs-identifier hs-var hs-var">mkTyClD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680977128"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977128"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680977127"><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621680977127"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsDecl (GhcPass p) -&gt; GenLocated SrcSpan (HsDecl (GhcPass p))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977128"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyClD (GhcPass p) -&gt; TyClDecl (GhcPass p) -&gt; HsDecl (GhcPass p)
forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XTyClD (GhcPass p)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass p)
</span><a href="#local-6989586621680977127"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span id="local-6989586621680978228"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-type">mkInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978228"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978228"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-169"></span><span id="mkInstD"><span class="annot"><span class="annottext">mkInstD :: forall (p :: Pass). LInstDecl (GhcPass p) -&gt; LHsDecl (GhcPass p)
</span><a href="GHC.Parser.PostProcess.html#mkInstD"><span class="hs-identifier hs-var hs-var">mkInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680977124"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977124"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680977123"><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621680977123"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsDecl (GhcPass p) -&gt; GenLocated SrcSpan (HsDecl (GhcPass p))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977124"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XInstD (GhcPass p) -&gt; InstDecl (GhcPass p) -&gt; HsDecl (GhcPass p)
forall p. XInstD p -&gt; InstDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XInstD (GhcPass p)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">InstDecl (GhcPass p)
</span><a href="#local-6989586621680977123"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span id="local-6989586621680978222"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-type">mkClassDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680978222"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#LayoutInfo"><span class="hs-identifier hs-type">LayoutInfo</span></a></span><span>
</span><span id="line-176"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span id="mkClassDecl"><span class="annot"><span class="annottext">mkClassDecl :: forall a.
SrcSpan
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Located (a, [LHsFunDep GhcPs])
-&gt; OrdList (LHsDecl GhcPs)
-&gt; LayoutInfo
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkClassDecl"><span class="hs-identifier hs-var hs-var">mkClassDecl</span></a></span></span><span> </span><span id="local-6989586621680977113"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977113"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977112"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977112"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977111"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977111"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680977110"><span class="annot"><span class="annottext">Located (a, [LHsFunDep GhcPs])
</span><a href="#local-6989586621680977110"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span id="local-6989586621680977109"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680977109"><span class="hs-identifier hs-var">where_cls</span></a></span></span><span> </span><span id="local-6989586621680977108"><span class="annot"><span class="annottext">LayoutInfo
</span><a href="#local-6989586621680977108"><span class="hs-identifier hs-var">layoutInfo</span></a></span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977107"><span class="annot"><span class="annottext">LHsBinds GhcPs
</span><a href="#local-6989586621680977107"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977106"><span class="annot"><span class="annottext">[LSig GhcPs]
</span><a href="#local-6989586621680977106"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977105"><span class="annot"><span class="annottext">[LFamilyDecl GhcPs]
</span><a href="#local-6989586621680977105"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977104"><span class="annot"><span class="annottext">[LTyFamInstDecl GhcPs]
</span><a href="#local-6989586621680977104"><span class="hs-identifier hs-var">at_defs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LDataFamInstDecl GhcPs]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977103"><span class="annot"><span class="annottext">[LDocDecl]
</span><a href="#local-6989586621680977103"><span class="hs-identifier hs-var">docs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680977109"><span class="hs-identifier hs-var">where_cls</span></a></span><span>
</span><span id="line-180"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680977102"><span class="annot"><span class="annottext">cxt :: LHsContext GhcPs
</span><a href="#local-6989586621680977102"><span class="hs-identifier hs-var hs-var">cxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs) -&gt; LHsContext GhcPs
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsType GhcPs] -&gt; LHsContext GhcPs
forall e. e -&gt; Located e
</span><a href="GHC.Types.SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977112"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-181"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977099"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977099"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977098"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977098"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977097"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977097"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977096"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977096"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977111"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-182"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977113"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977096"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-183"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977093"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977093"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680977092"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977092"><span class="hs-identifier hs-var">annst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; Located RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;class&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977099"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977098"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-184"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977113"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977092"><span class="hs-identifier hs-var">annst</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-185"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LTyClDecl GhcPs -&gt; P (LTyClDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; TyClDecl GhcPs -&gt; LTyClDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977113"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ClassDecl :: forall pass.
XClassDecl pass
-&gt; LHsContext pass
-&gt; Located (IdP pass)
-&gt; LHsQTyVars pass
-&gt; LexicalFixity
-&gt; [LHsFunDep pass]
-&gt; [LSig pass]
-&gt; LHsBinds pass
-&gt; [LFamilyDecl pass]
-&gt; [LTyFamDefltDecl pass]
-&gt; [LDocDecl]
-&gt; TyClDecl pass
</span><a href="GHC.Hs.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdCExt :: XClassDecl GhcPs
</span><a href="GHC.Hs.Decls.html#tcdCExt"><span class="hs-identifier hs-var">tcdCExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LayoutInfo
XClassDecl GhcPs
</span><a href="#local-6989586621680977108"><span class="hs-identifier hs-var">layoutInfo</span></a></span><span>
</span><span id="line-186"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdCtxt :: LHsContext GhcPs
</span><a href="GHC.Hs.Decls.html#tcdCtxt"><span class="hs-identifier hs-var">tcdCtxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621680977102"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-187"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680977099"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="GHC.Hs.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977093"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-188"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977097"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-189"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFDs :: [LHsFunDep GhcPs]
</span><a href="GHC.Hs.Decls.html#tcdFDs"><span class="hs-identifier hs-var">tcdFDs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, [Located (FunDep (Located RdrName))])
-&gt; [Located (FunDep (Located RdrName))]
forall a b. (a, b) -&gt; b
</span><a href="../../base/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpan (a, [Located (FunDep (Located RdrName))])
-&gt; (a, [Located (FunDep (Located RdrName))])
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan (a, [Located (FunDep (Located RdrName))])
Located (a, [LHsFunDep GhcPs])
</span><a href="#local-6989586621680977110"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdSigs :: [LSig GhcPs]
</span><a href="GHC.Hs.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs] -&gt; [LSig GhcPs]
</span><a href="GHC.Hs.Utils.html#mkClassOpSigs"><span class="hs-identifier hs-var">mkClassOpSigs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs]
</span><a href="#local-6989586621680977106"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-191"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdMeths :: LHsBinds GhcPs
</span><a href="GHC.Hs.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcPs
</span><a href="#local-6989586621680977107"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-192"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATs :: [LFamilyDecl GhcPs]
</span><a href="GHC.Hs.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LFamilyDecl GhcPs]
</span><a href="#local-6989586621680977105"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATDefs :: [LTyFamInstDecl GhcPs]
</span><a href="GHC.Hs.Decls.html#tcdATDefs"><span class="hs-identifier hs-var">tcdATDefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LTyFamInstDecl GhcPs]
</span><a href="#local-6989586621680977104"><span class="hs-identifier hs-var">at_defs</span></a></span><span>
</span><span id="line-193"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdDocs :: [LDocDecl]
</span><a href="GHC.Hs.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LDocDecl]
</span><a href="#local-6989586621680977103"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-type">mkTyData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-196"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-197"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-201"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-202"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span id="mkTyData"><span class="annot"><span class="annottext">mkTyData :: SrcSpan
-&gt; NewOrData
-&gt; Maybe (Located CType)
-&gt; Located (Maybe (LHsContext GhcPs), LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyData"><span class="hs-identifier hs-var hs-var">mkTyData</span></a></span></span><span> </span><span id="local-6989586621680977074"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977074"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680977073"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680977073"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621680977072"><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680977072"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977071"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977071"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977070"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977070"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>         </span><span id="local-6989586621680977069"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680977069"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621680977068"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680977068"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span id="local-6989586621680977067"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680977067"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977066"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977066"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977065"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977065"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977064"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977064"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977063"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977063"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977070"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-206"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977074"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977063"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-207"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977062"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977062"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977061"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977061"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; Located RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NewOrData -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680977073"><span class="hs-identifier hs-var">new_or_data</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977066"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977065"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-208"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977074"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977061"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-209"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621680977058"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621680977058"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NewOrData
-&gt; Maybe (Located CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680977073"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680977072"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977071"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680977069"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680977068"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680977067"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-210"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LTyClDecl GhcPs -&gt; P (LTyClDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; TyClDecl GhcPs -&gt; LTyClDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977074"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataDecl :: forall pass.
XDataDecl pass
-&gt; Located (IdP pass)
-&gt; LHsQTyVars pass
-&gt; LexicalFixity
-&gt; HsDataDefn pass
-&gt; TyClDecl pass
</span><a href="GHC.Hs.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdDExt :: XDataDecl GhcPs
</span><a href="GHC.Hs.Decls.html#tcdDExt"><span class="hs-identifier hs-var">tcdDExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XDataDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>                                   </span><span class="annot"><span class="annottext">tcdLName :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680977066"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="GHC.Hs.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977062"><span class="hs-identifier hs-var">tyvars</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>                                   </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977064"><span class="hs-identifier hs-var">fixity</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>                                   </span><span class="annot"><span class="annottext">tcdDataDefn :: HsDataDefn GhcPs
</span><a href="GHC.Hs.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621680977058"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-type">mkDataDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-216"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-220"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-221"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span id="mkDataDefn"><span class="annot"><span class="annottext">mkDataDefn :: NewOrData
-&gt; Maybe (Located CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var hs-var">mkDataDefn</span></a></span></span><span> </span><span id="local-6989586621680977053"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680977053"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621680977052"><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680977052"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span id="local-6989586621680977051"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977051"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span> </span><span id="local-6989586621680977050"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680977050"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621680977049"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680977049"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span id="local-6989586621680977048"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680977048"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977051"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-224"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680977046"><span class="annot"><span class="annottext">cxt :: LHsContext GhcPs
</span><a href="#local-6989586621680977046"><span class="hs-identifier hs-var hs-var">cxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; Maybe (LHsContext GhcPs) -&gt; LHsContext GhcPs
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsType GhcPs] -&gt; LHsContext GhcPs
forall e. e -&gt; Located e
</span><a href="GHC.Types.SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680977051"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-225"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs -&gt; P (HsDataDefn GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDataDefn :: forall pass.
XCHsDataDefn pass
-&gt; NewOrData
-&gt; LHsContext pass
-&gt; Maybe (Located CType)
-&gt; Maybe (LHsKind pass)
-&gt; [LConDecl pass]
-&gt; HsDeriving pass
-&gt; HsDataDefn pass
</span><a href="GHC.Hs.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ext :: XCHsDataDefn GhcPs
</span><a href="GHC.Hs.Decls.html#dd_ext"><span class="hs-identifier hs-var">dd_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCHsDataDefn GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-226"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ND :: NewOrData
</span><a href="GHC.Hs.Decls.html#dd_ND"><span class="hs-identifier hs-var">dd_ND</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680977053"><span class="hs-identifier hs-var">new_or_data</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cType :: Maybe (Located CType)
</span><a href="GHC.Hs.Decls.html#dd_cType"><span class="hs-identifier hs-var">dd_cType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680977052"><span class="hs-identifier hs-var">cType</span></a></span><span>
</span><span id="line-227"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: LHsContext GhcPs
</span><a href="GHC.Hs.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621680977046"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-228"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: [LConDecl GhcPs]
</span><a href="GHC.Hs.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680977049"><span class="hs-identifier hs-var">data_cons</span></a></span><span>
</span><span id="line-229"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: Maybe (LHsType GhcPs)
</span><a href="GHC.Hs.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680977050"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-230"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: HsDeriving GhcPs
</span><a href="GHC.Hs.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680977048"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-type">mkTySynonym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-234"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-235"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span id="mkTySynonym"><span class="annot"><span class="annottext">mkTySynonym :: SrcSpan -&gt; LHsType GhcPs -&gt; LHsType GhcPs -&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTySynonym"><span class="hs-identifier hs-var hs-var">mkTySynonym</span></a></span></span><span> </span><span id="local-6989586621680977037"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977037"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680977036"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977036"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621680977035"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977035"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977034"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977034"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977033"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977033"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977032"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977032"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977031"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977031"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977036"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-239"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977037"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977031"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-240"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680977030"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977030"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680977029"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977029"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; Located RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var">equalsDots</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977034"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680977033"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-241"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977037"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680977029"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-242"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LTyClDecl GhcPs -&gt; P (LTyClDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; TyClDecl GhcPs -&gt; LTyClDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977037"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynDecl :: forall pass.
XSynDecl pass
-&gt; Located (IdP pass)
-&gt; LHsQTyVars pass
-&gt; LexicalFixity
-&gt; LHsType pass
-&gt; TyClDecl pass
</span><a href="GHC.Hs.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdSExt :: XSynDecl GhcPs
</span><a href="GHC.Hs.Decls.html#tcdSExt"><span class="hs-identifier hs-var">tcdSExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XSynDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-243"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680977034"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: LHsQTyVars GhcPs
</span><a href="GHC.Hs.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680977030"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-244"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#tcdFixity"><span class="hs-identifier hs-var">tcdFixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680977032"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-245"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: LHsType GhcPs
</span><a href="GHC.Hs.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977035"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-type">mkStandaloneKindSig</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>             </span><span class="hs-comment">-- RHS</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LStandaloneKindSig"><span class="hs-identifier hs-type">LStandaloneKindSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span id="mkStandaloneKindSig"><span class="annot"><span class="annottext">mkStandaloneKindSig :: SrcSpan
-&gt; Located [Located RdrName]
-&gt; LHsType GhcPs
-&gt; P (LStandaloneKindSig GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkStandaloneKindSig"><span class="hs-identifier hs-var hs-var">mkStandaloneKindSig</span></a></span></span><span> </span><span id="local-6989586621680977025"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977025"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680977024"><span class="annot"><span class="annottext">Located [Located RdrName]
</span><a href="#local-6989586621680977024"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621680977023"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977023"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680977022"><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680977022"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; P (Located RdrName))
-&gt; [Located RdrName] -&gt; P [Located RdrName]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; P (Located RdrName)
forall {m :: * -&gt; *}.
MonadP m =&gt;
Located RdrName -&gt; m (Located RdrName)
</span><a href="#local-6989586621680977020"><span class="hs-identifier hs-var">check_lhs_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located [Located RdrName] -&gt; [Located RdrName]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [Located RdrName]
</span><a href="#local-6989586621680977024"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621680977019"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977019"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Located RdrName] -&gt; P (Located RdrName)
</span><a href="#local-6989586621680977018"><span class="hs-identifier hs-var">check_singular_lhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located RdrName] -&gt; [Located RdrName]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680977022"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LStandaloneKindSig GhcPs -&gt; P (LStandaloneKindSig GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LStandaloneKindSig GhcPs -&gt; P (LStandaloneKindSig GhcPs))
-&gt; LStandaloneKindSig GhcPs -&gt; P (LStandaloneKindSig GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; StandaloneKindSig GhcPs -&gt; LStandaloneKindSig GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680977025"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(StandaloneKindSig GhcPs -&gt; LStandaloneKindSig GhcPs)
-&gt; StandaloneKindSig GhcPs -&gt; LStandaloneKindSig GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XStandaloneKindSig GhcPs
-&gt; Located (IdP GhcPs)
-&gt; LHsSigType GhcPs
-&gt; StandaloneKindSig GhcPs
forall pass.
XStandaloneKindSig pass
-&gt; Located (IdP pass) -&gt; LHsSigType pass -&gt; StandaloneKindSig pass
</span><a href="GHC.Hs.Decls.html#StandaloneKindSig"><span class="hs-identifier hs-var">StandaloneKindSig</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XStandaloneKindSig GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680977019"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsSigType GhcPs
</span><a href="GHC.Hs.Utils.html#mkLHsSigType"><span class="hs-identifier hs-var">mkLHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680977023"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>    </span><span id="local-6989586621680977020"><span class="annot"><span class="annottext">check_lhs_name :: Located RdrName -&gt; m (Located RdrName)
</span><a href="#local-6989586621680977020"><span class="hs-identifier hs-var hs-var">check_lhs_name</span></a></span></span><span> </span><span id="local-6989586621680977007"><span class="annot"><span class="annottext">v :: Located RdrName
</span><a href="#local-6989586621680977007"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-glyph">-&gt;</span><span id="local-6989586621680977006"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680977006"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680977006"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680977006"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; m (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977007"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-260"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; m (Located RdrName)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977007"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; m (Located RdrName)) -&gt; SDoc -&gt; m (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-261"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expected an unqualified type constructor:&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680977007"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621680977018"><span class="annot"><span class="annottext">check_singular_lhs :: [Located RdrName] -&gt; P (Located RdrName)
</span><a href="#local-6989586621680977018"><span class="hs-identifier hs-var hs-var">check_singular_lhs</span></a></span></span><span> </span><span id="local-6989586621680976999"><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680976999"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-263"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680976999"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-264"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; P (Located RdrName)
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkStandaloneKindSig: empty left-hand side&quot;</span></span><span>
</span><span id="line-265"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621680976997"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976997"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; P (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976997"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">[Located RdrName]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (Located RdrName)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located [Located RdrName] -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located [Located RdrName]
</span><a href="#local-6989586621680977024"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P (Located RdrName)) -&gt; SDoc -&gt; P (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-267"></span><span>             </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Standalone kind signatures do not support multiple names at the moment:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>                       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located RdrName -&gt; SDoc) -&gt; [Located RdrName] -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680976999"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;See https://gitlab.haskell.org/ghc/ghc/issues/16754 for details.&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-type">mkTyFamInstEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-272"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-273"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-274"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span id="mkTyFamInstEqn"><span class="annot"><span class="annottext">mkTyFamInstEqn :: Maybe [LHsTyVarBndr () GhcPs]
-&gt; LHsType GhcPs
-&gt; LHsType GhcPs
-&gt; P (TyFamInstEqn GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInstEqn"><span class="hs-identifier hs-var hs-var">mkTyFamInstEqn</span></a></span></span><span> </span><span id="local-6989586621680976994"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976994"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621680976993"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976993"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621680976992"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976992"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976991"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976991"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976990"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976990"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976989"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976989"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976988"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976988"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976993"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-277"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(TyFamInstEqn GhcPs, [AddAnn]) -&gt; P (TyFamInstEqn GhcPs, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn GhcPs (LHsType GhcPs) -&gt; TyFamInstEqn GhcPs
forall thing. thing -&gt; HsImplicitBndrs GhcPs thing
</span><a href="GHC.Hs.Type.html#mkHsImplicitBndrs"><span class="hs-identifier hs-var">mkHsImplicitBndrs</span></a></span><span>
</span><span id="line-278"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn :: forall pass rhs.
XCFamEqn pass rhs
-&gt; Located (IdP pass)
-&gt; Maybe [LHsTyVarBndr () pass]
-&gt; HsTyPats pass
-&gt; LexicalFixity
-&gt; rhs
-&gt; FamEqn pass rhs
</span><a href="GHC.Hs.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (LHsType GhcPs)
</span><a href="GHC.Hs.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCFamEqn GhcPs (LHsType GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-279"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976991"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-280"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: Maybe [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Hs.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976994"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-281"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="GHC.Hs.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976990"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-282"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976989"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-283"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: LHsType GhcPs
</span><a href="GHC.Hs.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976992"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-284"></span><span>                 </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976988"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-type">mkDataFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-287"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#NewOrData"><span class="hs-identifier hs-type">NewOrData</span></a></span><span>
</span><span id="line-288"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CType"><span class="hs-identifier hs-type">CType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-290"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-293"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-294"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span id="mkDataFamInst"><span class="annot"><span class="annottext">mkDataFamInst :: SrcSpan
-&gt; NewOrData
-&gt; Maybe (Located CType)
-&gt; (Maybe (LHsContext GhcPs), Maybe [LHsTyVarBndr () GhcPs],
    LHsType GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataFamInst"><span class="hs-identifier hs-var hs-var">mkDataFamInst</span></a></span></span><span> </span><span id="local-6989586621680976979"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976979"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976978"><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680976978"><span class="hs-identifier hs-var">new_or_data</span></a></span></span><span> </span><span id="local-6989586621680976977"><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680976977"><span class="hs-identifier hs-var">cType</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976976"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976976"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976975"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976975"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976974"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976974"><span class="hs-identifier hs-var">tycl_hdr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>              </span><span id="local-6989586621680976973"><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680976973"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621680976972"><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680976972"><span class="hs-identifier hs-var">data_cons</span></a></span></span><span> </span><span id="local-6989586621680976971"><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680976971"><span class="hs-identifier hs-var">maybe_deriv</span></a></span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976970"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976970"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976969"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976969"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976968"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976968"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976967"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976967"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976974"><span class="hs-identifier hs-var">tycl_hdr</span></a></span><span>
</span><span id="line-298"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976979"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976967"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-299"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621680976966"><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621680976966"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NewOrData
-&gt; Maybe (Located CType)
-&gt; Maybe (LHsContext GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; [LConDecl GhcPs]
-&gt; HsDeriving GhcPs
-&gt; P (HsDataDefn GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkDataDefn"><span class="hs-identifier hs-var">mkDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">NewOrData
</span><a href="#local-6989586621680976978"><span class="hs-identifier hs-var">new_or_data</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located CType)
</span><a href="#local-6989586621680976977"><span class="hs-identifier hs-var">cType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976976"><span class="hs-identifier hs-var">mcxt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="#local-6989586621680976973"><span class="hs-identifier hs-var">ksig</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDecl GhcPs]
</span><a href="#local-6989586621680976972"><span class="hs-identifier hs-var">data_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcPs
</span><a href="#local-6989586621680976971"><span class="hs-identifier hs-var">maybe_deriv</span></a></span><span>
</span><span id="line-300"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LInstDecl GhcPs -&gt; P (LInstDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; InstDecl GhcPs -&gt; LInstDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976979"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDataFamInstD GhcPs -&gt; DataFamInstDecl GhcPs -&gt; InstDecl GhcPs
forall pass.
XDataFamInstD pass -&gt; DataFamInstDecl pass -&gt; InstDecl pass
</span><a href="GHC.Hs.Decls.html#DataFamInstD"><span class="hs-identifier hs-var">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XDataFamInstD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamInstEqn GhcPs (HsDataDefn GhcPs) -&gt; DataFamInstDecl GhcPs
forall pass.
FamInstEqn pass (HsDataDefn pass) -&gt; DataFamInstDecl pass
</span><a href="GHC.Hs.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-var">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn GhcPs (HsDataDefn GhcPs)
-&gt; FamInstEqn GhcPs (HsDataDefn GhcPs)
forall thing. thing -&gt; HsImplicitBndrs GhcPs thing
</span><a href="GHC.Hs.Type.html#mkHsImplicitBndrs"><span class="hs-identifier hs-var">mkHsImplicitBndrs</span></a></span><span>
</span><span id="line-301"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn :: forall pass rhs.
XCFamEqn pass rhs
-&gt; Located (IdP pass)
-&gt; Maybe [LHsTyVarBndr () pass]
-&gt; HsTyPats pass
-&gt; LexicalFixity
-&gt; rhs
-&gt; FamEqn pass rhs
</span><a href="GHC.Hs.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_ext :: XCFamEqn GhcPs (HsDataDefn GhcPs)
</span><a href="GHC.Hs.Decls.html#feqn_ext"><span class="hs-identifier hs-var">feqn_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCFamEqn GhcPs (HsDataDefn GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-302"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976970"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-303"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: Maybe [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Hs.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976975"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-304"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: [LHsTypeArg GhcPs]
</span><a href="GHC.Hs.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976969"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-305"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976968"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-306"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: HsDataDefn GhcPs
</span><a href="GHC.Hs.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcPs
</span><a href="#local-6989586621680976966"><span class="hs-identifier hs-var">defn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-type">mkTyFamInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-309"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-310"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span id="mkTyFamInst"><span class="annot"><span class="annottext">mkTyFamInst :: SrcSpan -&gt; TyFamInstEqn GhcPs -&gt; P (LInstDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkTyFamInst"><span class="hs-identifier hs-var hs-var">mkTyFamInst</span></a></span></span><span> </span><span id="local-6989586621680976963"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976963"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976962"><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621680976962"><span class="hs-identifier hs-var">eqn</span></a></span></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LInstDecl GhcPs -&gt; P (LInstDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; InstDecl GhcPs -&gt; LInstDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976963"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyFamInstD GhcPs -&gt; TyFamInstDecl GhcPs -&gt; InstDecl GhcPs
forall pass.
XTyFamInstD pass -&gt; TyFamInstDecl pass -&gt; InstDecl pass
</span><a href="GHC.Hs.Decls.html#TyFamInstD"><span class="hs-identifier hs-var">TyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XTyFamInstD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyFamInstEqn GhcPs -&gt; TyFamInstDecl GhcPs
forall pass. TyFamInstEqn pass -&gt; TyFamInstDecl pass
</span><a href="GHC.Hs.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-var">TyFamInstDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TyFamInstEqn GhcPs
</span><a href="#local-6989586621680976962"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-type">mkFamDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-315"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#FamilyInfo"><span class="hs-identifier hs-type">FamilyInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-316"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>                   </span><span class="hs-comment">-- LHS</span><span>
</span><span id="line-317"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Optional result signature</span><span>
</span><span id="line-318"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Injectivity annotation</span><span>
</span><span id="line-319"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span id="mkFamDecl"><span class="annot"><span class="annottext">mkFamDecl :: SrcSpan
-&gt; FamilyInfo GhcPs
-&gt; LHsType GhcPs
-&gt; Located (FamilyResultSig GhcPs)
-&gt; Maybe (LInjectivityAnn GhcPs)
-&gt; P (LTyClDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkFamDecl"><span class="hs-identifier hs-var hs-var">mkFamDecl</span></a></span></span><span> </span><span id="local-6989586621680976959"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976959"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976958"><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621680976958"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621680976957"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976957"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621680976956"><span class="annot"><span class="annottext">Located (FamilyResultSig GhcPs)
</span><a href="#local-6989586621680976956"><span class="hs-identifier hs-var">ksig</span></a></span></span><span> </span><span id="local-6989586621680976955"><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621680976955"><span class="hs-identifier hs-var">injAnn</span></a></span></span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976954"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976954"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976953"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976953"><span class="hs-identifier hs-var">tparams</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976952"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976952"><span class="hs-identifier hs-var">fixity</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976951"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976951"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var">checkTyClHdr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976957"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-322"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976959"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976951"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-323"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976950"><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680976950"><span class="hs-identifier hs-var">tyvars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976949"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976949"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc
-&gt; SDoc
-&gt; Located RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var">checkTyVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamilyInfo GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621680976958"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976948"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976954"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976953"><span class="hs-identifier hs-var">tparams</span></a></span><span>
</span><span id="line-324"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976959"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976949"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-comment">-- Add any API Annotations to the top SrcSpan</span><span>
</span><span id="line-325"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LTyClDecl GhcPs -&gt; P (LTyClDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; TyClDecl GhcPs -&gt; LTyClDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976959"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XFamDecl GhcPs -&gt; FamilyDecl GhcPs -&gt; TyClDecl GhcPs
forall pass. XFamDecl pass -&gt; FamilyDecl pass -&gt; TyClDecl pass
</span><a href="GHC.Hs.Decls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XFamDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamilyDecl :: forall pass.
XCFamilyDecl pass
-&gt; FamilyInfo pass
-&gt; Located (IdP pass)
-&gt; LHsQTyVars pass
-&gt; LexicalFixity
-&gt; LFamilyResultSig pass
-&gt; Maybe (LInjectivityAnn pass)
-&gt; FamilyDecl pass
</span><a href="GHC.Hs.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span>
</span><span id="line-326"></span><span>                                           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fdExt :: XCFamilyDecl GhcPs
</span><a href="GHC.Hs.Decls.html#fdExt"><span class="hs-identifier hs-var">fdExt</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCFamilyDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-327"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInfo :: FamilyInfo GhcPs
</span><a href="GHC.Hs.Decls.html#fdInfo"><span class="hs-identifier hs-var">fdInfo</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621680976958"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdLName :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#fdLName"><span class="hs-identifier hs-var">fdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976954"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-328"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTyVars :: LHsQTyVars GhcPs
</span><a href="GHC.Hs.Decls.html#fdTyVars"><span class="hs-identifier hs-var">fdTyVars</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcPs
</span><a href="#local-6989586621680976950"><span class="hs-identifier hs-var">tyvars</span></a></span><span>
</span><span id="line-329"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdFixity :: LexicalFixity
</span><a href="GHC.Hs.Decls.html#fdFixity"><span class="hs-identifier hs-var">fdFixity</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976952"><span class="hs-identifier hs-var">fixity</span></a></span><span>
</span><span id="line-330"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdResultSig :: Located (FamilyResultSig GhcPs)
</span><a href="GHC.Hs.Decls.html#fdResultSig"><span class="hs-identifier hs-var">fdResultSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (FamilyResultSig GhcPs)
</span><a href="#local-6989586621680976956"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-331"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInjectivityAnn :: Maybe (LInjectivityAnn GhcPs)
</span><a href="GHC.Hs.Decls.html#fdInjectivityAnn"><span class="hs-identifier hs-var">fdInjectivityAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcPs)
</span><a href="#local-6989586621680976955"><span class="hs-identifier hs-var">injAnn</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621680976948"><span class="annot"><span class="annottext">equals_or_where :: SDoc
</span><a href="#local-6989586621680976948"><span class="hs-identifier hs-var hs-var">equals_or_where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="#local-6989586621680976958"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-334"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="GHC.Hs.Decls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-335"></span><span>                        </span><span class="annot"><span class="annottext">FamilyInfo GhcPs
</span><a href="GHC.Hs.Decls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-336"></span><span>                        </span><span class="annot"><a href="GHC.Hs.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var">whereDots</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-type">mkSpliceDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-339"></span><span class="hs-comment">-- If the user wrote</span><span>
</span><span id="line-340"></span><span class="hs-comment">--      [pads| ... ]   then return a QuasiQuoteD</span><span>
</span><span id="line-341"></span><span class="hs-comment">--      $(e)           then return a SpliceD</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- but if she wrote, say,</span><span>
</span><span id="line-343"></span><span class="hs-comment">--      f x            then behave as if she'd written $(f x)</span><span>
</span><span id="line-344"></span><span class="hs-comment">--                     ie a SpliceD</span><span>
</span><span id="line-345"></span><span class="hs-comment">--</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- Typed splices are not allowed at the top level, thus we do not represent them</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- as spliced declaration.  See #10945</span><span>
</span><span id="line-348"></span><span id="mkSpliceDecl"><span class="annot"><span class="annottext">mkSpliceDecl :: LHsExpr GhcPs -&gt; HsDecl GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkSpliceDecl"><span class="hs-identifier hs-var hs-var">mkSpliceDecl</span></a></span></span><span> </span><span id="local-6989586621680976934"><span class="annot"><span class="annottext">lexpr :: LHsExpr GhcPs
</span><a href="#local-6989586621680976934"><span class="hs-identifier hs-var">lexpr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976933"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976933"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976932"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680976932"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsSpliceE"><span class="hs-identifier hs-type">HsSpliceE</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976930"><span class="annot"><span class="annottext">splice :: HsSplice GhcPs
</span><a href="#local-6989586621680976930"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680976932"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; Located (HsSplice GhcPs)
-&gt; SpliceExplicitFlag
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; Located (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="GHC.Hs.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsSplice GhcPs -&gt; Located (HsSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976933"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680976930"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ExplicitSplice"><span class="hs-identifier hs-var">ExplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsSpliceE"><span class="hs-identifier hs-type">HsSpliceE</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976925"><span class="annot"><span class="annottext">splice :: HsSplice GhcPs
</span><a href="#local-6989586621680976925"><span class="hs-identifier hs-var">splice</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsQuasiQuote"><span class="hs-identifier hs-type">HsQuasiQuote</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680976932"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; Located (HsSplice GhcPs)
-&gt; SpliceExplicitFlag
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; Located (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="GHC.Hs.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsSplice GhcPs -&gt; Located (HsSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976933"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680976925"><span class="hs-identifier hs-var">splice</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ExplicitSplice"><span class="hs-identifier hs-var">ExplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XSpliceD GhcPs -&gt; SpliceDecl GhcPs -&gt; HsDecl GhcPs
forall p. XSpliceD p -&gt; SpliceDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#SpliceD"><span class="hs-identifier hs-var">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceDecl GhcPs
-&gt; Located (HsSplice GhcPs)
-&gt; SpliceExplicitFlag
-&gt; SpliceDecl GhcPs
forall p.
XSpliceDecl p
-&gt; Located (HsSplice p) -&gt; SpliceExplicitFlag -&gt; SpliceDecl p
</span><a href="GHC.Hs.Decls.html#SpliceDecl"><span class="hs-identifier hs-var">SpliceDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsSplice GhcPs -&gt; Located (HsSplice GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976933"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpliceDecoration -&gt; LHsExpr GhcPs -&gt; HsSplice GhcPs
</span><a href="GHC.Hs.Utils.html#mkUntypedSplice"><span class="hs-identifier hs-var">mkUntypedSplice</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecoration
</span><a href="GHC.Hs.Expr.html#BareSplice"><span class="hs-identifier hs-var">BareSplice</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976934"><span class="hs-identifier hs-var">lexpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>                              </span><span class="annot"><span class="annottext">SpliceExplicitFlag
</span><a href="GHC.Types.Basic.html#ImplicitSplice"><span class="hs-identifier hs-var">ImplicitSplice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-type">mkRoleAnnotDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-360"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>                </span><span class="hs-comment">-- type being annotated</span><span>
</span><span id="line-361"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>      </span><span class="hs-comment">-- roles</span><span>
</span><span id="line-362"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span id="mkRoleAnnotDecl"><span class="annot"><span class="annottext">mkRoleAnnotDecl :: SrcSpan
-&gt; Located RdrName
-&gt; [Located (Maybe FastString)]
-&gt; P (LRoleAnnotDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRoleAnnotDecl"><span class="hs-identifier hs-var hs-var">mkRoleAnnotDecl</span></a></span></span><span> </span><span id="local-6989586621680976920"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976920"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976919"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976919"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621680976918"><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621680976918"><span class="hs-identifier hs-var">roles</span></a></span></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976917"><span class="annot"><span class="annottext">[GenLocated SrcSpan (Maybe Role)]
</span><a href="#local-6989586621680976917"><span class="hs-identifier hs-var">roles'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Located (Maybe FastString) -&gt; P (GenLocated SrcSpan (Maybe Role)))
-&gt; [Located (Maybe FastString)]
-&gt; P [GenLocated SrcSpan (Maybe Role)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe FastString) -&gt; P (GenLocated SrcSpan (Maybe Role))
</span><a href="#local-6989586621680976916"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Maybe FastString)]
</span><a href="#local-6989586621680976918"><span class="hs-identifier hs-var">roles</span></a></span><span>
</span><span id="line-365"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LRoleAnnotDecl GhcPs -&gt; P (LRoleAnnotDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LRoleAnnotDecl GhcPs -&gt; P (LRoleAnnotDecl GhcPs))
-&gt; LRoleAnnotDecl GhcPs -&gt; P (LRoleAnnotDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RoleAnnotDecl GhcPs -&gt; LRoleAnnotDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976920"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(RoleAnnotDecl GhcPs -&gt; LRoleAnnotDecl GhcPs)
-&gt; RoleAnnotDecl GhcPs -&gt; LRoleAnnotDecl GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCRoleAnnotDecl GhcPs
-&gt; Located (IdP GhcPs)
-&gt; [GenLocated SrcSpan (Maybe Role)]
-&gt; RoleAnnotDecl GhcPs
forall pass.
XCRoleAnnotDecl pass
-&gt; Located (IdP pass)
-&gt; [GenLocated SrcSpan (Maybe Role)]
-&gt; RoleAnnotDecl pass
</span><a href="GHC.Hs.Decls.html#RoleAnnotDecl"><span class="hs-identifier hs-var">RoleAnnotDecl</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCRoleAnnotDecl GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976919"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (Maybe Role)]
</span><a href="#local-6989586621680976917"><span class="hs-identifier hs-var">roles'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621680976910"><span class="annot"><span class="annottext">role_data_type :: DataType
</span><a href="#local-6989586621680976910"><span class="hs-identifier hs-var hs-var">role_data_type</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Role -&gt; DataType
forall a. Data a =&gt; a -&gt; DataType
</span><a href="../../base/src/Data.Data.html#dataTypeOf"><span class="hs-identifier hs-var">dataTypeOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Role
forall a. HasCallStack =&gt; a
</span><a href="../../base/src/GHC.Err.html#undefined"><span class="hs-identifier hs-var">undefined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Role"><span class="hs-identifier hs-type">Role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621680976907"><span class="annot"><span class="annottext">all_roles :: [Role]
</span><a href="#local-6989586621680976907"><span class="hs-identifier hs-var hs-var">all_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Constr -&gt; Role) -&gt; [Constr] -&gt; [Role]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Constr -&gt; Role
forall a. Data a =&gt; Constr -&gt; a
</span><a href="../../base/src/Data.Data.html#fromConstr"><span class="hs-identifier hs-var">fromConstr</span></a></span><span> </span><span class="annot"><span class="annottext">([Constr] -&gt; [Role]) -&gt; [Constr] -&gt; [Role]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType -&gt; [Constr]
</span><a href="../../base/src/Data.Data.html#dataTypeConstrs"><span class="hs-identifier hs-var">dataTypeConstrs</span></a></span><span> </span><span class="annot"><span class="annottext">DataType
</span><a href="#local-6989586621680976910"><span class="hs-identifier hs-var">role_data_type</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span id="local-6989586621680976906"><span class="annot"><span class="annottext">possible_roles :: [(FastString, Role)]
</span><a href="#local-6989586621680976906"><span class="hs-identifier hs-var hs-var">possible_roles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Role -&gt; FastString
</span><a href="GHC.Core.Coercion.Axiom.html#fsFromRole"><span class="hs-identifier hs-var">fsFromRole</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621680976905"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621680976905"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680976905"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621680976905"><span class="hs-keyword hs-var">role</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621680976907"><span class="hs-identifier hs-var">all_roles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>    </span><span id="local-6989586621680976916"><span class="annot"><span class="annottext">parse_role :: Located (Maybe FastString) -&gt; P (GenLocated SrcSpan (Maybe Role))
</span><a href="#local-6989586621680976916"><span class="hs-identifier hs-var hs-var">parse_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976904"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976904"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe FastString
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan (Maybe Role)
-&gt; P (GenLocated SrcSpan (Maybe Role))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpan (Maybe Role)
 -&gt; P (GenLocated SrcSpan (Maybe Role)))
-&gt; GenLocated SrcSpan (Maybe Role)
-&gt; P (GenLocated SrcSpan (Maybe Role))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Maybe Role -&gt; GenLocated SrcSpan (Maybe Role)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976904"><span class="hs-identifier hs-var">loc_role</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Role
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><a href="#local-6989586621680976916"><span class="hs-identifier hs-var">parse_role</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976903"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976903"><span class="hs-identifier hs-var">loc_role</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976902"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680976902"><span class="hs-keyword hs-var">role</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [(FastString, Role)] -&gt; Maybe Role
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><a href="../../base/src/GHC.List.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680976902"><span class="hs-keyword hs-var">role</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621680976906"><span class="hs-identifier hs-var">possible_roles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-374"></span><span>          </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976900"><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621680976900"><span class="hs-identifier hs-var">found_role</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan (Maybe Role)
-&gt; P (GenLocated SrcSpan (Maybe Role))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpan (Maybe Role)
 -&gt; P (GenLocated SrcSpan (Maybe Role)))
-&gt; GenLocated SrcSpan (Maybe Role)
-&gt; P (GenLocated SrcSpan (Maybe Role))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Maybe Role -&gt; GenLocated SrcSpan (Maybe Role)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976903"><span class="hs-identifier hs-var">loc_role</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Role -&gt; GenLocated SrcSpan (Maybe Role))
-&gt; Maybe Role -&gt; GenLocated SrcSpan (Maybe Role)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Role -&gt; Maybe Role
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="#local-6989586621680976900"><span class="hs-identifier hs-var">found_role</span></a></span><span>
</span><span id="line-375"></span><span>          </span><span class="annot"><span class="annottext">Maybe Role
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-376"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976899"><span class="annot"><span class="annottext">nearby :: [Role]
</span><a href="#local-6989586621680976899"><span class="hs-identifier hs-var hs-var">nearby</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Role)] -&gt; [Role]
forall a. String -&gt; [(String, a)] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#fuzzyLookup"><span class="hs-identifier hs-var">fuzzyLookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680976902"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FastString -&gt; String) -&gt; [(FastString, Role)] -&gt; [(String, Role)]
forall a c b. (a -&gt; c) -&gt; [(a, b)] -&gt; [(c, b)]
</span><a href="GHC.Utils.Misc.html#mapFst"><span class="hs-identifier hs-var">mapFst</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">[(FastString, Role)]
</span><a href="#local-6989586621680976906"><span class="hs-identifier hs-var">possible_roles</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>            </span><span class="hs-keyword">in</span><span>
</span><span id="line-379"></span><span>            </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (GenLocated SrcSpan (Maybe Role))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976903"><span class="hs-identifier hs-var">loc_role</span></a></span><span>
</span><span id="line-380"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal role name&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680976902"><span class="hs-keyword hs-var">role</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-381"></span><span>               </span><span class="annot"><span class="annottext">[Role] -&gt; SDoc
forall {a}. Outputable a =&gt; [a] -&gt; SDoc
</span><a href="#local-6989586621680976892"><span class="hs-identifier hs-var">suggestions</span></a></span><span> </span><span class="annot"><span class="annottext">[Role]
</span><a href="#local-6989586621680976899"><span class="hs-identifier hs-var">nearby</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621680976892"><span class="annot"><span class="annottext">suggestions :: [a] -&gt; SDoc
</span><a href="#local-6989586621680976892"><span class="hs-identifier hs-var hs-var">suggestions</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><a href="#local-6989586621680976892"><span class="hs-identifier hs-var">suggestions</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621680976888"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976888"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976888"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>      </span><span class="hs-comment">-- will this last case ever happen??</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="#local-6989586621680976892"><span class="hs-identifier hs-var">suggestions</span></a></span><span> </span><span id="local-6989586621680976887"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680976887"><span class="hs-identifier hs-var">list</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant one of these:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>                       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; SDoc) -&gt; [a] -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; [a] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; (a -&gt; SDoc) -&gt; a -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621680976887"><span class="hs-identifier hs-var">list</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- | Converts a list of 'LHsTyVarBndr's annotated with their 'Specificity' to</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- binders without annotations. Only accepts specified variables, and errors if</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- any of the provided binders has an 'InferredSpec' annotation.</span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-type">fromSpecTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-393"></span><span id="fromSpecTyVarBndrs"><span class="annot"><span class="annottext">fromSpecTyVarBndrs :: [LHsTyVarBndr Specificity GhcPs] -&gt; P [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndrs"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs))
-&gt; [LHsTyVarBndr Specificity GhcPs] -&gt; P [LHsTyVarBndr () GhcPs]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var">fromSpecTyVarBndr</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">-- | Converts 'LHsTyVarBndr' annotated with its 'Specificity' to one without</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- annotations. Only accepts specified variables, and errors if the provided</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- binder has an 'InferredSpec' annotation.</span><span>
</span><span id="line-398"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-type">fromSpecTyVarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span id="fromSpecTyVarBndr"><span class="annot"><span class="annottext">fromSpecTyVarBndr :: LHsTyVarBndr Specificity GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="GHC.Parser.PostProcess.html#fromSpecTyVarBndr"><span class="hs-identifier hs-var hs-var">fromSpecTyVarBndr</span></a></span></span><span> </span><span id="local-6989586621680976885"><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621680976885"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcPs
</span><a href="#local-6989586621680976885"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976884"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976884"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#UserTyVar"><span class="hs-identifier hs-type">UserTyVar</span></a></span><span> </span><span id="local-6989586621680976882"><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621680976882"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621680976881"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621680976881"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621680976880"><span class="annot"><span class="annottext">Located (IdP GhcPs)
</span><a href="#local-6989586621680976880"><span class="hs-identifier hs-var">idp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpan -&gt; P ()
</span><a href="#local-6989586621680976879"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621680976881"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976884"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>                                          </span><span class="annot"><span class="annottext">P () -&gt; P (LHsTyVarBndr () GhcPs) -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976884"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs)
-&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; Located (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass
-&gt; flag -&gt; Located (IdP pass) -&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
</span><a href="#local-6989586621680976882"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (IdP GhcPs)
</span><a href="#local-6989586621680976880"><span class="hs-identifier hs-var">idp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976878"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976878"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#KindedTyVar"><span class="hs-identifier hs-type">KindedTyVar</span></a></span><span> </span><span id="local-6989586621680976876"><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621680976876"><span class="hs-identifier hs-var">xtv</span></a></span></span><span> </span><span id="local-6989586621680976875"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621680976875"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621680976874"><span class="annot"><span class="annottext">Located (IdP GhcPs)
</span><a href="#local-6989586621680976874"><span class="hs-identifier hs-var">idp</span></a></span></span><span> </span><span id="local-6989586621680976873"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976873"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Specificity -&gt; SrcSpan -&gt; P ()
</span><a href="#local-6989586621680976879"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621680976875"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976878"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>                                          </span><span class="annot"><span class="annottext">P () -&gt; P (LHsTyVarBndr () GhcPs) -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976878"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs)
-&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; Located (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag
-&gt; Located (IdP pass)
-&gt; LHsKind pass
-&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
</span><a href="#local-6989586621680976876"><span class="hs-identifier hs-var">xtv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (IdP GhcPs)
</span><a href="#local-6989586621680976874"><span class="hs-identifier hs-var">idp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976873"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><a href="#local-6989586621680976879"><span class="hs-identifier hs-type">check_spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>    </span><span id="local-6989586621680976879"><span class="annot"><span class="annottext">check_spec :: Specificity -&gt; SrcSpan -&gt; P ()
</span><a href="#local-6989586621680976879"><span class="hs-identifier hs-var hs-var">check_spec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#SpecifiedSpec"><span class="hs-identifier hs-var">SpecifiedSpec</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><a href="#local-6989586621680976879"><span class="hs-identifier hs-var">check_spec</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="GHC.Types.Var.html#InferredSpec"><span class="hs-identifier hs-var">InferredSpec</span></a></span><span>  </span><span id="local-6989586621680976870"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976870"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976870"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-408"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Inferred type variables are not allowed here&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">{- **********************************************************************

  #cvBinds-etc# Converting to @HsBinds@, etc.

  ********************************************************************* -}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- | Function definitions are restructured here. Each is assumed to be recursive</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- initially, and non recursive definitions are discovered by the dependency</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- analyser.</span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-comment">--  | Groups together bindings for a single function</span><span>
</span><span id="line-422"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-type">cvTopDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span id="cvTopDecls"><span class="annot"><span class="annottext">cvTopDecls :: OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#cvTopDecls"><span class="hs-identifier hs-var hs-var">cvTopDecls</span></a></span></span><span> </span><span id="local-6989586621680976869"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976869"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976869"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-comment">-- Declaration list may only contain value bindings and signatures.</span><span>
</span><span id="line-426"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-type">cvBindGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span id="cvBindGroup"><span class="annot"><span class="annottext">cvBindGroup :: OrdList (LHsDecl GhcPs) -&gt; P (HsValBinds GhcPs)
</span><a href="GHC.Parser.PostProcess.html#cvBindGroup"><span class="hs-identifier hs-var hs-var">cvBindGroup</span></a></span></span><span> </span><span id="local-6989586621680976867"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976867"><span class="hs-identifier hs-var">binding</span></a></span></span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976866"><span class="annot"><span class="annottext">LHsBinds GhcPs
</span><a href="#local-6989586621680976866"><span class="hs-identifier hs-var">mbs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976865"><span class="annot"><span class="annottext">[LSig GhcPs]
</span><a href="#local-6989586621680976865"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976864"><span class="annot"><span class="annottext">[LFamilyDecl GhcPs]
</span><a href="#local-6989586621680976864"><span class="hs-identifier hs-var">fam_ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976863"><span class="annot"><span class="annottext">[LTyFamInstDecl GhcPs]
</span><a href="#local-6989586621680976863"><span class="hs-identifier hs-var">tfam_insts</span></a></span></span><span>
</span><span id="line-429"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976862"><span class="annot"><span class="annottext">[LDataFamInstDecl GhcPs]
</span><a href="#local-6989586621680976862"><span class="hs-identifier hs-var">dfam_insts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LDocDecl]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var">cvBindsAndSigs</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976867"><span class="hs-identifier hs-var">binding</span></a></span><span>
</span><span id="line-430"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-identifier">ASSERT</span><span class="hs-special">(</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">fam_ds</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">tfam_insts</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">null</span><span> </span><span class="hs-identifier">dfam_insts</span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>         </span><span class="annot"><span class="annottext">HsValBinds GhcPs -&gt; P (HsValBinds GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsValBinds GhcPs -&gt; P (HsValBinds GhcPs))
-&gt; HsValBinds GhcPs -&gt; P (HsValBinds GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcPs GhcPs
-&gt; LHsBinds GhcPs -&gt; [LSig GhcPs] -&gt; HsValBinds GhcPs
forall idL idR.
XValBinds idL idR
-&gt; LHsBindsLR idL idR -&gt; [LSig idR] -&gt; HsValBindsLR idL idR
</span><a href="GHC.Hs.Binds.html#ValBinds"><span class="hs-identifier hs-var">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XValBinds GhcPs GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcPs
</span><a href="#local-6989586621680976866"><span class="hs-identifier hs-var">mbs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcPs]
</span><a href="#local-6989586621680976865"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-type">cvBindsAndSigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-435"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LTyFamInstDecl"><span class="hs-identifier hs-type">LTyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LDataFamInstDecl"><span class="hs-identifier hs-type">LDataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Input decls contain just value bindings and signatures</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- and in case of class or instance declarations also</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- associated type declarations. They might also contain Haddock comments.</span><span>
</span><span id="line-439"></span><span id="cvBindsAndSigs"><span class="annot"><span class="annottext">cvBindsAndSigs :: OrdList (LHsDecl GhcPs)
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
</span><a href="GHC.Parser.PostProcess.html#cvBindsAndSigs"><span class="hs-identifier hs-var hs-var">cvBindsAndSigs</span></a></span></span><span> </span><span id="local-6989586621680976856"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976856"><span class="hs-identifier hs-var">fb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621680976855"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976855"><span class="hs-identifier hs-var">fb'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; P [LHsDecl GhcPs]
forall {f :: * -&gt; *} {p}.
(MonadP f, Outputable (SpliceDecl p)) =&gt;
[GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976854"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976856"><span class="hs-identifier hs-var">fb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><span class="annottext">(LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
 [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
-&gt; P (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
      [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
-&gt; (LHsBinds GhcPs, [LSig GhcPs], [LFamilyDecl GhcPs],
    [LTyFamInstDecl GhcPs], [LDataFamInstDecl GhcPs], [LDocDecl])
</span><a href="GHC.Hs.Decls.html#partitionBindsAndSigs"><span class="hs-identifier hs-var">partitionBindsAndSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976855"><span class="hs-identifier hs-var">fb'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-comment">-- cvBindsAndSigs is called in several places in the parser,</span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-comment">-- and its items can be produced by various productions:</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-comment">--    * decl       (when parsing a where clause or a let-expression)</span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-comment">--    * decl_inst  (when parsing an instance declaration)</span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-comment">--    * decl_cls   (when parsing a class declaration)</span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-450"></span><span>    </span><span class="hs-comment">-- partitionBindsAndSigs can handle almost all declaration forms produced</span><span>
</span><span id="line-451"></span><span>    </span><span class="hs-comment">-- by the aforementioned productions, except for SpliceD, which we filter</span><span>
</span><span id="line-452"></span><span>    </span><span class="hs-comment">-- out here (in drop_bad_decls).</span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-comment">-- We're not concerned with every declaration form possible, such as those</span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-comment">-- produced by the topdecl parser production, because cvBindsAndSigs is not</span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-comment">-- called on top-level declarations.</span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621680976854"><span class="annot"><span class="annottext">drop_bad_decls :: [GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976854"><span class="hs-identifier hs-var hs-var">drop_bad_decls</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><a href="#local-6989586621680976854"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976840"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976840"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#SpliceD"><span class="hs-identifier hs-type">SpliceD</span></a></span><span> </span><span class="annot"><span class="annottext">XSpliceD p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976839"><span class="annot"><span class="annottext">SpliceDecl p
</span><a href="#local-6989586621680976839"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976838"><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976838"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-459"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; f ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976840"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; f ()) -&gt; SDoc -&gt; f ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-460"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Declaration splices are allowed only&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-461"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at the top level:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>           </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SpliceDecl p -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SpliceDecl p
</span><a href="#local-6989586621680976839"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>      </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976854"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976838"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><a href="#local-6989586621680976854"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976836"><span class="annot"><span class="annottext">GenLocated SrcSpan (HsDecl p)
</span><a href="#local-6989586621680976836"><span class="hs-identifier hs-var">d</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976835"><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976835"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpan (HsDecl p)
</span><a href="#local-6989586621680976836"><span class="hs-identifier hs-var">d</span></a></span><span class="annot"><span class="annottext">GenLocated SrcSpan (HsDecl p)
-&gt; [GenLocated SrcSpan (HsDecl p)]
-&gt; [GenLocated SrcSpan (HsDecl p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([GenLocated SrcSpan (HsDecl p)]
 -&gt; [GenLocated SrcSpan (HsDecl p)])
-&gt; f [GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
-&gt; f [GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976854"><span class="hs-identifier hs-var">drop_bad_decls</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (HsDecl p)]
</span><a href="#local-6989586621680976835"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- Group function bindings into equation groups</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-type">getMonoBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- Suppose      (b',ds') = getMonoBind b ds</span><span>
</span><span id="line-472"></span><span class="hs-comment">--      ds is a list of parsed bindings</span><span>
</span><span id="line-473"></span><span class="hs-comment">--      b is a MonoBinds that has just been read off the front</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- Then b' is the result of grouping more equations from ds that</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- belong with b into a single MonoBinds, and ds' is the depleted</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- list of parsed bindings.</span><span>
</span><span id="line-478"></span><span class="hs-comment">--</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- All Haddock comments between equations inside the group are</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- discarded.</span><span>
</span><span id="line-481"></span><span class="hs-comment">--</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- No AndMonoBinds or EmptyMonoBinds here; just single equations</span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span id="getMonoBind"><span class="annot"><span class="annottext">getMonoBind :: LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var hs-var">getMonoBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976832"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976832"><span class="hs-identifier hs-var">loc1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; Located (IdP idL)
</span><a href="GHC.Hs.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680976829"><span class="annot"><span class="annottext">fun_id1 :: Located (IdP GhcPs)
</span><a href="#local-6989586621680976829"><span class="hs-identifier hs-var">fun_id1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976828"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976828"><span class="hs-identifier hs-var">f1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="GHC.Hs.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-486"></span><span>                               </span><span class="annot"><a href="GHC.Hs.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; Located [LMatch p body]
</span><a href="GHC.Hs.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976824"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976824"><span class="hs-identifier hs-var">mtchs1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>            </span><span id="local-6989586621680976823"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976823"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-488"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976824"><span class="hs-identifier hs-var">mtchs1</span></a></span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpan
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621680976821"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976824"><span class="hs-identifier hs-var">mtchs1</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976832"><span class="hs-identifier hs-var">loc1</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976823"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-491"></span><span>    </span><span id="local-6989586621680976821"><span class="annot"><span class="annottext">go :: [LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpan
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621680976821"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680976820"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976820"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621680976819"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976819"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-492"></span><span>       </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976818"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976818"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; Located (IdP idL)
</span><a href="GHC.Hs.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976816"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976816"><span class="hs-identifier hs-var">f2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="GHC.Hs.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-494"></span><span>                                    </span><span class="annot"><a href="GHC.Hs.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; Located [LMatch p body]
</span><a href="GHC.Hs.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976815"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976815"><span class="hs-identifier hs-var">mtchs2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>         </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976814"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976814"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-496"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976828"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976816"><span class="hs-identifier hs-var">f2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpan
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621680976821"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976815"><span class="hs-identifier hs-var">mtchs2</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; [LMatch GhcPs (LHsExpr GhcPs)] -&gt; [LMatch GhcPs (LHsExpr GhcPs)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976820"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976819"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976818"><span class="hs-identifier hs-var">loc2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976814"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><a href="#local-6989586621680976821"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976812"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976812"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621680976811"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976811"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976810"><span class="annot"><span class="annottext">doc_decl :: LHsDecl GhcPs
</span><a href="#local-6989586621680976810"><span class="hs-identifier hs-var">doc_decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976809"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976809"><span class="hs-identifier hs-var">loc2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976807"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976807"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976806"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976806"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-499"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976805"><span class="annot"><span class="annottext">doc_decls' :: [LHsDecl GhcPs]
</span><a href="#local-6989586621680976805"><span class="hs-identifier hs-var hs-var">doc_decls'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621680976810"><span class="hs-identifier hs-var">doc_decl</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs -&gt; [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976806"><span class="hs-identifier hs-var">doc_decls</span></a></span><span>
</span><span id="line-500"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
-&gt; SrcSpan
-&gt; [LHsDecl GhcPs]
-&gt; [LHsDecl GhcPs]
-&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="#local-6989586621680976821"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976812"><span class="hs-identifier hs-var">mtchs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976811"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976809"><span class="hs-identifier hs-var">loc2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976807"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976805"><span class="hs-identifier hs-var">doc_decls'</span></a></span><span>
</span><span id="line-501"></span><span>    </span><span class="annot"><a href="#local-6989586621680976821"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976804"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976804"><span class="hs-identifier hs-var">mtchs</span></a></span></span><span> </span><span id="local-6989586621680976803"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976803"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976802"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976802"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621680976801"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976801"><span class="hs-identifier hs-var">doc_decls</span></a></span></span><span>
</span><span id="line-502"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsBindLR GhcPs GhcPs -&gt; LHsBind GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976803"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
-&gt; [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976829"><span class="hs-identifier hs-var">fun_id1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)] -&gt; [LMatch GhcPs (LHsExpr GhcPs)]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976804"><span class="hs-identifier hs-var">mtchs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976801"><span class="hs-identifier hs-var">doc_decls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976802"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>        </span><span class="hs-comment">-- Reverse the final matches, to get it back in the right order</span><span>
</span><span id="line-505"></span><span>        </span><span class="hs-comment">-- Do the same thing with the trailing doc comments</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span id="local-6989586621680976799"><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621680976799"><span class="hs-identifier hs-var">bind</span></a></span></span><span> </span><span id="local-6989586621680976798"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976798"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBind GhcPs
</span><a href="#local-6989586621680976799"><span class="hs-identifier hs-var">bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976798"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-comment">-- Group together adjacent FunBinds for every function.</span><span>
</span><span id="line-510"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-type">getMonoBindAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-511"></span><span id="getMonoBindAll"><span class="annot"><span class="annottext">getMonoBindAll :: [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var hs-var">getMonoBindAll</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-512"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976797"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976797"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976796"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621680976796"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976795"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976795"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976794"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976794"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span id="local-6989586621680976793"><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621680976793"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976792"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976792"><span class="hs-identifier hs-var">ds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBind GhcPs
-&gt; [LHsDecl GhcPs] -&gt; (LHsBind GhcPs, [LHsDecl GhcPs])
</span><a href="GHC.Parser.PostProcess.html#getMonoBind"><span class="hs-identifier hs-var">getMonoBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsBindLR GhcPs GhcPs -&gt; LHsBind GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976797"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621680976796"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976795"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-514"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsDecl GhcPs -&gt; LHsDecl GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976794"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XValD GhcPs -&gt; HsBindLR GhcPs GhcPs -&gt; HsDecl GhcPs
forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XValD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcPs GhcPs
</span><a href="#local-6989586621680976793"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs -&gt; [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976792"><span class="hs-identifier hs-var">ds'</span></a></span><span>
</span><span id="line-515"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976791"><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621680976791"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976790"><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976790"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs
</span><a href="#local-6989586621680976791"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs -&gt; [LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs] -&gt; [LHsDecl GhcPs]
</span><a href="GHC.Parser.PostProcess.html#getMonoBindAll"><span class="hs-identifier hs-var">getMonoBindAll</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsDecl GhcPs]
</span><a href="#local-6989586621680976790"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-type">has_args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-518"></span><span id="has_args"><span class="annot"><span class="annottext">has_args :: [LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var hs-var">has_args</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.Parser.PostProcess.has_args&quot;</span></span><span>
</span><span id="line-519"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#has_args"><span class="hs-identifier hs-var">has_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; [LPat p]
</span><a href="GHC.Hs.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621680976787"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621680976787"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located (Pat GhcPs)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680976787"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>        </span><span class="hs-comment">-- Don't group together FunBinds if they have</span><span>
</span><span id="line-521"></span><span>        </span><span class="hs-comment">-- no arguments.  This is necessary now that variable bindings</span><span>
</span><span id="line-522"></span><span>        </span><span class="hs-comment">-- with no arguments are now treated as FunBinds rather</span><span>
</span><span id="line-523"></span><span>        </span><span class="hs-comment">-- than pattern bindings (tests/rename/should_fail/rnfail002).</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-comment">{- **********************************************************************

  #PrefixToHS-utils# Utilities for conversion

  ********************************************************************* -}</span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="hs-comment">{- Note [Parsing data constructors is hard]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The problem with parsing data constructors is that they look a lot like types.
Compare:

  (s1)   data T = C t1 t2
  (s2)   type T = C t1 t2

Syntactically, there's little difference between these declarations, except in
(s1) 'C' is a data constructor, but in (s2) 'C' is a type constructor.

This similarity would pose no problem if we knew ahead of time if we are
parsing a type or a constructor declaration. Looking at (s1) and (s2), a simple
(but wrong!) rule comes to mind: in 'data' declarations assume we are parsing
data constructors, and in other contexts (e.g. 'type' declarations) assume we
are parsing type constructors.

This simple rule does not work because of two problematic cases:

  (p1)   data T = C t1 t2 :+ t3
  (p2)   data T = C t1 t2 =&gt; t3

In (p1) we encounter (:+) and it turns out we are parsing an infix data
declaration, so (C t1 t2) is a type and 'C' is a type constructor.
In (p2) we encounter (=&gt;) and it turns out we are parsing an existential
context, so (C t1 t2) is a constraint and 'C' is a type constructor.

As the result, in order to determine whether (C t1 t2) declares a data
constructor, a type, or a context, we would need unlimited lookahead which
'happy' is not so happy with.

To further complicate matters, the interpretation of (!) and (~) is different
in constructors and types:

  (b1)   type T = C ! D
  (b2)   data T = C ! D
  (b3)   data T = C ! D =&gt; E

In (b1) and (b3), (!) is a type operator with two arguments: 'C' and 'D'. At
the same time, in (b2) it is a strictness annotation: 'C' is a data constructor
with a single strict argument 'D'. For the programmer, these cases are usually
easy to tell apart due to whitespace conventions:

  (b2)   data T = C !D         -- no space after the bang hints that
                               -- it is a strictness annotation

For the parser, on the other hand, this whitespace does not matter. We cannot
tell apart (b2) from (b3) until we encounter (=&gt;), so it requires unlimited
lookahead.

The solution that accounts for all of these issues is to initially parse data
declarations and types as a reversed list of TyEl:

  data TyEl = TyElOpr RdrName
            | TyElOpd (HsType GhcPs)
            | ...

For example, both occurrences of (C ! D) in the following example are parsed
into equal lists of TyEl:

  data T = C ! D =&gt; C ! D   results in   [ TyElOpd (HsTyVar &quot;D&quot;)
                                         , TyElOpr &quot;!&quot;
                                         , TyElOpd (HsTyVar &quot;C&quot;) ]

Note that elements are in reverse order. Also, 'C' is parsed as a type
constructor (HsTyVar) even when it is a data constructor. We fix this in
`tyConToDataCon`.

By the time the list of TyEl is assembled, we have looked ahead enough to
decide whether to reduce using `mergeOps` (for types) or `mergeDataCon` (for
data constructors). These functions are where the actual job of parsing is
done.

-}</span><span>
</span><span id="line-606"></span><span>
</span><span id="line-607"></span><span class="hs-comment">-- | Reinterpret a type constructor, including type operators, as a data</span><span>
</span><span id="line-608"></span><span class="hs-comment">--   constructor.</span><span>
</span><span id="line-609"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard]</span><span>
</span><span id="line-610"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-type">tyConToDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-611"></span><span id="tyConToDataCon"><span class="annot"><span class="annottext">tyConToDataCon :: SrcSpan -&gt; RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var hs-var">tyConToDataCon</span></a></span></span><span> </span><span id="local-6989586621680976785"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976785"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976784"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976784"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-612"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976783"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976783"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-613"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexCon"><span class="hs-identifier hs-var">isLexCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976783"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-614"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976785"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976784"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-617"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc) -&gt; Either (SrcSpan, SDoc) (Located RdrName)
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976785"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976778"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-619"></span><span>    </span><span id="local-6989586621680976783"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621680976783"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976784"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-620"></span><span>    </span><span id="local-6989586621680976778"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680976778"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not a data constructor:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976784"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-type">mkPatSynMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-623"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span id="mkPatSynMatchGroup"><span class="annot"><span class="annottext">mkPatSynMatchGroup :: Located RdrName
-&gt; Located (OrdList (LHsDecl GhcPs))
-&gt; P (MatchGroup GhcPs (LHsExpr GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkPatSynMatchGroup"><span class="hs-identifier hs-var hs-var">mkPatSynMatchGroup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976777"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976777"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976776"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976776"><span class="hs-identifier hs-var">patsyn_name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976775"><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976775"><span class="hs-identifier hs-var">decls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-626"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976774"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976774"><span class="hs-identifier hs-var">matches</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(LHsDecl GhcPs -&gt; P (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; [LHsDecl GhcPs] -&gt; P [LMatch GhcPs (LHsExpr GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDecl GhcPs -&gt; P (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976773"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs) -&gt; [LHsDecl GhcPs]
forall a. OrdList a -&gt; [a]
</span><a href="GHC.Data.OrdList.html#fromOL"><span class="hs-identifier hs-var">fromOL</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (LHsDecl GhcPs)
</span><a href="#local-6989586621680976775"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976774"><span class="hs-identifier hs-var">matches</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="#local-6989586621680976771"><span class="hs-identifier hs-var">wrongNumberErr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976777"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; P (MatchGroup GhcPs (LHsExpr GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(MatchGroup GhcPs (LHsExpr GhcPs)
 -&gt; P (MatchGroup GhcPs (LHsExpr GhcPs)))
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; P (MatchGroup GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; [LMatch GhcPs (LHsExpr GhcPs)]
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
forall name (body :: * -&gt; *).
(XMG name (Located (body name)) ~ NoExtField) =&gt;
Origin
-&gt; [LMatch name (Located (body name))]
-&gt; MatchGroup name (Located (body name))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976774"><span class="hs-identifier hs-var">matches</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-630"></span><span>    </span><span id="local-6989586621680976773"><span class="annot"><span class="annottext">fromDecl :: LHsDecl GhcPs -&gt; P (LMatch GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976773"><span class="hs-identifier hs-var hs-var">fromDecl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976768"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976768"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976767"><span class="annot"><span class="annottext">decl :: HsDecl GhcPs
</span><a href="#local-6989586621680976767"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatBind GhcPs GhcPs
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-631"></span><span>                         </span><span id="local-6989586621680976765"><span class="annot"><span class="annottext">pat :: LPat GhcPs
</span><a href="#local-6989586621680976765"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XConPat GhcPs
</span><a href="GHC.Hs.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span id="local-6989586621680976762"><span class="annot"><span class="annottext">ln :: Located (ConLikeP GhcPs)
</span><a href="#local-6989586621680976762"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976761"><span class="annot"><span class="annottext">ConLikeP GhcPs
</span><a href="#local-6989586621680976761"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976760"><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621680976760"><span class="hs-identifier hs-var">details</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-632"></span><span>                               </span><span id="local-6989586621680976759"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976759"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">([Tickish Id], [[Tickish Id]])
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-633"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
ConLikeP GhcPs
</span><a href="#local-6989586621680976761"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976776"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-634"></span><span>               </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621680976757"><span class="hs-identifier hs-var">wrongNameBindingErr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976768"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621680976767"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-635"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621680976756"><span class="annot"><span class="annottext">Match GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976756"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConPatDetails GhcPs
</span><a href="#local-6989586621680976760"><span class="hs-identifier hs-var">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-636"></span><span>               </span><span class="annot"><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span id="local-6989586621680976754"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621680976754"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs)))
-&gt; Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Match :: forall p body.
XCMatch p body
-&gt; HsMatchContext (NoGhcTc p)
-&gt; [LPat p]
-&gt; GRHSs p body
-&gt; Match p body
</span><a href="GHC.Hs.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-637"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
HsMatchContext (NoGhcTc GhcPs)
</span><a href="#local-6989586621680976751"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="GHC.Hs.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621680976754"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-638"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976759"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-639"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-640"></span><span>                     </span><span id="local-6989586621680976751"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621680976751"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunRhs :: forall p.
LIdP p -&gt; LexicalFixity -&gt; SrcStrictness -&gt; HsMatchContext p
</span><a href="GHC.Hs.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (IdP GhcPs)
Located (ConLikeP GhcPs)
</span><a href="#local-6989586621680976762"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-641"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="GHC.Hs.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-642"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="GHC.Hs.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span>               </span><span class="annot"><a href="GHC.Hs.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621680976742"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976742"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680976741"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976741"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs)))
-&gt; Match GhcPs (LHsExpr GhcPs) -&gt; P (Match GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Match :: forall p body.
XCMatch p body
-&gt; HsMatchContext (NoGhcTc p)
-&gt; [LPat p]
-&gt; GRHSs p body
-&gt; Match p body
</span><a href="GHC.Hs.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-645"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsMatchContext GhcPs
HsMatchContext (NoGhcTc GhcPs)
</span><a href="#local-6989586621680976740"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-646"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="GHC.Hs.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976742"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976741"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-647"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976759"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-648"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-649"></span><span>                     </span><span id="local-6989586621680976740"><span class="annot"><span class="annottext">ctxt :: HsMatchContext GhcPs
</span><a href="#local-6989586621680976740"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunRhs :: forall p.
LIdP p -&gt; LexicalFixity -&gt; SrcStrictness -&gt; HsMatchContext p
</span><a href="GHC.Hs.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (IdP GhcPs)
Located (ConLikeP GhcPs)
</span><a href="#local-6989586621680976762"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-650"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="GHC.Hs.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span>
</span><span id="line-651"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="GHC.Hs.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span>               </span><span class="annot"><a href="GHC.Hs.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; LPat GhcPs -&gt; P (Match GhcPs (LHsExpr GhcPs))
forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var">recordPatSynErr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976768"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976765"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-654"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LMatch GhcPs (LHsExpr GhcPs) -&gt; P (LMatch GhcPs (LHsExpr GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LMatch GhcPs (LHsExpr GhcPs) -&gt; P (LMatch GhcPs (LHsExpr GhcPs)))
-&gt; LMatch GhcPs (LHsExpr GhcPs) -&gt; P (LMatch GhcPs (LHsExpr GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Match GhcPs (LHsExpr GhcPs) -&gt; LMatch GhcPs (LHsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976768"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976756"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-655"></span><span>    </span><span class="annot"><a href="#local-6989586621680976773"><span class="hs-identifier hs-var">fromDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976736"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976736"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976735"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621680976735"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsDecl GhcPs -&gt; P (LMatch GhcPs (LHsExpr GhcPs))
forall {m :: * -&gt; *} {a} {a}.
(MonadP m, Outputable a) =&gt;
SrcSpan -&gt; a -&gt; m a
</span><a href="#local-6989586621680976734"><span class="hs-identifier hs-var">extraDeclErr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976736"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621680976735"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-656"></span><span>
</span><span id="line-657"></span><span>    </span><span id="local-6989586621680976734"><span class="annot"><span class="annottext">extraDeclErr :: SrcSpan -&gt; a -&gt; m a
</span><a href="#local-6989586621680976734"><span class="hs-identifier hs-var hs-var">extraDeclErr</span></a></span></span><span> </span><span id="local-6989586621680976729"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976729"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976728"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976728"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-658"></span><span>        </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976729"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; m a) -&gt; SDoc -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-659"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern synonym 'where' clause must contain a single binding:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-660"></span><span>        </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976728"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span>    </span><span id="local-6989586621680976757"><span class="annot"><span class="annottext">wrongNameBindingErr :: SrcSpan -&gt; HsDecl GhcPs -&gt; P ()
</span><a href="#local-6989586621680976757"><span class="hs-identifier hs-var hs-var">wrongNameBindingErr</span></a></span></span><span> </span><span id="local-6989586621680976727"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976727"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976726"><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621680976726"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-663"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976727"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P ()) -&gt; SDoc -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-664"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern synonym 'where' clause must bind the pattern synonym's name&quot;</span></span><span>
</span><span id="line-665"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976776"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs
</span><a href="#local-6989586621680976726"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span>    </span><span id="local-6989586621680976771"><span class="annot"><span class="annottext">wrongNumberErr :: SrcSpan -&gt; P ()
</span><a href="#local-6989586621680976771"><span class="hs-identifier hs-var hs-var">wrongNumberErr</span></a></span></span><span> </span><span id="local-6989586621680976725"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976725"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-668"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976725"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P ()) -&gt; SDoc -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-669"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern synonym 'where' clause cannot be empty&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-670"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the pattern synonym declaration for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976776"><span class="hs-identifier hs-var">patsyn_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span>
</span><span id="line-672"></span><span id="local-6989586621680978046"><span class="annot"><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-type">recordPatSynErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978046"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-673"></span><span id="recordPatSynErr"><span class="annot"><span class="annottext">recordPatSynErr :: forall a. SrcSpan -&gt; LPat GhcPs -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#recordPatSynErr"><span class="hs-identifier hs-var hs-var">recordPatSynErr</span></a></span></span><span> </span><span id="local-6989586621680976722"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976722"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976721"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976721"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-674"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976722"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P a) -&gt; SDoc -&gt; P a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-675"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;record syntax not supported for pattern synonym declarations:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-676"></span><span>    </span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976721"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-type">mkConDeclH98</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-679"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-680"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span id="mkConDeclH98"><span class="annot"><span class="annottext">mkConDeclH98 :: Located RdrName
-&gt; Maybe [LHsTyVarBndr Specificity GhcPs]
-&gt; Maybe (LHsContext GhcPs)
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
-&gt; ConDecl GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkConDeclH98"><span class="hs-identifier hs-var hs-var">mkConDeclH98</span></a></span></span><span> </span><span id="local-6989586621680976720"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976720"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621680976719"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976719"><span class="hs-identifier hs-var">mb_forall</span></a></span></span><span> </span><span id="local-6989586621680976718"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976718"><span class="hs-identifier hs-var">mb_cxt</span></a></span></span><span> </span><span id="local-6989586621680976717"><span class="annot"><span class="annottext">HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="#local-6989586621680976717"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-683"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConDeclH98 :: forall pass.
XConDeclH98 pass
-&gt; Located (IdP pass)
-&gt; Located Bool
-&gt; [LHsTyVarBndr Specificity pass]
-&gt; Maybe (LHsContext pass)
-&gt; HsConDeclDetails pass
-&gt; Maybe LHsDocString
-&gt; ConDecl pass
</span><a href="GHC.Hs.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_ext :: XConDeclH98 GhcPs
</span><a href="GHC.Hs.Decls.html#con_ext"><span class="hs-identifier hs-var">con_ext</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XConDeclH98 GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-684"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_name :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976720"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-685"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: Located Bool
</span><a href="GHC.Hs.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Located Bool
forall e. e -&gt; Located e
</span><a href="GHC.Types.SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Located Bool) -&gt; Bool -&gt; Located Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs] -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../base/src/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976719"><span class="hs-identifier hs-var">mb_forall</span></a></span><span>
</span><span id="line-686"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_ex_tvs :: [LHsTyVarBndr Specificity GhcPs]
</span><a href="GHC.Hs.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976719"><span class="hs-identifier hs-var">mb_forall</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
-&gt; [LHsTyVarBndr Specificity GhcPs]
-&gt; [LHsTyVarBndr Specificity GhcPs]
forall a. Maybe a -&gt; a -&gt; a
</span><a href="GHC.Data.Maybe.html#orElse"><span class="hs-operator hs-var">`orElse`</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-687"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="GHC.Hs.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976718"><span class="hs-identifier hs-var">mb_cxt</span></a></span><span>
</span><span id="line-688"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="GHC.Hs.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="#local-6989586621680976717"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-689"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe LHsDocString
</span><a href="GHC.Hs.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe LHsDocString
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span class="hs-comment">-- | Construct a GADT-style data constructor from the constructor names and</span><span>
</span><span id="line-692"></span><span class="hs-comment">-- their type. Some interesting aspects of this function:</span><span>
</span><span id="line-693"></span><span class="hs-comment">--</span><span>
</span><span id="line-694"></span><span class="hs-comment">-- * This splits up the constructor type into its quantified type variables (if</span><span>
</span><span id="line-695"></span><span class="hs-comment">--   provided), context (if provided), argument types, and result type, and</span><span>
</span><span id="line-696"></span><span class="hs-comment">--   records whether this is a prefix or record GADT constructor. See</span><span>
</span><span id="line-697"></span><span class="hs-comment">--   Note [GADT abstract syntax] in &quot;GHC.Hs.Decls&quot; for more details.</span><span>
</span><span id="line-698"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-type">mkGadtDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-699"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-700"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-701"></span><span id="mkGadtDecl"><span class="annot"><span class="annottext">mkGadtDecl :: [Located RdrName] -&gt; LHsType GhcPs -&gt; P (ConDecl GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#mkGadtDecl"><span class="hs-identifier hs-var hs-var">mkGadtDecl</span></a></span></span><span> </span><span id="local-6989586621680976706"><span class="annot"><span class="annottext">[Located RdrName]
</span><a href="#local-6989586621680976706"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621680976705"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976705"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976704"><span class="annot"><span class="annottext">HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="#local-6989586621680976704"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976703"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976703"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976702"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976702"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-703"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976700"><span class="annot"><span class="annottext">HsArrow GhcPs
</span><a href="#local-6989586621680976700"><span class="hs-identifier hs-var">_w</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976699"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976699"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976697"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621680976697"><span class="hs-identifier hs-var">rf</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976696"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976696"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976695"><span class="hs-identifier hs-var">body_ty</span></a></span><span>
</span><span id="line-704"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpan [LConDeclField GhcPs]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. rec -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; [LConDeclField GhcPs]
-&gt; GenLocated SrcSpan [LConDeclField GhcPs]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976699"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621680976697"><span class="hs-identifier hs-var">rf</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976696"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-706"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976694"><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621680976694"><span class="hs-identifier hs-var">arg_types</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976693"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976693"><span class="hs-identifier hs-var">res_type</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976692"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976692"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; ([HsScaled GhcPs (LHsType GhcPs)], LHsType GhcPs, [AddAnn])
forall (p :: Pass).
LHsType (GhcPass p)
-&gt; ([HsScaled (GhcPass p) (LHsType (GhcPass p))],
    LHsType (GhcPass p), [AddAnn])
</span><a href="GHC.Hs.Type.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976695"><span class="hs-identifier hs-var">body_ty</span></a></span><span>
</span><span id="line-707"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. [arg] -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
</span><a href="#local-6989586621680976694"><span class="hs-identifier hs-var">arg_types</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976693"><span class="hs-identifier hs-var">res_type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976692"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span>  </span><span class="annot"><span class="annottext">(ConDecl GhcPs, [AddAnn]) -&gt; P (ConDecl GhcPs, [AddAnn])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ConDeclGADT :: forall pass.
XConDeclGADT pass
-&gt; [Located (IdP pass)]
-&gt; Located Bool
-&gt; [LHsTyVarBndr Specificity pass]
-&gt; Maybe (LHsContext pass)
-&gt; HsConDeclDetails pass
-&gt; LHsType pass
-&gt; Maybe LHsDocString
-&gt; ConDecl pass
</span><a href="GHC.Hs.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_g_ext :: XConDeclGADT GhcPs
</span><a href="GHC.Hs.Decls.html#con_g_ext"><span class="hs-identifier hs-var">con_g_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XConDeclGADT GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-710"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_names :: [Located (IdP GhcPs)]
</span><a href="GHC.Hs.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located RdrName]
[Located (IdP GhcPs)]
</span><a href="#local-6989586621680976706"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-711"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: Located Bool
</span><a href="GHC.Hs.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Bool -&gt; Located Bool
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976705"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Located Bool) -&gt; Bool -&gt; Located Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs] -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../base/src/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976687"><span class="hs-identifier hs-var">mtvs</span></a></span><span>
</span><span id="line-712"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_qvars :: [LHsTyVarBndr Specificity GhcPs]
</span><a href="GHC.Hs.Decls.html#con_qvars"><span class="hs-identifier hs-var">con_qvars</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcPs]
-&gt; Maybe [LHsTyVarBndr Specificity GhcPs]
-&gt; [LHsTyVarBndr Specificity GhcPs]
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976687"><span class="hs-identifier hs-var">mtvs</span></a></span><span>
</span><span id="line-713"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: Maybe (LHsContext GhcPs)
</span><a href="GHC.Hs.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976685"><span class="hs-identifier hs-var">mcxt</span></a></span><span>
</span><span id="line-714"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="GHC.Hs.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsConDetails
  (HsScaled GhcPs (LHsType GhcPs))
  (GenLocated SrcSpan [LConDeclField GhcPs])
</span><a href="#local-6989586621680976704"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-715"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: LHsType GhcPs
</span><a href="GHC.Hs.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976703"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-716"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_doc :: Maybe LHsDocString
</span><a href="GHC.Hs.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe LHsDocString
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-717"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976702"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-718"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-719"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680976687"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr Specificity GhcPs]
</span><a href="#local-6989586621680976687"><span class="hs-identifier hs-var">mtvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976685"><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="#local-6989586621680976685"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976695"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976695"><span class="hs-identifier hs-var">body_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; (Maybe [LHsTyVarBndr Specificity GhcPs],
    Maybe (LHsContext GhcPs), LHsType GhcPs)
forall pass.
LHsType pass
-&gt; (Maybe [LHsTyVarBndr Specificity pass], Maybe (LHsContext pass),
    LHsType pass)
</span><a href="GHC.Hs.Type.html#splitLHsGadtTy"><span class="hs-identifier hs-var">splitLHsGadtTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976705"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-type">setRdrNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-722"></span><span class="hs-comment">-- ^ This rather gruesome function is used mainly by the parser.</span><span>
</span><span id="line-723"></span><span class="hs-comment">-- When parsing:</span><span>
</span><span id="line-724"></span><span class="hs-comment">--</span><span>
</span><span id="line-725"></span><span class="hs-comment">-- &gt; data T a = T | T1 Int</span><span>
</span><span id="line-726"></span><span class="hs-comment">--</span><span>
</span><span id="line-727"></span><span class="hs-comment">-- we parse the data constructors as /types/ because of parser ambiguities,</span><span>
</span><span id="line-728"></span><span class="hs-comment">-- so then we need to change the /type constr/ to a /data constr/</span><span>
</span><span id="line-729"></span><span class="hs-comment">--</span><span>
</span><span id="line-730"></span><span class="hs-comment">-- The exact-name case /can/ occur when parsing:</span><span>
</span><span id="line-731"></span><span class="hs-comment">--</span><span>
</span><span id="line-732"></span><span class="hs-comment">-- &gt; data [] a = [] | a : [a]</span><span>
</span><span id="line-733"></span><span class="hs-comment">--</span><span>
</span><span id="line-734"></span><span class="hs-comment">-- For the exact-name case we return an original name.</span><span>
</span><span id="line-735"></span><span id="setRdrNameSpace"><span class="annot"><span class="annottext">setRdrNameSpace :: RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var hs-var">setRdrNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680976681"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976681"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976680"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976680"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976680"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976681"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-736"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621680976677"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680976677"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680976676"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976676"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976675"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976675"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-var">Qual</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680976677"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976675"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976676"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-737"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621680976673"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680976673"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680976672"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976672"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976671"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976671"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621680976673"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976671"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976672"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-identifier hs-var">setRdrNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680976669"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621680976668"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976668"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976667"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621680976667"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe TyThing
</span><a href="GHC.Types.Name.html#wiredInNameTyThing_maybe"><span class="hs-identifier hs-var">wiredInNameTyThing_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621680976667"><span class="hs-identifier hs-var">thing</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976668"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-741"></span><span>    </span><span class="hs-comment">-- Preserve Exact Names for wired-in things,</span><span>
</span><span id="line-742"></span><span>    </span><span class="hs-comment">-- notably tuples and lists</span><span>
</span><span id="line-743"></span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-var">Orig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; Name -&gt; Module
Name -&gt; Module
</span><a href="GHC.Types.Name.html#nameModule"><span class="hs-identifier hs-var">nameModule</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976662"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-comment">-- This can happen when quoting and then</span><span>
</span><span id="line-748"></span><span>                </span><span class="hs-comment">-- splicing a fixity declaration for a type</span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; SrcSpan -&gt; Name
</span><a href="GHC.Types.Name.html#mkSystemNameAt"><span class="hs-identifier hs-var">mkSystemNameAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Unique
</span><a href="GHC.Types.Name.html#nameUnique"><span class="hs-identifier hs-var">nameUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976662"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#nameSrcSpan"><span class="hs-identifier hs-var">nameSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-750"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-751"></span><span>    </span><span id="local-6989586621680976662"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621680976662"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976668"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976669"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-type">setWiredInNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-754"></span><span id="setWiredInNameSpace"><span class="annot"><span class="annottext">setWiredInNameSpace :: TyThing -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var hs-var">setWiredInNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621680976656"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976656"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976655"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976655"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976655"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var">ty_con_data_con</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976656"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976655"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-758"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976656"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-759"></span><span>
</span><span id="line-760"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621680976648"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976648"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976647"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976647"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-761"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976647"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-762"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var">data_con_ty_con</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976648"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-763"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976647"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-764"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976648"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- No-op</span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#setWiredInNameSpace"><span class="hs-identifier hs-var">setWiredInNameSpace</span></a></span><span> </span><span id="local-6989586621680976645"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621680976645"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span id="local-6989586621680976644"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976644"><span class="hs-identifier hs-var">ns</span></a></span></span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; RdrName
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Outputable.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;setWiredinNameSpace&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621680976644"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621680976645"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-type">ty_con_data_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-770"></span><span id="ty_con_data_con"><span class="annot"><span class="annottext">ty_con_data_con :: TyCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#ty_con_data_con"><span class="hs-identifier hs-var hs-var">ty_con_data_con</span></a></span></span><span> </span><span id="local-6989586621680976641"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976641"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976641"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-772"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976640"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976640"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe DataCon
</span><a href="GHC.Core.TyCon.html#tyConSingleDataCon_maybe"><span class="hs-identifier hs-var">tyConSingleDataCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976641"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-773"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976640"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-774"></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976641"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#listTyConKey"><span class="hs-identifier hs-var">listTyConKey</span></a></span><span>
</span><span id="line-776"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#nilDataConName"><span class="hs-identifier hs-var">nilDataConName</span></a></span><span>
</span><span id="line-777"></span><span>
</span><span id="line-778"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var">srcDataName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976641"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>
</span><span id="line-781"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-type">data_con_ty_con</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-782"></span><span id="data_con_ty_con"><span class="annot"><span class="annottext">data_con_ty_con :: DataCon -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#data_con_ty_con"><span class="hs-identifier hs-var hs-var">data_con_ty_con</span></a></span></span><span> </span><span id="local-6989586621680976638"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976638"><span class="hs-identifier hs-var">dc</span></a></span></span><span>
</span><span id="line-783"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976637"><span class="annot"><span class="annottext">tc :: TyCon
</span><a href="#local-6989586621680976637"><span class="hs-identifier hs-var hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976638"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-784"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTupleTyCon"><span class="hs-identifier hs-var">isTupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976637"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-785"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621680976637"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976638"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#nilDataConKey"><span class="hs-identifier hs-var">nilDataConKey</span></a></span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#listTyConName"><span class="hs-identifier hs-var">listTyConName</span></a></span><span>
</span><span id="line-789"></span><span>
</span><span id="line-790"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>  </span><span class="hs-comment">-- See Note [setRdrNameSpace for wired-in names]</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680976638"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span class="hs-comment">-- | Replaces constraint tuple names with corresponding boxed ones.</span><span>
</span><span id="line-794"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#filterCTuple"><span class="hs-identifier hs-type">filterCTuple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-795"></span><span id="filterCTuple"><span class="annot"><span class="annottext">filterCTuple :: RdrName -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#filterCTuple"><span class="hs-identifier hs-var hs-var">filterCTuple</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621680976635"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976635"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976634"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680976634"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Int
</span><a href="GHC.Builtin.Types.html#cTupleTyConNameArity_maybe"><span class="hs-identifier hs-var">cTupleTyConNameArity_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976635"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-var">Exact</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; RdrName) -&gt; Name -&gt; RdrName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TupleSort -&gt; Int -&gt; Name
</span><a href="GHC.Builtin.Types.html#tupleTyConName"><span class="hs-identifier hs-var">tupleTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TupleSort
</span><a href="GHC.Types.Basic.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680976634"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-798"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#filterCTuple"><span class="hs-identifier hs-var">filterCTuple</span></a></span><span> </span><span id="local-6989586621680976632"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976632"><span class="hs-identifier hs-var">rdr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976632"><span class="hs-identifier hs-var">rdr</span></a></span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span class="hs-comment">{- Note [setRdrNameSpace for wired-in names]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In GHC.Types, which declares (:), we have
  infixr 5 :
The ambiguity about which &quot;:&quot; is meant is resolved by parsing it as a
data constructor, but then using dataTcOccs to try the type constructor too;
and that in turn calls setRdrNameSpace to change the name-space of &quot;:&quot; to
tcClsName.  There isn't a corresponding &quot;:&quot; type constructor, but it's painful
to make setRdrNameSpace partial, so we just make an Unqual name instead. It
really doesn't matter!
-}</span><span>
</span><span id="line-812"></span><span>
</span><span id="line-813"></span><span id="local-6989586621680978016"><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-type">eitherToP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680978016"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680978016"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-814"></span><span class="hs-comment">-- Adapts the Either monad to the P monad</span><span>
</span><span id="line-815"></span><span id="eitherToP"><span class="annot"><span class="annottext">eitherToP :: forall a. Either (SrcSpan, SDoc) a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var hs-var">eitherToP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976628"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976628"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976627"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976627"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976628"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976627"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-816"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680976626"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976626"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; P a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976626"><span class="hs-identifier hs-var">thing</span></a></span><span>
</span><span id="line-817"></span><span>
</span><span id="line-818"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-type">checkTyVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-819"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- the synthesized type variables</span><span>
</span><span id="line-820"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- action which adds annotations</span><span>
</span><span id="line-821"></span><span class="hs-comment">-- ^ Check whether the given list of type parameters are all type variables</span><span>
</span><span id="line-822"></span><span class="hs-comment">-- (possibly with a kind signature).</span><span>
</span><span id="line-823"></span><span id="checkTyVars"><span class="annot"><span class="annottext">checkTyVars :: SDoc
-&gt; SDoc
-&gt; Located RdrName
-&gt; [LHsTypeArg GhcPs]
-&gt; P (LHsQTyVars GhcPs, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyVars"><span class="hs-identifier hs-var hs-var">checkTyVars</span></a></span></span><span> </span><span id="local-6989586621680976625"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span></span><span> </span><span id="local-6989586621680976624"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976624"><span class="hs-identifier hs-var">equals_or_where</span></a></span></span><span> </span><span id="local-6989586621680976623"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976623"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621680976622"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976622"><span class="hs-identifier hs-var">tparms</span></a></span></span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976621"><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976621"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976620"><span class="annot"><span class="annottext">[[AddAnn]]
</span><a href="#local-6989586621680976620"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([(LHsTyVarBndr () GhcPs, [AddAnn])]
 -&gt; ([LHsTyVarBndr () GhcPs], [[AddAnn]]))
-&gt; P [(LHsTyVarBndr () GhcPs, [AddAnn])]
-&gt; P ([LHsTyVarBndr () GhcPs], [[AddAnn]])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(LHsTyVarBndr () GhcPs, [AddAnn])]
-&gt; ([LHsTyVarBndr () GhcPs], [[AddAnn]])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../base/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">(P [(LHsTyVarBndr () GhcPs, [AddAnn])]
 -&gt; P ([LHsTyVarBndr () GhcPs], [[AddAnn]]))
-&gt; P [(LHsTyVarBndr () GhcPs, [AddAnn])]
-&gt; P ([LHsTyVarBndr () GhcPs], [[AddAnn]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsTypeArg GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn]))
-&gt; [LHsTypeArg GhcPs] -&gt; P [(LHsTyVarBndr () GhcPs, [AddAnn])]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
</span><a href="#local-6989586621680976618"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976622"><span class="hs-identifier hs-var">tparms</span></a></span><span>
</span><span id="line-825"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(LHsQTyVars GhcPs, [AddAnn]) -&gt; P (LHsQTyVars GhcPs, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs] -&gt; LHsQTyVars GhcPs
</span><a href="GHC.Hs.Type.html#mkHsQTvs"><span class="hs-identifier hs-var">mkHsQTvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcPs]
</span><a href="#local-6989586621680976621"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[[AddAnn]] -&gt; [AddAnn]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="annot"><span class="annottext">[[AddAnn]]
</span><a href="#local-6989586621680976620"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-826"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-827"></span><span>    </span><span id="local-6989586621680976618"><span class="annot"><span class="annottext">check :: LHsTypeArg GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
</span><a href="#local-6989586621680976618"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976614"><span class="annot"><span class="annottext">ki :: LHsType GhcPs
</span><a href="#local-6989586621680976614"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976613"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976613"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976613"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn]))
-&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-829"></span><span>                                      </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected type application&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-830"></span><span>                                            </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976614"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-831"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-832"></span><span>                                            </span><span class="annot"><span class="annottext">PtrString -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PtrString
</span><a href="GHC.Data.FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;declaration for&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976623"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><a href="#local-6989586621680976618"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621680976608"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976608"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; LHsType GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
</span><a href="#local-6989586621680976607"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976608"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-834"></span><span>    </span><span class="annot"><a href="#local-6989586621680976618"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span id="local-6989586621680976605"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976605"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976605"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn]))
-&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-835"></span><span>                          </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Malformed&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span><span>
</span><span id="line-836"></span><span>                            </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;declaration for&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976623"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-837"></span><span>        </span><span class="hs-comment">-- Keep around an action for adjusting the annotations of extra parens</span><span>
</span><span id="line-838"></span><span>    </span><span class="annot"><a href="#local-6989586621680976607"><span class="hs-identifier hs-type">chkParens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-839"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-840"></span><span>    </span><span id="local-6989586621680976607"><span class="annot"><span class="annottext">chkParens :: [AddAnn] -&gt; LHsType GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
</span><a href="#local-6989586621680976607"><span class="hs-identifier hs-var hs-var">chkParens</span></a></span></span><span> </span><span id="local-6989586621680976604"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976604"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976603"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976603"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976601"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976601"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; LHsType GhcPs -&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
</span><a href="#local-6989586621680976607"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976603"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976604"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976601"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-841"></span><span>    </span><span class="annot"><a href="#local-6989586621680976607"><span class="hs-identifier hs-var">chkParens</span></a></span><span> </span><span id="local-6989586621680976599"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976599"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976598"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976598"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-842"></span><span>      </span><span id="local-6989586621680976597"><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs
</span><a href="#local-6989586621680976597"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621680976596"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976598"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-843"></span><span>      </span><span class="annot"><span class="annottext">(LHsTyVarBndr () GhcPs, [AddAnn])
-&gt; P (LHsTyVarBndr () GhcPs, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs
</span><a href="#local-6989586621680976597"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976599"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span>
</span><span id="line-845"></span><span>        </span><span class="hs-comment">-- Check that the name space is correct!</span><span>
</span><span id="line-846"></span><span>    </span><span class="annot"><a href="#local-6989586621680976596"><span class="hs-identifier hs-type">chk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>    </span><span id="local-6989586621680976596"><span class="annot"><span class="annottext">chk :: LHsType GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
</span><a href="#local-6989586621680976596"><span class="hs-identifier hs-var hs-var">chk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976595"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976595"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsKindSig"><span class="hs-identifier hs-type">HsKindSig</span></a></span><span> </span><span class="annot"><span class="annottext">XKindSig GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976593"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976593"><span class="hs-identifier hs-var">lv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976591"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976591"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976590"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976590"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976591"><span class="hs-identifier hs-var">tv</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976595"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; Located (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag
-&gt; Located (IdP pass)
-&gt; LHsKind pass
-&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XKindedTyVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976593"><span class="hs-identifier hs-var">lv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976591"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976590"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-849"></span><span>    </span><span class="annot"><a href="#local-6989586621680976596"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976588"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976588"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976587"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976587"><span class="hs-identifier hs-var">ltv</span></a></span></span><span> </span><span id="local-6989586621680976586"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976586"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTyVar"><span class="hs-identifier hs-var">isRdrTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976586"><span class="hs-identifier hs-var">tv</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcPs -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsTyVarBndr () GhcPs -&gt; LHsTyVarBndr () GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976588"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; Located (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass
-&gt; flag -&gt; Located (IdP pass) -&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XUserTyVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976587"><span class="hs-identifier hs-var">ltv</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976586"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>    </span><span class="annot"><a href="#local-6989586621680976596"><span class="hs-identifier hs-var">chk</span></a></span><span> </span><span id="local-6989586621680976585"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621680976585"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976584"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976584"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-852"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976584"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P (LHsTyVarBndr () GhcPs))
-&gt; SDoc -&gt; P (LHsTyVarBndr () GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-853"></span><span>                </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected type&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976585"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-854"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span><span>
</span><span id="line-855"></span><span>                       </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PtrString -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PtrString
</span><a href="GHC.Data.FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;declaration for&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976583"><span class="hs-identifier hs-var">tc'</span></a></span><span>
</span><span id="line-856"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span><span>
</span><span id="line-857"></span><span>                              </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PtrString -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PtrString
</span><a href="GHC.Data.FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;declaration should have form&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-858"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-859"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976625"><span class="hs-identifier hs-var">pp_what</span></a></span><span>
</span><span id="line-860"></span><span>                        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976583"><span class="hs-identifier hs-var">tc'</span></a></span><span>
</span><span id="line-861"></span><span>                        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; SDoc) -&gt; [String] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; [String] -&gt; [String]
forall b a. [b] -&gt; [a] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#takeList"><span class="hs-identifier hs-var">takeList</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976622"><span class="hs-identifier hs-var">tparms</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="GHC.Builtin.Names.html#allNameStrings"><span class="hs-identifier hs-var">allNameStrings</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-862"></span><span>                        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976624"><span class="hs-identifier hs-var">equals_or_where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-863"></span><span>
</span><span id="line-864"></span><span>    </span><span class="hs-comment">-- Avoid printing a constraint tuple in the error message. Print</span><span>
</span><span id="line-865"></span><span>    </span><span class="hs-comment">-- a plain old tuple instead (since that's what the user probably</span><span>
</span><span id="line-866"></span><span>    </span><span class="hs-comment">-- wrote). See #14907</span><span>
</span><span id="line-867"></span><span>    </span><span id="local-6989586621680976583"><span class="annot"><span class="annottext">tc' :: SDoc
</span><a href="#local-6989586621680976583"><span class="hs-identifier hs-var hs-var">tc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; SDoc) -&gt; Located RdrName -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName) -&gt; Located RdrName -&gt; Located RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#filterCTuple"><span class="hs-identifier hs-var">filterCTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976623"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span>
</span><span id="line-871"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-type">whereDots</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-type">equalsDots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-872"></span><span class="hs-comment">-- Second argument to checkTyVars</span><span>
</span><span id="line-873"></span><span id="whereDots"><span class="annot"><span class="annottext">whereDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#whereDots"><span class="hs-identifier hs-var hs-var">whereDots</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;where ...&quot;</span></span><span>
</span><span id="line-874"></span><span id="equalsDots"><span class="annot"><span class="annottext">equalsDots :: SDoc
</span><a href="GHC.Parser.PostProcess.html#equalsDots"><span class="hs-identifier hs-var hs-var">equalsDots</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;= ...&quot;</span></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-type">checkDatatypeContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-877"></span><span id="checkDatatypeContext"><span class="annot"><span class="annottext">checkDatatypeContext :: Maybe (LHsContext GhcPs) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var hs-var">checkDatatypeContext</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcPs)
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-878"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDatatypeContext"><span class="hs-identifier hs-var">checkDatatypeContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976579"><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621680976579"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976578"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976578"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DatatypeContextsBit"><span class="hs-identifier hs-var">DatatypeContextsBit</span></a></span><span>
</span><span id="line-880"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976578"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-881"></span><span>             </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621680976579"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-882"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal datatype context (use DatatypeContexts):&quot;</span></span><span>
</span><span id="line-883"></span><span>                  </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs -&gt; SDoc
forall (p :: Pass).
OutputableBndrId p =&gt;
LHsContext (GhcPass p) -&gt; SDoc
</span><a href="GHC.Hs.Type.html#pprLHsContext"><span class="hs-identifier hs-var">pprLHsContext</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcPs
</span><a href="#local-6989586621680976579"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span class="hs-keyword">type</span><span> </span><span id="LRuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-var">LRuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span>
</span><span id="line-886"></span><span class="hs-keyword">data</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RuleTyTmVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-var">RuleTyTmVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-887"></span><span class="hs-comment">-- ^ Essentially a wrapper for a @RuleBndr GhcPs@</span><span>
</span><span id="line-888"></span><span>
</span><span id="line-889"></span><span class="hs-comment">-- turns RuleTyTmVars into RuleBnrs - this is straightforward</span><span>
</span><span id="line-890"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-type">mkRuleBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-891"></span><span id="mkRuleBndrs"><span class="annot"><span class="annottext">mkRuleBndrs :: [LRuleTyTmVar] -&gt; [LRuleBndr GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleBndrs"><span class="hs-identifier hs-var hs-var">mkRuleBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRuleTyTmVar -&gt; LRuleBndr GhcPs)
-&gt; [LRuleTyTmVar] -&gt; [LRuleBndr GhcPs]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RuleTyTmVar -&gt; RuleBndr GhcPs) -&gt; LRuleTyTmVar -&gt; LRuleBndr GhcPs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621680976573"><span class="hs-identifier hs-var">cvt_one</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680976573"><span class="annot"><span class="annottext">cvt_one :: RuleTyTmVar -&gt; RuleBndr GhcPs
</span><a href="#local-6989586621680976573"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621680976572"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976572"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XCRuleBndr GhcPs -&gt; Located (IdP GhcPs) -&gt; RuleBndr GhcPs
forall pass. XCRuleBndr pass -&gt; Located (IdP pass) -&gt; RuleBndr pass
</span><a href="GHC.Hs.Decls.html#RuleBndr"><span class="hs-identifier hs-var">RuleBndr</span></a></span><span>    </span><span class="annot"><span class="annottext">NoExtField
XCRuleBndr GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976572"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-893"></span><span>        </span><span class="annot"><a href="#local-6989586621680976573"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621680976570"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976570"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976569"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976569"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-894"></span><span>          </span><span class="annot"><span class="annottext">XRuleBndrSig GhcPs
-&gt; Located (IdP GhcPs) -&gt; HsPatSigType GhcPs -&gt; RuleBndr GhcPs
forall pass.
XRuleBndrSig pass
-&gt; Located (IdP pass) -&gt; HsPatSigType pass -&gt; RuleBndr pass
</span><a href="GHC.Hs.Decls.html#RuleBndrSig"><span class="hs-identifier hs-var">RuleBndrSig</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XRuleBndrSig GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976570"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976569"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span class="hs-comment">-- turns RuleTyTmVars into HsTyVarBndrs - this is more interesting</span><span>
</span><span id="line-897"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-type">mkRuleTyVarBndrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.PostProcess.html#LRuleTyTmVar"><span class="hs-identifier hs-type">LRuleTyTmVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-898"></span><span id="mkRuleTyVarBndrs"><span class="annot"><span class="annottext">mkRuleTyVarBndrs :: [LRuleTyTmVar] -&gt; [LHsTyVarBndr () GhcPs]
</span><a href="GHC.Parser.PostProcess.html#mkRuleTyVarBndrs"><span class="hs-identifier hs-var hs-var">mkRuleTyVarBndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRuleTyTmVar -&gt; LHsTyVarBndr () GhcPs)
-&gt; [LRuleTyTmVar] -&gt; [LHsTyVarBndr () GhcPs]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RuleTyTmVar -&gt; HsTyVarBndr () GhcPs)
-&gt; LRuleTyTmVar -&gt; LHsTyVarBndr () GhcPs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RuleTyTmVar -&gt; HsTyVarBndr () GhcPs
</span><a href="#local-6989586621680976566"><span class="hs-identifier hs-var">cvt_one</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680976566"><span class="annot"><span class="annottext">cvt_one :: RuleTyTmVar -&gt; HsTyVarBndr () GhcPs
</span><a href="#local-6989586621680976566"><span class="hs-identifier hs-var hs-var">cvt_one</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621680976563"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976563"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XUserTyVar GhcPs
-&gt; () -&gt; Located (IdP GhcPs) -&gt; HsTyVarBndr () GhcPs
forall flag pass.
XUserTyVar pass
-&gt; flag -&gt; Located (IdP pass) -&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XUserTyVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName) -&gt; Located RdrName -&gt; Located RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621680976562"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976563"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-901"></span><span>        </span><span class="annot"><a href="#local-6989586621680976566"><span class="hs-identifier hs-var">cvt_one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#RuleTyTmVar"><span class="hs-identifier hs-type">RuleTyTmVar</span></a></span><span> </span><span id="local-6989586621680976561"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976561"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976560"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976560"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-902"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XKindedTyVar GhcPs
-&gt; ()
-&gt; Located (IdP GhcPs)
-&gt; LHsType GhcPs
-&gt; HsTyVarBndr () GhcPs
forall flag pass.
XKindedTyVar pass
-&gt; flag
-&gt; Located (IdP pass)
-&gt; LHsKind pass
-&gt; HsTyVarBndr flag pass
</span><a href="GHC.Hs.Type.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XKindedTyVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName) -&gt; Located RdrName -&gt; Located RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName
</span><a href="#local-6989586621680976562"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976561"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976560"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-903"></span><span>    </span><span class="hs-comment">-- takes something in namespace 'varName' to something in namespace 'tvName'</span><span>
</span><span id="line-904"></span><span>        </span><span id="local-6989586621680976562"><span class="annot"><span class="annottext">tm_to_ty :: RdrName -&gt; RdrName
</span><a href="#local-6989586621680976562"><span class="hs-identifier hs-var hs-var">tm_to_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680976559"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976559"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976559"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-905"></span><span>        </span><span class="annot"><a href="#local-6989586621680976562"><span class="hs-identifier hs-var">tm_to_ty</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; RdrName
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkRuleTyVarBndrs&quot;</span></span><span>
</span><span id="line-906"></span><span>
</span><span id="line-907"></span><span class="hs-comment">-- See note [Parsing explicit foralls in Rules] in Parser.y</span><span>
</span><span id="line-908"></span><span id="local-6989586621680977990"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-type">checkRuleTyVarBndrNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977990"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-909"></span><span id="checkRuleTyVarBndrNames"><span class="annot"><span class="annottext">checkRuleTyVarBndrNames :: forall flag. [LHsTyVarBndr flag GhcPs] -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkRuleTyVarBndrNames"><span class="hs-identifier hs-var hs-var">checkRuleTyVarBndrNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpan (HsTyVarBndr flag GhcPs) -&gt; P ())
-&gt; [GenLocated SrcSpan (HsTyVarBndr flag GhcPs)] -&gt; P ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../base/src/Data.Foldable.html#mapM_"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; P ()
forall {f :: * -&gt; *}. MonadP f =&gt; Located RdrName -&gt; f ()
</span><a href="#local-6989586621680976552"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; P ())
-&gt; (GenLocated SrcSpan (HsTyVarBndr flag GhcPs) -&gt; Located RdrName)
-&gt; GenLocated SrcSpan (HsTyVarBndr flag GhcPs)
-&gt; P ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HsTyVarBndr flag GhcPs -&gt; RdrName)
-&gt; GenLocated SrcSpan (HsTyVarBndr flag GhcPs) -&gt; Located RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyVarBndr flag GhcPs -&gt; RdrName
forall flag (p :: Pass).
HsTyVarBndr flag (GhcPass p) -&gt; IdP (GhcPass p)
</span><a href="GHC.Hs.Type.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680976552"><span class="annot"><span class="annottext">check :: Located RdrName -&gt; f ()
</span><a href="#local-6989586621680976552"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976540"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976540"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621680976539"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976539"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-911"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; f () -&gt; f ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976539"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; [String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#any"><span class="hs-operator hs-var">`any`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;forall&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;family&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;role&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-912"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; f ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976540"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SDoc) -&gt; String -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;parse error on input &quot;</span></span><span>
</span><span id="line-913"></span><span>                                    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976539"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-914"></span><span>        </span><span class="annot"><a href="#local-6989586621680976552"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f ()
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;checkRuleTyVarBndrNames&quot;</span></span><span>
</span><span id="line-915"></span><span>
</span><span id="line-916"></span><span id="local-6989586621680977977"><span id="local-6989586621680977978"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-type">checkRecordSyntax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977978"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977977"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977977"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680977978"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977977"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-917"></span><span id="checkRecordSyntax"><span class="annot"><span class="annottext">checkRecordSyntax :: forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
Located a -&gt; m (Located a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var hs-var">checkRecordSyntax</span></a></span></span><span> </span><span id="local-6989586621680976525"><span class="annot"><span class="annottext">lr :: Located a
</span><a href="#local-6989586621680976525"><span class="hs-identifier hs-var">lr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976524"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976524"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976523"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976523"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976522"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976522"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; m Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#TraditionalRecordSyntaxBit"><span class="hs-identifier hs-var">TraditionalRecordSyntaxBit</span></a></span><span>
</span><span id="line-919"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976522"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; m ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976524"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; m ()) -&gt; SDoc -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-920"></span><span>           </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal record syntax (use TraditionalRecordSyntax):&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680976523"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-921"></span><span>         </span><span class="annot"><span class="annottext">Located a -&gt; m (Located a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976525"><span class="hs-identifier hs-var">lr</span></a></span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="hs-comment">-- | Check if the gadt_constrlist is empty. Only raise parse error for</span><span>
</span><span id="line-924"></span><span class="hs-comment">-- `data T where` to avoid affecting existing error message, see #8258.</span><span>
</span><span id="line-925"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-type">checkEmptyGADTs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-926"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-927"></span><span id="checkEmptyGADTs"><span class="annot"><span class="annottext">checkEmptyGADTs :: Located ([AddAnn], [LConDecl GhcPs])
-&gt; P (Located ([AddAnn], [LConDecl GhcPs]))
</span><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var hs-var">checkEmptyGADTs</span></a></span></span><span> </span><span id="local-6989586621680976520"><span class="annot"><span class="annottext">gadts :: Located ([AddAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621680976520"><span class="hs-identifier hs-var">gadts</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976519"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976519"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- Empty GADT declaration.</span><span>
</span><span id="line-928"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976518"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976518"><span class="hs-identifier hs-var">gadtSyntax</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#GadtSyntaxBit"><span class="hs-identifier hs-var">GadtSyntaxBit</span></a></span><span>   </span><span class="hs-comment">-- GADTs implies GADTSyntax</span><span>
</span><span id="line-929"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976518"><span class="hs-identifier hs-var">gadtSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976519"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P ()) -&gt; SDoc -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-930"></span><span>           </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal keyword 'where' in data declaration&quot;</span></span><span>
</span><span id="line-931"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you intended to use GADTs or a similar language&quot;</span></span><span>
</span><span id="line-932"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extension to enable syntax: data T where&quot;</span></span><span>
</span><span id="line-933"></span><span>           </span><span class="hs-special">]</span><span>
</span><span id="line-934"></span><span>         </span><span class="annot"><span class="annottext">Located ([AddAnn], [LConDecl GhcPs])
-&gt; P (Located ([AddAnn], [LConDecl GhcPs]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621680976520"><span class="hs-identifier hs-var">gadts</span></a></span><span>
</span><span id="line-935"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkEmptyGADTs"><span class="hs-identifier hs-var">checkEmptyGADTs</span></a></span><span> </span><span id="local-6989586621680976516"><span class="annot"><span class="annottext">Located ([AddAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621680976516"><span class="hs-identifier hs-var">gadts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located ([AddAnn], [LConDecl GhcPs])
-&gt; P (Located ([AddAnn], [LConDecl GhcPs]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located ([AddAnn], [LConDecl GhcPs])
</span><a href="#local-6989586621680976516"><span class="hs-identifier hs-var">gadts</span></a></span><span>              </span><span class="hs-comment">-- Ordinary GADT declaration.</span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-type">checkTyClHdr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>               </span><span class="hs-comment">-- True  &lt;=&gt; class header</span><span>
</span><span id="line-938"></span><span>                                   </span><span class="hs-comment">-- False &lt;=&gt; type header</span><span>
</span><span id="line-939"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-940"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- the head symbol (type or class name)</span><span>
</span><span id="line-941"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- parameters of head symbol</span><span>
</span><span id="line-942"></span><span>                   </span><span class="annot"><a href="GHC.Types.Basic.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- the declaration is in infix format</span><span>
</span><span id="line-943"></span><span>                   </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- API Annotation for HsParTy when stripping parens</span><span>
</span><span id="line-944"></span><span class="hs-comment">-- Well-formedness check and decomposition of type and class heads.</span><span>
</span><span id="line-945"></span><span class="hs-comment">-- Decomposes   T ty1 .. tyn   into    (T, [ty1, ..., tyn])</span><span>
</span><span id="line-946"></span><span class="hs-comment">--              Int :*: Bool   into    (:*:, [Int, Bool])</span><span>
</span><span id="line-947"></span><span class="hs-comment">-- returning the pieces</span><span>
</span><span id="line-948"></span><span id="checkTyClHdr"><span class="annot"><span class="annottext">checkTyClHdr :: Bool
-&gt; LHsType GhcPs
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="GHC.Parser.PostProcess.html#checkTyClHdr"><span class="hs-identifier hs-var hs-var">checkTyClHdr</span></a></span></span><span> </span><span id="local-6989586621680976515"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976515"><span class="hs-identifier hs-var">is_cls</span></a></span></span><span> </span><span id="local-6989586621680976514"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976514"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-949"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976513"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976514"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-951"></span><span>    </span><span id="local-6989586621680976513"><span class="annot"><span class="annottext">goL :: LHsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976513"><span class="hs-identifier hs-var hs-var">goL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976512"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976512"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976511"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976511"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976510"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976510"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976509"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976509"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976508"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976508"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsKind GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976512"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976511"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976510"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976509"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976508"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-952"></span><span>
</span><span id="line-953"></span><span>    </span><span class="hs-comment">-- workaround to define '*' despite StarIsType</span><span>
</span><span id="line-954"></span><span>    </span><span id="local-6989586621680976507"><span class="annot"><span class="annottext">go :: SrcSpan
-&gt; HsKind GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976507"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680976506"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976506"><span class="hs-identifier hs-var">lp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976505"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976505"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsStarTy"><span class="hs-identifier hs-type">HsStarTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStarTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976503"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976503"><span class="hs-identifier hs-var">isUni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976502"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976502"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976501"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976501"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976500"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976500"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-955"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnStarBndr"><span class="hs-identifier hs-var">warnStarBndr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976505"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-956"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976498"><span class="annot"><span class="annottext">name :: OccName
</span><a href="#local-6989586621680976498"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; String -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976503"><span class="hs-identifier hs-var">isUni</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-957"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976505"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-var">Unqual</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621680976498"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976502"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976500"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976501"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976506"><span class="hs-identifier hs-var">lp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-958"></span><span>
</span><span id="line-959"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976496"><span class="annot"><span class="annottext">ltc :: Located (IdP GhcPs)
</span><a href="#local-6989586621680976496"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976495"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976495"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976494"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976494"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976493"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976493"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976492"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976492"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-960"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976495"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976496"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976494"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976492"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976493"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">XOpTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976489"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976489"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680976488"><span class="annot"><span class="annottext">ltc :: Located (IdP GhcPs)
</span><a href="#local-6989586621680976488"><span class="hs-identifier hs-var">ltc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976487"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976487"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976486"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976486"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976485"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976485"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976484"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976484"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976483"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976483"><span class="hs-identifier hs-var">_fix</span></a></span></span><span>
</span><span id="line-962"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrTc"><span class="hs-identifier hs-var">isRdrTc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976487"><span class="hs-identifier hs-var">tc</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976488"><span class="hs-identifier hs-var">ltc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976489"><span class="hs-identifier hs-var">t1</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976486"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976485"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976484"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-963"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976482"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976482"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976481"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976481"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>    </span><span id="local-6989586621680976480"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976480"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976479"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976479"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976478"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976478"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976513"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976481"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976480"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976479"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976482"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976478"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-964"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsAppTy"><span class="hs-identifier hs-type">HsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976476"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976476"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680976475"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976475"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976474"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976474"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976473"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976473"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976472"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976472"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976513"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976476"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976475"><span class="hs-identifier hs-var">t2</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976474"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976473"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976472"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-965"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsAppKindTy"><span class="hs-identifier hs-type">HsAppKindTy</span></a></span><span> </span><span id="local-6989586621680976470"><span class="annot"><span class="annottext">XAppKindTy GhcPs
</span><a href="#local-6989586621680976470"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976469"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976469"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680976468"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976468"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976467"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976467"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976466"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976466"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976465"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976465"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs]
-&gt; [AddAnn]
-&gt; LexicalFixity
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
</span><a href="#local-6989586621680976513"><span class="hs-identifier hs-var">goL</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976469"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. SrcSpan -&gt; ty -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
XAppKindTy GhcPs
</span><a href="#local-6989586621680976470"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976468"><span class="hs-identifier hs-var">ki</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976467"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976466"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976465"><span class="hs-identifier hs-var">fix</span></a></span><span>
</span><span id="line-966"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976464"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976464"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="GHC.Hs.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621680976461"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680976461"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621680976460"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976460"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976459"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976459"><span class="hs-identifier hs-var">fix</span></a></span></span><span>
</span><span id="line-967"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976464"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#nameRdrName"><span class="hs-identifier hs-var">nameRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621680976457"><span class="hs-identifier hs-var">tup_name</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; LHsTypeArg GhcPs)
-&gt; [LHsType GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680976461"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976459"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976460"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-969"></span><span>        </span><span id="local-6989586621680976456"><span class="annot"><span class="annottext">arity :: Int
</span><a href="#local-6989586621680976456"><span class="hs-identifier hs-var hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680976461"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-970"></span><span>        </span><span id="local-6989586621680976457"><span class="annot"><span class="annottext">tup_name :: Name
</span><a href="#local-6989586621680976457"><span class="hs-identifier hs-var hs-var">tup_name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976515"><span class="hs-identifier hs-var">is_cls</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Name
</span><a href="GHC.Builtin.Types.html#cTupleTyConName"><span class="hs-identifier hs-var">cTupleTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680976456"><span class="hs-identifier hs-var">arity</span></a></span><span>
</span><span id="line-971"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; TyCon
</span><a href="GHC.Builtin.Types.html#tupleTyCon"><span class="hs-identifier hs-var">tupleTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680976456"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span>          </span><span class="hs-comment">-- See Note [Unit tuples] in GHC.Hs.Type  (TODO: is this still relevant?)</span><span>
</span><span id="line-973"></span><span>    </span><span class="annot"><a href="#local-6989586621680976507"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976453"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976453"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-974"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; SDoc
-&gt; P (Located RdrName, [LHsTypeArg GhcPs], LexicalFixity, [AddAnn])
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976453"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Malformed head of type or class declaration:&quot;</span></span><span>
</span><span id="line-975"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976514"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-976"></span><span>
</span><span id="line-977"></span><span class="hs-comment">-- | Yield a parse error if we have a function applied directly to a do block</span><span>
</span><span id="line-978"></span><span class="hs-comment">-- etc. and BlockArguments is not enabled.</span><span>
</span><span id="line-979"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-type">checkExpBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-type">checkCmdBlockArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-981"></span><span class="hs-special">(</span><span id="checkExpBlockArguments"><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span></span><span class="hs-special">,</span><span> </span><span id="checkCmdBlockArguments"><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621680976430"><span class="hs-identifier hs-var">checkExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621680976429"><span class="hs-identifier hs-var">checkCmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-983"></span><span>    </span><span class="annot"><a href="#local-6989586621680976430"><span class="hs-identifier hs-type">checkExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-984"></span><span>    </span><span id="local-6989586621680976430"><span class="annot"><span class="annottext">checkExpr :: LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621680976430"><span class="hs-identifier hs-var hs-var">checkExpr</span></a></span></span><span> </span><span id="local-6989586621680976428"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-985"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; HsExpr GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-986"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#DoExpr"><span class="hs-identifier hs-type">DoExpr</span></a></span><span> </span><span id="local-6989586621680976425"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680976425"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Hs.Expr.html#prependQualified"><span class="hs-identifier hs-var">prependQualified</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680976425"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;do block&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-987"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#MDoExpr"><span class="hs-identifier hs-type">MDoExpr</span></a></span><span> </span><span id="local-6989586621680976421"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680976421"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located [ExprLStmt GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Hs.Expr.html#prependQualified"><span class="hs-identifier hs-var">prependQualified</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680976421"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mdo block&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-988"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lambda expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-989"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-990"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsLamCase"><span class="hs-identifier hs-type">HsLamCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lambda-case expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-991"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-992"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsIf"><span class="hs-identifier hs-type">HsIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-993"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsProc"><span class="hs-identifier hs-type">HsProc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsExpr GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;proc expression&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976428"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-994"></span><span>      </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>
</span><span id="line-996"></span><span>    </span><span class="annot"><a href="#local-6989586621680976429"><span class="hs-identifier hs-type">checkCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>    </span><span id="local-6989586621680976429"><span class="annot"><span class="annottext">checkCmd :: LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621680976429"><span class="hs-identifier hs-var hs-var">checkCmd</span></a></span></span><span> </span><span id="local-6989586621680976414"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; HsCmd GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-998"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmdLam"><span class="hs-identifier hs-type">HsCmdLam</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsCmd GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lambda command&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-999"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmdCase"><span class="hs-identifier hs-type">HsCmdCase</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsCmd GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case command&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1000"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmdIf"><span class="hs-identifier hs-type">HsCmdIf</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsCmd GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if command&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1001"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmdLet"><span class="hs-identifier hs-type">HsCmdLet</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsCmd GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let command&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1002"></span><span>      </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmdDo"><span class="hs-identifier hs-type">HsCmdDo</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; LHsCmd GhcPs -&gt; PV ()
forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;do command&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680976414"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1003"></span><span>      </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1004"></span><span>
</span><span id="line-1005"></span><span>    </span><span id="local-6989586621680977956"><span class="annot"><a href="#local-6989586621680976424"><span class="hs-identifier hs-type">check</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1006"></span><span>    </span><span id="local-6989586621680976424"><span class="annot"><span class="annottext">check :: forall a. Outputable a =&gt; SDoc -&gt; Located a -&gt; PV ()
</span><a href="#local-6989586621680976424"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span id="local-6989586621680976401"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976401"><span class="hs-identifier hs-var">element</span></a></span></span><span> </span><span id="local-6989586621680976400"><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976400"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1007"></span><span>      </span><span id="local-6989586621680976399"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976399"><span class="hs-identifier hs-var">blockArguments</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BlockArgumentsBit"><span class="hs-identifier hs-var">BlockArgumentsBit</span></a></span><span>
</span><span id="line-1008"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976399"><span class="hs-identifier hs-var">blockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1009"></span><span>        </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located a -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976400"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV ()) -&gt; SDoc -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1010"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976401"><span class="hs-identifier hs-var">element</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; in function application:&quot;</span></span><span>
</span><span id="line-1011"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976400"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;You could write it with parentheses&quot;</span></span><span>
</span><span id="line-1013"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Or perhaps you meant to enable BlockArguments?&quot;</span></span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span class="hs-comment">-- | Validate the context constraints and break up a context into a list</span><span>
</span><span id="line-1016"></span><span class="hs-comment">-- of predicates.</span><span>
</span><span id="line-1017"></span><span class="hs-comment">--</span><span>
</span><span id="line-1018"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1019"></span><span class="hs-comment">--     (Eq a, Ord b)        --&gt;  [Eq a, Ord b]</span><span>
</span><span id="line-1020"></span><span class="hs-comment">--     Eq a                 --&gt;  [Eq a]</span><span>
</span><span id="line-1021"></span><span class="hs-comment">--     (Eq a)               --&gt;  [Eq a]</span><span>
</span><span id="line-1022"></span><span class="hs-comment">--     (((Eq a)))           --&gt;  [Eq a]</span><span>
</span><span id="line-1023"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1024"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-type">checkContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1025"></span><span id="checkContext"><span class="annot"><span class="annottext">checkContext :: LHsType GhcPs -&gt; P ([AddAnn], LHsContext GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkContext"><span class="hs-identifier hs-var hs-var">checkContext</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976397"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976396"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976396"><span class="hs-identifier hs-var">orig_t</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1026"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; LHsType GhcPs -&gt; P ([AddAnn], LHsContext GhcPs)
</span><a href="#local-6989586621680976395"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976396"><span class="hs-identifier hs-var">orig_t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1028"></span><span>  </span><span id="local-6989586621680976395"><span class="annot"><span class="annottext">check :: [AddAnn] -&gt; LHsType GhcPs -&gt; P ([AddAnn], LHsContext GhcPs)
</span><a href="#local-6989586621680976395"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span id="local-6989586621680976394"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976394"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976393"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976393"><span class="hs-identifier hs-var">lp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="GHC.Hs.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621680976392"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680976392"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>    </span><span class="hs-comment">-- (Eq a, Ord b) shows up as a tuple type. Only boxed tuples can</span><span>
</span><span id="line-1030"></span><span>    </span><span class="hs-comment">-- be used as context constraints.</span><span>
</span><span id="line-1031"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddAnn], LHsContext GhcPs) -&gt; P ([AddAnn], LHsContext GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976394"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976393"><span class="hs-identifier hs-var">lp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SrcSpan -&gt; [LHsType GhcPs] -&gt; LHsContext GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680976392"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- Ditto ()</span><span>
</span><span id="line-1032"></span><span>
</span><span id="line-1033"></span><span>  </span><span class="annot"><a href="#local-6989586621680976395"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span id="local-6989586621680976391"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976391"><span class="hs-identifier hs-var">anns</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976390"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976390"><span class="hs-identifier hs-var">lp1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976389"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976389"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1034"></span><span>                                  </span><span class="hs-comment">-- to be sure HsParTy doesn't get into the way</span><span>
</span><span id="line-1035"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; LHsType GhcPs -&gt; P ([AddAnn], LHsContext GhcPs)
</span><a href="#local-6989586621680976395"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976388"><span class="hs-identifier hs-var">anns'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976389"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1036"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680976388"><span class="annot"><span class="annottext">anns' :: [AddAnn]
</span><a href="#local-6989586621680976388"><span class="hs-identifier hs-var hs-var">anns'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976390"><span class="hs-identifier hs-var">lp1</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976391"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1037"></span><span>                                   </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976391"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976390"><span class="hs-identifier hs-var">lp1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span>  </span><span class="hs-comment">-- no need for anns, returning original</span><span>
</span><span id="line-1040"></span><span>  </span><span class="annot"><a href="#local-6989586621680976395"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span id="local-6989586621680976387"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976387"><span class="hs-identifier hs-var">_anns</span></a></span></span><span> </span><span id="local-6989586621680976386"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976386"><span class="hs-identifier hs-var">_t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddAnn], LHsContext GhcPs) -&gt; P ([AddAnn], LHsContext GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">SrcSpan -&gt; [LHsType GhcPs] -&gt; LHsContext GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976396"><span class="hs-identifier hs-var">orig_t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1041"></span><span>
</span><span id="line-1042"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-type">checkImportDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1044"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span id="checkImportDecl"><span class="annot"><span class="annottext">checkImportDecl :: Maybe (Located Token) -&gt; Maybe (Located Token) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkImportDecl"><span class="hs-identifier hs-var hs-var">checkImportDecl</span></a></span></span><span> </span><span id="local-6989586621680976385"><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976385"><span class="hs-identifier hs-var">mPre</span></a></span></span><span> </span><span id="local-6989586621680976384"><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976384"><span class="hs-identifier hs-var">mPost</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1046"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976381"><span class="annot"><span class="annottext">whenJust :: Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621680976381"><span class="hs-identifier hs-var hs-var">whenJust</span></a></span></span><span> </span><span id="local-6989586621680976380"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621680976380"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span id="local-6989586621680976379"><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621680976379"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f () -&gt; (a -&gt; f ()) -&gt; Maybe a -&gt; f ()
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; f ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; f ()
</span><a href="#local-6989586621680976379"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621680976380"><span class="hs-identifier hs-var">mg</span></a></span><span>
</span><span id="line-1047"></span><span>
</span><span id="line-1048"></span><span>  </span><span id="local-6989586621680976377"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976377"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ImportQualifiedPostBit"><span class="hs-identifier hs-var">ImportQualifiedPostBit</span></a></span><span>
</span><span id="line-1049"></span><span>
</span><span id="line-1050"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' found in postpositive position and</span><span>
</span><span id="line-1051"></span><span>  </span><span class="hs-comment">-- 'ImportQualifiedPost' is not in effect.</span><span>
</span><span id="line-1052"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Located Token) -&gt; (Located Token -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621680976381"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976384"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">((Located Token -&gt; P ()) -&gt; P ())
-&gt; (Located Token -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680976375"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976375"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1053"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976377"><span class="hs-identifier hs-var">importQualifiedPostEnabled</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1054"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var">failOpNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located Token -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976375"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1055"></span><span>
</span><span id="line-1056"></span><span>  </span><span class="hs-comment">-- Error if 'qualified' occurs in both pre and postpositive</span><span>
</span><span id="line-1057"></span><span>  </span><span class="hs-comment">-- positions.</span><span>
</span><span id="line-1058"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Located Token) -&gt; (Located Token -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621680976381"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976384"><span class="hs-identifier hs-var">mPost</span></a></span><span> </span><span class="annot"><span class="annottext">((Located Token -&gt; P ()) -&gt; P ())
-&gt; (Located Token -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680976374"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976374"><span class="hs-identifier hs-var">post</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1059"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/GHC.Base.html#when"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Located Token) -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../base/src/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976385"><span class="hs-identifier hs-var">mPre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1060"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-var">failOpImportQualifiedTwice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located Token -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976374"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span>  </span><span class="hs-comment">-- Warn if 'qualified' found in prepositive position and</span><span>
</span><span id="line-1063"></span><span>  </span><span class="hs-comment">-- 'Opt_WarnPrepositiveQualifiedModule' is enabled.</span><span>
</span><span id="line-1064"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Located Token) -&gt; (Located Token -&gt; P ()) -&gt; P ()
forall {f :: * -&gt; *} {a}.
Applicative f =&gt;
Maybe a -&gt; (a -&gt; f ()) -&gt; f ()
</span><a href="#local-6989586621680976381"><span class="hs-identifier hs-var">whenJust</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Token)
</span><a href="#local-6989586621680976385"><span class="hs-identifier hs-var">mPre</span></a></span><span> </span><span class="annot"><span class="annottext">((Located Token -&gt; P ()) -&gt; P ())
-&gt; (Located Token -&gt; P ()) -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680976373"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976373"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1065"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located Token -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680976373"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1066"></span><span>
</span><span id="line-1067"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1068"></span><span class="hs-comment">-- Checking Patterns.</span><span>
</span><span id="line-1069"></span><span>
</span><span id="line-1070"></span><span class="hs-comment">-- We parse patterns as expressions and check for valid patterns below,</span><span>
</span><span id="line-1071"></span><span class="hs-comment">-- converting the expression into a pattern at the same time.</span><span>
</span><span id="line-1072"></span><span>
</span><span id="line-1073"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-type">checkPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1074"></span><span id="checkPattern"><span class="annot"><span class="annottext">checkPattern :: Located (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var hs-var">checkPattern</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs))
forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">(PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs)))
-&gt; (Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; Located (PatBuilder GhcPs)
-&gt; P (Located (Pat GhcPs))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs))
Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1075"></span><span>
</span><span id="line-1076"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPattern_msg"><span class="hs-identifier hs-type">checkPattern_msg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span id="checkPattern_msg"><span class="annot"><span class="annottext">checkPattern_msg :: SDoc -&gt; PV (Located (PatBuilder GhcPs)) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern_msg"><span class="hs-identifier hs-var hs-var">checkPattern_msg</span></a></span></span><span> </span><span id="local-6989586621680976371"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976371"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621680976370"><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680976370"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs))
forall a. SDoc -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_msg"><span class="hs-identifier hs-var">runPV_msg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976371"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680976370"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
-&gt; (Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; PV (Located (Pat GhcPs))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs))
Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>
</span><span id="line-1079"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-type">checkLPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span id="checkLPat"><span class="annot"><span class="annottext">checkLPat :: Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var hs-var">checkLPat</span></a></span></span><span> </span><span id="local-6989586621680976368"><span class="annot"><span class="annottext">e :: Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976368"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976367"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976367"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; [LPat GhcPs] -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976367"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976368"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1081"></span><span>
</span><span id="line-1082"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-type">checkPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1083"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1084"></span><span id="checkPat"><span class="annot"><span class="annottext">checkPat :: SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; [LPat GhcPs] -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var hs-var">checkPat</span></a></span></span><span> </span><span id="local-6989586621680976365"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976365"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976364"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976364"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976363"><span class="annot"><span class="annottext">e :: PatBuilder GhcPs
</span><a href="#local-6989586621680976363"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976361"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976361"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976360"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621680976360"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976361"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; PV (Located (Pat GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (Pat GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; (Pat GhcPs -&gt; Located (Pat GhcPs))
-&gt; Pat GhcPs
-&gt; PV (Located (Pat GhcPs))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Pat GhcPs -&gt; Located (Pat GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976365"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PV (Located (Pat GhcPs)))
-&gt; Pat GhcPs -&gt; PV (Located (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ConPat :: forall p.
XConPat p -&gt; Located (ConLikeP p) -&gt; HsConPatDetails p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1086"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="GHC.Hs.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XConPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1087"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: Located (ConLikeP GhcPs)
</span><a href="GHC.Hs.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976364"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976361"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1088"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="GHC.Hs.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
-&gt; HsConDetails
     (Located (Pat GhcPs)) (HsRecFields GhcPs (Located (Pat GhcPs)))
forall arg rec. [arg] -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680976360"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1089"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located (Pat GhcPs)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680976360"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var">patIsRec</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976361"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1091"></span><span>      </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc)
-&gt; PV (Located (Pat GhcPs)) -&gt; PV (Located (Pat GhcPs))
forall a. (SDoc -&gt; SDoc) -&gt; PV a -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#localPV_msg"><span class="hs-identifier hs-var">localPV_msg</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">SDoc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you intended to use RecursiveDo&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PV (Located (Pat GhcPs)) -&gt; PV (Located (Pat GhcPs)))
-&gt; PV (Located (Pat GhcPs)) -&gt; PV (Located (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1092"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (Pat GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976364"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976363"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1093"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621680976352"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976352"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621680976350"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976350"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680976349"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976349"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976348"><span class="annot"><span class="annottext">[LPat GhcPs]
</span><a href="#local-6989586621680976348"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976347"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976347"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976349"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1095"></span><span>       </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; [LPat GhcPs] -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976352"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976350"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976347"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
-&gt; [Located (Pat GhcPs)] -&gt; [Located (Pat GhcPs)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680976348"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1096"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621680976346"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976346"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976345"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976345"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1097"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976344"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680976344"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var">checkAPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976346"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976345"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1098"></span><span>       </span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; PV (Located (Pat GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Pat GhcPs -&gt; Located (Pat GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976346"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680976344"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPat"><span class="hs-identifier hs-var">checkPat</span></a></span><span> </span><span id="local-6989586621680976342"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976342"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976341"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976341"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LPat GhcPs]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-1100"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (Pat GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976342"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976341"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-type">checkAPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1103"></span><span id="checkAPat"><span class="annot"><span class="annottext">checkAPat :: SrcSpan -&gt; PatBuilder GhcPs -&gt; PV (Pat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkAPat"><span class="hs-identifier hs-var hs-var">checkAPat</span></a></span></span><span> </span><span id="local-6989586621680976340"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976340"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976339"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976339"><span class="hs-identifier hs-var">e0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1104"></span><span> </span><span id="local-6989586621680976338"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976338"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#NPlusKPatternsBit"><span class="hs-identifier hs-var">NPlusKPatternsBit</span></a></span><span>
</span><span id="line-1105"></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976339"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1106"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-type">PatBuilderPat</span></a></span><span> </span><span id="local-6989586621680976335"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680976335"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680976335"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1107"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621680976334"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976334"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVarPat GhcPs -&gt; Located (IdP GhcPs) -&gt; Pat GhcPs
forall p. XVarPat p -&gt; Located (IdP p) -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#VarPat"><span class="hs-identifier hs-var">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XVarPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976334"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span>   </span><span class="hs-comment">-- Overloaded numeric patterns (e.g. f 0 x = x)</span><span>
</span><span id="line-1110"></span><span>   </span><span class="hs-comment">-- Negation is recorded separately, so that the literal is zero or +ve</span><span>
</span><span id="line-1111"></span><span>   </span><span class="hs-comment">-- NB. Negative *primitive* literals are already handled by the lexer</span><span>
</span><span id="line-1112"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621680976331"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680976331"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs) -&gt; Maybe (SyntaxExpr GhcPs) -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsOverLit GhcPs -&gt; Located (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976340"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680976331"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcPs)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span>   </span><span class="hs-comment">-- n+k patterns</span><span>
</span><span id="line-1115"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span>
</span><span id="line-1116"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976328"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976328"><span class="hs-identifier hs-var">nloc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976327"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976327"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1117"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976326"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976326"><span class="hs-identifier hs-var">plus</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1118"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976325"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976325"><span class="hs-identifier hs-var">lloc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621680976324"><span class="annot"><span class="annottext">lit :: HsOverLit GhcPs
</span><a href="#local-6989586621680976324"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Lit.html#OverLit"><span class="hs-identifier hs-type">OverLit</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ol_val :: forall p. HsOverLit p -&gt; OverLitVal
</span><a href="GHC.Hs.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1119"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976338"><span class="hs-identifier hs-var">nPlusKPatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976326"><span class="hs-identifier hs-var">plus</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var">plus_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1120"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; Located (HsOverLit GhcPs) -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPlusKPat"><span class="hs-identifier hs-var">mkNPlusKPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976328"><span class="hs-identifier hs-var">nloc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976327"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsOverLit GhcPs -&gt; Located (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976325"><span class="hs-identifier hs-var">lloc</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680976324"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span>   </span><span class="hs-comment">-- Improve error messages for the @-operator when the user meant an @-pattern</span><span>
</span><span id="line-1123"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976318"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976318"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#opIsAt"><span class="hs-identifier hs-var">opIsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976318"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1124"></span><span>     </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976318"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV ()) -&gt; SDoc -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1125"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found a binding for the&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976318"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;operator in a pattern position.&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1126"></span><span>       </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#perhaps_as_pat"><span class="hs-identifier hs-var">perhaps_as_pat</span></a></span><span>
</span><span id="line-1127"></span><span>     </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XWildPat GhcPs -&gt; Pat GhcPs
forall p. XWildPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XWildPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1128"></span><span>
</span><span id="line-1129"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621680976314"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976314"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976313"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976313"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span id="local-6989586621680976312"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976312"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976311"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976311"><span class="hs-identifier hs-var">r</span></a></span></span><span>
</span><span id="line-1130"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976312"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1131"></span><span>         </span><span id="local-6989586621680976310"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976310"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976314"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1132"></span><span>         </span><span id="local-6989586621680976309"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976309"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976311"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1133"></span><span>         </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PV (Pat GhcPs)) -&gt; Pat GhcPs -&gt; PV (Pat GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ConPat :: forall p.
XConPat p -&gt; Located (ConLikeP p) -&gt; HsConPatDetails p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-1134"></span><span>           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="GHC.Hs.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XConPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1135"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: Located (ConLikeP GhcPs)
</span><a href="GHC.Hs.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976313"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976312"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1136"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="GHC.Hs.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
-&gt; Located (Pat GhcPs)
-&gt; HsConDetails
     (Located (Pat GhcPs)) (HsRecFields GhcPs (Located (Pat GhcPs)))
forall arg rec. arg -&gt; arg -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976310"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976309"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1137"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span>   </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span id="local-6989586621680976307"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976307"><span class="hs-identifier hs-var">e</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976307"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">PV (Located (Pat GhcPs))
-&gt; (Located (Pat GhcPs) -&gt; PV (Pat GhcPs)) -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PV (Pat GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PV (Pat GhcPs))
-&gt; (Located (Pat GhcPs) -&gt; Pat GhcPs)
-&gt; Located (Pat GhcPs)
-&gt; PV (Pat GhcPs)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParPat GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XParPat p -&gt; LPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ParPat"><span class="hs-identifier hs-var">ParPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XParPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1140"></span><span>   </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Pat GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976340"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680976339"><span class="hs-identifier hs-var">e0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1141"></span><span>
</span><span id="line-1142"></span><span id="local-6989586621680977934"><span class="annot"><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-type">placeHolderPunRhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977934"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977934"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1143"></span><span class="hs-comment">-- The RHS of a punned record field will be filled in by the renamer</span><span>
</span><span id="line-1144"></span><span class="hs-comment">-- It's better not to make it an error, in case we want to print it when</span><span>
</span><span id="line-1145"></span><span class="hs-comment">-- debugging</span><span>
</span><span id="line-1146"></span><span id="placeHolderPunRhs"><span class="annot"><span class="annottext">placeHolderPunRhs :: forall b. DisambECP b =&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#placeHolderPunRhs"><span class="hs-identifier hs-var hs-var">placeHolderPunRhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; PV (Located b)
forall b. DisambECP b =&gt; Located RdrName -&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-var">mkHsVarPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Located RdrName
forall e. e -&gt; Located e
</span><a href="GHC.Types.SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var">pun_RDR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1147"></span><span>
</span><span id="line-1148"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-type">plus_RDR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-type">pun_RDR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1149"></span><span id="plus_RDR"><span class="annot"><span class="annottext">plus_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#plus_RDR"><span class="hs-identifier hs-var hs-var">plus_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Hack</span><span>
</span><span id="line-1150"></span><span id="pun_RDR"><span class="annot"><span class="annottext">pun_RDR :: RdrName
</span><a href="GHC.Parser.PostProcess.html#pun_RDR"><span class="hs-identifier hs-var hs-var">pun_RDR</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pun-right-hand-side&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1151"></span><span>
</span><span id="line-1152"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-type">checkPatField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1153"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1154"></span><span id="checkPatField"><span class="annot"><span class="annottext">checkPatField :: LHsRecField GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var hs-var">checkPatField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976293"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976293"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976292"><span class="annot"><span class="annottext">HsRecField GhcPs (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680976292"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976291"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976291"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecField GhcPs (Located (PatBuilder GhcPs))
-&gt; Located (PatBuilder GhcPs)
forall id arg. HsRecField' id arg -&gt; arg
</span><a href="GHC.Hs.Pat.html#hsRecFieldArg"><span class="hs-identifier hs-var hs-var">hsRecFieldArg</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcPs (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680976292"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1155"></span><span>                             </span><span class="annot"><span class="annottext">GenLocated
  SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))
-&gt; PV
     (GenLocated
        SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs))))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs))
-&gt; GenLocated
     SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976293"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecField GhcPs (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680976292"><span class="hs-identifier hs-var">fld</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsRecFieldArg :: Located (Pat GhcPs)
</span><a href="GHC.Hs.Pat.html#hsRecFieldArg"><span class="hs-identifier hs-var">hsRecFieldArg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976291"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1156"></span><span>
</span><span id="line-1157"></span><span id="local-6989586621680977942"><span class="annot"><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-type">patFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977942"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1158"></span><span id="patFail"><span class="annot"><span class="annottext">patFail :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var hs-var">patFail</span></a></span></span><span> </span><span id="local-6989586621680976287"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976287"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976286"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976286"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976287"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV a) -&gt; SDoc -&gt; PV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parse error in pattern:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976286"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-type">patIsRec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1161"></span><span id="patIsRec"><span class="annot"><span class="annottext">patIsRec :: RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#patIsRec"><span class="hs-identifier hs-var hs-var">patIsRec</span></a></span></span><span> </span><span id="local-6989586621680976285"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976285"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976285"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rec&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1162"></span><span>
</span><span id="line-1163"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#opIsAt"><span class="hs-identifier hs-type">opIsAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1164"></span><span id="opIsAt"><span class="annot"><span class="annottext">opIsAt :: RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#opIsAt"><span class="hs-identifier hs-var hs-var">opIsAt</span></a></span></span><span> </span><span id="local-6989586621680976284"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976284"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976284"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; RdrName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span>
</span><span id="line-1166"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- Check Equation Syntax</span><span>
</span><span id="line-1168"></span><span>
</span><span id="line-1169"></span><span id="local-6989586621680977922"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-type">checkValDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1170"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1171"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680977922"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1172"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1173"></span><span>
</span><span id="line-1174"></span><span id="checkValDef"><span class="annot"><span class="annottext">checkValDef :: forall a.
Located (PatBuilder GhcPs)
-&gt; Maybe (LHsType GhcPs)
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var hs-var">checkValDef</span></a></span></span><span> </span><span id="local-6989586621680976277"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976277"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680976276"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976276"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976275"><span class="annot"><span class="annottext">Located (a, GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976275"><span class="hs-identifier hs-var">grhss</span></a></span></span><span>
</span><span id="line-1175"></span><span>        </span><span class="hs-comment">-- x :: ty = rhs  parses as a *pattern* binding</span><span>
</span><span id="line-1176"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976274"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976274"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs))
forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="annot"><span class="annottext">(PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs)))
-&gt; PV (Located (Pat GhcPs)) -&gt; P (Located (Pat GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; PV (Located (PatBuilder GhcPs))
forall b.
DisambECP b =&gt;
SrcSpan -&gt; Located b -&gt; LHsType GhcPs -&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-var">mkHsTySigPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; LHsType GhcPs -&gt; SrcSpan
forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976277"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976276"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976277"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976276"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
-&gt; (Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; PV (Located (Pat GhcPs))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs))
Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span>
</span><span id="line-1177"></span><span>       </span><span class="annot"><span class="annottext">LPat GhcPs
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
forall a.
LPat GhcPs
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976274"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (a, GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976275"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1178"></span><span>
</span><span id="line-1179"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValDef"><span class="hs-identifier hs-var">checkValDef</span></a></span><span> </span><span id="local-6989586621680976270"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976270"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs)
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621680976269"><span class="annot"><span class="annottext">g :: Located (a, GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976269"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976268"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976268"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680976267"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976267"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976266"><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
   [AddAnn])
</span><a href="#local-6989586621680976266"><span class="hs-identifier hs-var">mb_fun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
-&gt; P (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
         [AddAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var">isFunLhs</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976270"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1181"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
   [AddAnn])
</span><a href="#local-6989586621680976266"><span class="hs-identifier hs-var">mb_fun</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1182"></span><span>            </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976264"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976264"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976263"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976263"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976262"><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680976262"><span class="hs-identifier hs-var">pats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976261"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976261"><span class="hs-identifier hs-var">ann</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1183"></span><span>              </span><span class="annot"><span class="annottext">SrcStrictness
-&gt; [AddAnn]
-&gt; SrcSpan
-&gt; Located RdrName
-&gt; LexicalFixity
-&gt; [Located (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var">checkFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976261"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976270"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1184"></span><span>                           </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976264"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976263"><span class="hs-identifier hs-var">is_infix</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680976262"><span class="hs-identifier hs-var">pats</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; GRHSs GhcPs (LHsExpr GhcPs)
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976268"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976267"><span class="hs-identifier hs-var">grhss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1185"></span><span>            </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
   [AddAnn])
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1186"></span><span>              </span><span id="local-6989586621680976259"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680976259"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; P (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPattern"><span class="hs-identifier hs-var">checkPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976270"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1187"></span><span>              </span><span class="annot"><span class="annottext">LPat GhcPs
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
forall a.
LPat GhcPs
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976259"><span class="hs-identifier hs-var">lhs'</span></a></span><span> </span><span class="annot"><span class="annottext">Located (a, GRHSs GhcPs (LHsExpr GhcPs))
</span><a href="#local-6989586621680976269"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1188"></span><span>
</span><span id="line-1189"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-type">checkFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span>
</span><span id="line-1190"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1191"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1192"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-1193"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span>
</span><span id="line-1194"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1195"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1196"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1197"></span><span id="checkFunBind"><span class="annot"><span class="annottext">checkFunBind :: SrcStrictness
-&gt; [AddAnn]
-&gt; SrcSpan
-&gt; Located RdrName
-&gt; LexicalFixity
-&gt; [Located (PatBuilder GhcPs)]
-&gt; Located (GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkFunBind"><span class="hs-identifier hs-var hs-var">checkFunBind</span></a></span></span><span> </span><span id="local-6989586621680976258"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976258"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span id="local-6989586621680976257"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976257"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621680976256"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976256"><span class="hs-identifier hs-var">lhs_loc</span></a></span></span><span> </span><span id="local-6989586621680976255"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976255"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621680976254"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976254"><span class="hs-identifier hs-var">is_infix</span></a></span></span><span> </span><span id="local-6989586621680976253"><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680976253"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976252"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976252"><span class="hs-identifier hs-var">rhs_span</span></a></span></span><span> </span><span id="local-6989586621680976251"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976251"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1198"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span id="local-6989586621680976250"><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
</span><a href="#local-6989586621680976250"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; PV [Located (Pat GhcPs)] -&gt; P [Located (Pat GhcPs)]
forall a. SDoc -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_msg"><span class="hs-identifier hs-var">runPV_msg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976249"><span class="hs-identifier hs-var">param_hint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; [Located (PatBuilder GhcPs)] -&gt; PV [Located (Pat GhcPs)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs))
Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680976253"><span class="hs-identifier hs-var">pats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1199"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976248"><span class="annot"><span class="annottext">match_span :: SrcSpan
</span><a href="#local-6989586621680976248"><span class="hs-identifier hs-var hs-var">match_span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976256"><span class="hs-identifier hs-var">lhs_loc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976252"><span class="hs-identifier hs-var">rhs_span</span></a></span><span>
</span><span id="line-1200"></span><span>        </span><span class="hs-comment">-- Add back the annotations stripped from any HsPar values in the lhs</span><span>
</span><span id="line-1201"></span><span>        </span><span class="hs-comment">-- mapM_ (\a -&gt; a match_span) ann</span><span>
</span><span id="line-1202"></span><span>        </span><span class="annot"><span class="annottext">([AddAnn], HsBindLR GhcPs GhcPs)
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976257"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Located RdrName
-&gt; [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976255"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-1203"></span><span>                  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan
-&gt; Match GhcPs (LHsExpr GhcPs) -&gt; LMatch GhcPs (LHsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976248"><span class="hs-identifier hs-var">match_span</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Match :: forall p body.
XCMatch p body
-&gt; HsMatchContext (NoGhcTc p)
-&gt; [LPat p]
-&gt; GRHSs p body
-&gt; Match p body
</span><a href="GHC.Hs.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1204"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunRhs :: forall p.
LIdP p -&gt; LexicalFixity -&gt; SrcStrictness -&gt; HsMatchContext p
</span><a href="GHC.Hs.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span>
</span><span id="line-1205"></span><span>                                           </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976255"><span class="hs-identifier hs-var">fun</span></a></span><span>
</span><span id="line-1206"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="GHC.Hs.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976254"><span class="hs-identifier hs-var">is_infix</span></a></span><span>
</span><span id="line-1207"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="GHC.Hs.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976258"><span class="hs-identifier hs-var">strictness</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1208"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="GHC.Hs.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680976250"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-1209"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976251"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1210"></span><span>        </span><span class="hs-comment">-- The span of the match covers the entire equation.</span><span>
</span><span id="line-1211"></span><span>        </span><span class="hs-comment">-- That isn't quite right, but it'll do for now.</span><span>
</span><span id="line-1212"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1213"></span><span>    </span><span id="local-6989586621680976249"><span class="annot"><span class="annottext">param_hint :: SDoc
</span><a href="#local-6989586621680976249"><span class="hs-identifier hs-var hs-var">param_hint</span></a></span></span><span>
</span><span id="line-1214"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621680976254"><span class="hs-identifier hs-var">is_infix</span></a></span><span>
</span><span id="line-1215"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In a function binding for the&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976255"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;operator.&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1216"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#opIsAt"><span class="hs-identifier hs-var">opIsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976255"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Parser.PostProcess.html#perhaps_as_pat"><span class="hs-identifier hs-var">perhaps_as_pat</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1217"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1218"></span><span>
</span><span id="line-1219"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#perhaps_as_pat"><span class="hs-identifier hs-type">perhaps_as_pat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1220"></span><span id="perhaps_as_pat"><span class="annot"><span class="annottext">perhaps_as_pat :: SDoc
</span><a href="GHC.Parser.PostProcess.html#perhaps_as_pat"><span class="hs-identifier hs-var hs-var">perhaps_as_pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant an as-pattern, which must not be surrounded by whitespace&quot;</span></span><span>
</span><span id="line-1221"></span><span>
</span><span id="line-1222"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-type">makeFunBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1223"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1224"></span><span class="hs-comment">-- Like GHC.Hs.Utils.mkFunBind, but we need to be able to set the fixity too</span><span>
</span><span id="line-1225"></span><span id="makeFunBind"><span class="annot"><span class="annottext">makeFunBind :: Located RdrName
-&gt; [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var hs-var">makeFunBind</span></a></span></span><span> </span><span id="local-6989586621680976247"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976247"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621680976246"><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976246"><span class="hs-identifier hs-var">ms</span></a></span></span><span>
</span><span id="line-1226"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunBind :: forall idL idR.
XFunBind idL idR
-&gt; Located (IdP idL)
-&gt; MatchGroup idR (LHsExpr idR)
-&gt; [Tickish Id]
-&gt; HsBindLR idL idR
</span><a href="GHC.Hs.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_ext :: XFunBind GhcPs GhcPs
</span><a href="GHC.Hs.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XFunBind GhcPs GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1227"></span><span>              </span><span class="annot"><span class="annottext">fun_id :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976247"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1228"></span><span>              </span><span class="annot"><span class="annottext">fun_matches :: MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin
-&gt; [LMatch GhcPs (LHsExpr GhcPs)]
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
forall name (body :: * -&gt; *).
(XMG name (Located (body name)) ~ NoExtField) =&gt;
Origin
-&gt; [LMatch name (Located (body name))]
-&gt; MatchGroup name (Located (body name))
</span><a href="GHC.Hs.Utils.html#mkMatchGroup"><span class="hs-identifier hs-var">mkMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Origin
</span><a href="GHC.Types.Basic.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680976246"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1229"></span><span>              </span><span class="annot"><span class="annottext">fun_tick :: [Tickish Id]
</span><a href="GHC.Hs.Binds.html#fun_tick"><span class="hs-identifier hs-var">fun_tick</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span class="hs-comment">-- See Note [FunBind vs PatBind]</span><span>
</span><span id="line-1232"></span><span id="local-6989586621680977918"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-type">checkPatBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1233"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680977918"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1234"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="GHC.Hs.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1235"></span><span id="checkPatBind"><span class="annot"><span class="annottext">checkPatBind :: forall a.
LPat GhcPs
-&gt; Located (a, GRHSs GhcPs (LHsExpr GhcPs))
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var hs-var">checkPatBind</span></a></span></span><span> </span><span id="local-6989586621680976241"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976241"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976240"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976240"><span class="hs-identifier hs-var">rhs_span</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680976239"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976239"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1236"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="annot"><span class="annottext">XBangPat GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976237"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976237"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; Pat GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976241"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1237"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#VarPat"><span class="hs-identifier hs-type">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">XVarPat GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976236"><span class="annot"><span class="annottext">Located (IdP GhcPs)
</span><a href="#local-6989586621680976236"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; Pat GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976237"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1238"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddAnn], HsBindLR GhcPs GhcPs)
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Located RdrName
-&gt; [LMatch GhcPs (LHsExpr GhcPs)] -&gt; HsBindLR GhcPs GhcPs
</span><a href="GHC.Parser.PostProcess.html#makeFunBind"><span class="hs-identifier hs-var">makeFunBind</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976236"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan
-&gt; Match GhcPs (LHsExpr GhcPs) -&gt; LMatch GhcPs (LHsExpr GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976235"><span class="hs-identifier hs-var">match_span</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; Match GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976234"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976236"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1239"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1240"></span><span>    </span><span id="local-6989586621680976235"><span class="annot"><span class="annottext">match_span :: SrcSpan
</span><a href="#local-6989586621680976235"><span class="hs-identifier hs-var hs-var">match_span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (Pat GhcPs) -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680976241"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976240"><span class="hs-identifier hs-var">rhs_span</span></a></span><span>
</span><span id="line-1241"></span><span>    </span><span id="local-6989586621680976234"><span class="annot"><span class="annottext">m :: Located RdrName -&gt; Match GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976234"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680976233"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976233"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Match :: forall p body.
XCMatch p body
-&gt; HsMatchContext (NoGhcTc p)
-&gt; [LPat p]
-&gt; GRHSs p body
-&gt; Match p body
</span><a href="GHC.Hs.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_ext :: XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ext"><span class="hs-identifier hs-var">m_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XCMatch GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-1242"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: HsMatchContext (NoGhcTc GhcPs)
</span><a href="GHC.Hs.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunRhs :: forall p.
LIdP p -&gt; LexicalFixity -&gt; SrcStrictness -&gt; HsMatchContext p
</span><a href="GHC.Hs.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_fun :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Expr.html#mc_fun"><span class="hs-identifier hs-var">mc_fun</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976233"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1243"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_fixity :: LexicalFixity
</span><a href="GHC.Hs.Expr.html#mc_fixity"><span class="hs-identifier hs-var">mc_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span>
</span><span id="line-1244"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: SrcStrictness
</span><a href="GHC.Hs.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1245"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_pats :: [LPat GhcPs]
</span><a href="GHC.Hs.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1246"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="GHC.Hs.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976239"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1247"></span><span>
</span><span id="line-1248"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPatBind"><span class="hs-identifier hs-var">checkPatBind</span></a></span><span> </span><span id="local-6989586621680976231"><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976231"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680976230"><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976230"><span class="hs-identifier hs-var">grhss</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1249"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddAnn], HsBindLR GhcPs GhcPs)
-&gt; P ([AddAnn], HsBindLR GhcPs GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">XPatBind GhcPs GhcPs
-&gt; LPat GhcPs
-&gt; GRHSs GhcPs (LHsExpr GhcPs)
-&gt; ([Tickish Id], [[Tickish Id]])
-&gt; HsBindLR GhcPs GhcPs
forall idL idR.
XPatBind idL idR
-&gt; LPat idL
-&gt; GRHSs idR (LHsExpr idR)
-&gt; ([Tickish Id], [[Tickish Id]])
-&gt; HsBindLR idL idR
</span><a href="GHC.Hs.Binds.html#PatBind"><span class="hs-identifier hs-var">PatBind</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XPatBind GhcPs GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcPs
</span><a href="#local-6989586621680976231"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680976230"><span class="hs-identifier hs-var">grhss</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1250"></span><span>
</span><span id="line-1251"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-type">checkValSigLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span id="checkValSigLhs"><span class="annot"><span class="annottext">checkValSigLhs :: LHsExpr GhcPs -&gt; P (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var hs-var">checkValSigLhs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976228"><span class="annot"><span class="annottext">lrdr :: Located (IdP GhcPs)
</span><a href="#local-6989586621680976228"><span class="hs-identifier hs-var">lrdr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976227"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680976227"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isUnqual"><span class="hs-identifier hs-var">isUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976227"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1254"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976227"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; P (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680976228"><span class="hs-identifier hs-var">lrdr</span></a></span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkValSigLhs"><span class="hs-identifier hs-var">checkValSigLhs</span></a></span><span> </span><span id="local-6989586621680976226"><span class="annot"><span class="annottext">lhs :: LHsExpr GhcPs
</span><a href="#local-6989586621680976226"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976225"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976225"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1258"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (Located RdrName)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976225"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid type signature:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1259"></span><span>                       </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976226"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:: ...&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>                      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680976224"><span class="hs-identifier hs-var">hint</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1261"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1262"></span><span>    </span><span id="local-6989586621680976224"><span class="annot"><span class="annottext">hint :: String
</span><a href="#local-6989586621680976224"><span class="hs-identifier hs-var hs-var">hint</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976223"><span class="hs-identifier hs-var">foreign_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">IdP GhcPs -&gt; LHsExpr GhcPs -&gt; Bool
forall {p}. Eq (IdP p) =&gt; IdP p -&gt; LHsExpr p -&gt; Bool
</span><a href="#local-6989586621680976222"><span class="hs-operator hs-var">`looks_like`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976226"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1263"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant to use ForeignFunctionInterface?&quot;</span></span><span>
</span><span id="line-1264"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976221"><span class="hs-identifier hs-var">default_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">IdP GhcPs -&gt; LHsExpr GhcPs -&gt; Bool
forall {p}. Eq (IdP p) =&gt; IdP p -&gt; LHsExpr p -&gt; Bool
</span><a href="#local-6989586621680976222"><span class="hs-operator hs-var">`looks_like`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976226"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1265"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant to use DefaultSignatures?&quot;</span></span><span>
</span><span id="line-1266"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680976220"><span class="hs-identifier hs-var">pattern_RDR</span></a></span><span> </span><span class="annot"><span class="annottext">IdP GhcPs -&gt; LHsExpr GhcPs -&gt; Bool
forall {p}. Eq (IdP p) =&gt; IdP p -&gt; LHsExpr p -&gt; Bool
</span><a href="#local-6989586621680976222"><span class="hs-operator hs-var">`looks_like`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680976226"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1267"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant to use PatternSynonyms?&quot;</span></span><span>
</span><span id="line-1268"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>
</span><span id="line-1269"></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Should be of form &lt;variable&gt; :: &lt;type&gt;&quot;</span></span><span>
</span><span id="line-1270"></span><span>
</span><span id="line-1271"></span><span>    </span><span class="hs-comment">-- A common error is to forget the ForeignFunctionInterface flag</span><span>
</span><span id="line-1272"></span><span>    </span><span class="hs-comment">-- so check for that, and suggest.  cf #3805</span><span>
</span><span id="line-1273"></span><span>    </span><span class="hs-comment">-- Sadly 'foreign import' still barfs 'parse error' because</span><span>
</span><span id="line-1274"></span><span>    </span><span class="hs-comment">--  'import' is a keyword</span><span>
</span><span id="line-1275"></span><span>    </span><span id="local-6989586621680976222"><span class="annot"><span class="annottext">looks_like :: IdP p -&gt; LHsExpr p -&gt; Bool
</span><a href="#local-6989586621680976222"><span class="hs-identifier hs-var hs-var">looks_like</span></a></span></span><span> </span><span id="local-6989586621680976215"><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976215"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976214"><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976214"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976214"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IdP p -&gt; IdP p -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976215"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1276"></span><span>    </span><span class="annot"><a href="#local-6989586621680976222"><span class="hs-identifier hs-var">looks_like</span></a></span><span> </span><span id="local-6989586621680976213"><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976213"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsApp"><span class="hs-identifier hs-type">HsApp</span></a></span><span> </span><span class="annot"><span class="annottext">XApp p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976211"><span class="annot"><span class="annottext">LHsExpr p
</span><a href="#local-6989586621680976211"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr p
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IdP p -&gt; LHsExpr p -&gt; Bool
</span><a href="#local-6989586621680976222"><span class="hs-identifier hs-var">looks_like</span></a></span><span> </span><span class="annot"><span class="annottext">IdP p
</span><a href="#local-6989586621680976213"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr p
</span><a href="#local-6989586621680976211"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1277"></span><span>    </span><span class="annot"><a href="#local-6989586621680976222"><span class="hs-identifier hs-var">looks_like</span></a></span><span> </span><span class="annot"><span class="annottext">IdP p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr p
</span><span class="hs-identifier">_</span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1278"></span><span>
</span><span id="line-1279"></span><span>    </span><span id="local-6989586621680976223"><span class="annot"><span class="annottext">foreign_RDR :: RdrName
</span><a href="#local-6989586621680976223"><span class="hs-identifier hs-var hs-var">foreign_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;foreign&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>    </span><span id="local-6989586621680976221"><span class="annot"><span class="annottext">default_RDR :: RdrName
</span><a href="#local-6989586621680976221"><span class="hs-identifier hs-var hs-var">default_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;default&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1281"></span><span>    </span><span id="local-6989586621680976220"><span class="annot"><span class="annottext">pattern_RDR :: RdrName
</span><a href="#local-6989586621680976220"><span class="hs-identifier hs-var hs-var">pattern_RDR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#mkUnqual"><span class="hs-identifier hs-var">mkUnqual</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1282"></span><span>
</span><span id="line-1283"></span><span id="local-6989586621680977907"><span id="local-6989586621680977908"><span id="local-6989586621680977909"><span class="annot"><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-type">checkDoAndIfThenElse</span></a></span><span>
</span><span id="line-1284"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977909"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977908"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977907"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977909"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680977908"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977907"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1286"></span><span id="checkDoAndIfThenElse"><span class="annot"><span class="annottext">checkDoAndIfThenElse :: forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
Located a -&gt; Bool -&gt; b -&gt; Bool -&gt; Located c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var hs-var">checkDoAndIfThenElse</span></a></span></span><span> </span><span id="local-6989586621680976198"><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976198"><span class="hs-identifier hs-var">guardExpr</span></a></span></span><span> </span><span id="local-6989586621680976197"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976197"><span class="hs-identifier hs-var">semiThen</span></a></span></span><span> </span><span id="local-6989586621680976196"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680976196"><span class="hs-identifier hs-var">thenExpr</span></a></span></span><span> </span><span id="local-6989586621680976195"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976195"><span class="hs-identifier hs-var">semiElse</span></a></span></span><span> </span><span id="local-6989586621680976194"><span class="annot"><span class="annottext">Located c
</span><a href="#local-6989586621680976194"><span class="hs-identifier hs-var">elseExpr</span></a></span></span><span>
</span><span id="line-1287"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976197"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976195"><span class="hs-identifier hs-var">semiElse</span></a></span><span>
</span><span id="line-1288"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680976193"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976193"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#DoAndIfThenElseBit"><span class="hs-identifier hs-var">DoAndIfThenElseBit</span></a></span><span>
</span><span id="line-1289"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976193"><span class="hs-identifier hs-var">doAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1290"></span><span>             </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located a -&gt; Located c -&gt; SrcSpan
forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976198"><span class="hs-identifier hs-var">guardExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Located c
</span><a href="#local-6989586621680976194"><span class="hs-identifier hs-var">elseExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1291"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected semi-colons in conditional:&quot;</span></span><span>
</span><span id="line-1292"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976191"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-1293"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Perhaps you meant to use DoAndIfThenElse?&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1294"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1295"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680976190"><span class="annot"><span class="annottext">pprOptSemi :: Bool -&gt; SDoc
</span><a href="#local-6989586621680976190"><span class="hs-identifier hs-var hs-var">pprOptSemi</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#semi"><span class="hs-identifier hs-var">semi</span></a></span><span>
</span><span id="line-1296"></span><span>          </span><span class="annot"><a href="#local-6989586621680976190"><span class="hs-identifier hs-var">pprOptSemi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1297"></span><span>          </span><span id="local-6989586621680976191"><span class="annot"><span class="annottext">expr :: SDoc
</span><a href="#local-6989586621680976191"><span class="hs-identifier hs-var hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if&quot;</span></span><span>   </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located a
</span><a href="#local-6989586621680976198"><span class="hs-identifier hs-var">guardExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc
</span><a href="#local-6989586621680976190"><span class="hs-identifier hs-var">pprOptSemi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976197"><span class="hs-identifier hs-var">semiThen</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1298"></span><span>                 </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;then&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680976196"><span class="hs-identifier hs-var">thenExpr</span></a></span><span>  </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc
</span><a href="#local-6989586621680976190"><span class="hs-identifier hs-var">pprOptSemi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680976195"><span class="hs-identifier hs-var">semiElse</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1299"></span><span>                 </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;else&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located c -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located c
</span><a href="#local-6989586621680976194"><span class="hs-identifier hs-var">elseExpr</span></a></span><span>
</span><span id="line-1300"></span><span>
</span><span id="line-1301"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-type">isFunLhs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1302"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1303"></span><span class="hs-comment">-- A variable binding is parsed as a FunBind.</span><span>
</span><span id="line-1304"></span><span class="hs-comment">-- Just (fun, is_infix, arg_pats) if e is a function LHS</span><span>
</span><span id="line-1305"></span><span id="isFunLhs"><span class="annot"><span class="annottext">isFunLhs :: Located (PatBuilder GhcPs)
-&gt; P (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
         [AddAnn]))
</span><a href="GHC.Parser.PostProcess.html#isFunLhs"><span class="hs-identifier hs-var hs-var">isFunLhs</span></a></span></span><span> </span><span id="local-6989586621680976188"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976188"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
-&gt; [Located (PatBuilder GhcPs)]
-&gt; [AddAnn]
-&gt; P (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder GhcPs)],
         [AddAnn]))
forall {m :: * -&gt; *} {p}.
Monad m =&gt;
Located (PatBuilder p)
-&gt; [Located (PatBuilder p)]
-&gt; [AddAnn]
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
</span><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680976188"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1306"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1307"></span><span>   </span><span id="local-6989586621680976187"><span class="annot"><span class="annottext">go :: Located (PatBuilder p)
-&gt; [Located (PatBuilder p)]
-&gt; [AddAnn]
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
</span><a href="#local-6989586621680976187"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976179"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976179"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976178"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976178"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976177"><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976177"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621680976176"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976176"><span class="hs-identifier hs-var">ann</span></a></span></span><span>
</span><span id="line-1308"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976178"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located RdrName, LexicalFixity, [Located (PatBuilder p)],
 [AddAnn])
-&gt; Maybe
     (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
      [AddAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976179"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976178"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976177"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976176"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1309"></span><span>   </span><span class="annot"><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span id="local-6989586621680976175"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976175"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680976174"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976174"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976173"><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976173"><span class="hs-identifier hs-var">es</span></a></span></span><span>       </span><span id="local-6989586621680976172"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976172"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)]
-&gt; [AddAnn]
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
</span><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976175"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976174"><span class="hs-identifier hs-var">e</span></a></span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)] -&gt; [Located (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976173"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976172"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-1310"></span><span>   </span><span class="annot"><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976171"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976171"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span id="local-6989586621680976170"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976170"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span id="local-6989586621680976169"><span class="annot"><span class="annottext">es :: [Located (PatBuilder p)]
</span><a href="#local-6989586621680976169"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976168"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976168"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)]
-&gt; [AddAnn]
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
</span><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976170"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976169"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976168"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn]
</span><a href="GHC.Parser.Annotation.html#mkParensApiAnn"><span class="hs-identifier hs-var">mkParensApiAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976171"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1311"></span><span>   </span><span class="annot"><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976167"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976167"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span id="local-6989586621680976166"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976166"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976165"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976165"><span class="hs-identifier hs-var">loc'</span></a></span></span><span> </span><span id="local-6989586621680976164"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976164"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976163"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976163"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976162"><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976162"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621680976161"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976161"><span class="hs-identifier hs-var">ann</span></a></span></span><span>
</span><span id="line-1312"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976164"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- We have found the function!</span><span>
</span><span id="line-1313"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located RdrName, LexicalFixity, [Located (PatBuilder p)],
 [AddAnn])
-&gt; Maybe
     (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
      [AddAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976165"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976164"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976166"><span class="hs-identifier hs-var">l</span></a></span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)] -&gt; [Located (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976163"><span class="hs-identifier hs-var">r</span></a></span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)] -&gt; [Located (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976162"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976161"><span class="hs-identifier hs-var">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1314"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                     </span><span class="hs-comment">-- Infix data con; keep going</span><span>
</span><span id="line-1315"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976160"><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
</span><a href="#local-6989586621680976160"><span class="hs-identifier hs-var">mb_l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)]
-&gt; [AddAnn]
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
</span><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976166"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976162"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976161"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-1316"></span><span>             </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
</span><a href="#local-6989586621680976160"><span class="hs-identifier hs-var">mb_l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1317"></span><span>                 </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976159"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976159"><span class="hs-identifier hs-var">op'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976158"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976158"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976157"><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976157"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976156"><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976156"><span class="hs-identifier hs-var">es'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976155"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976155"><span class="hs-identifier hs-var">ann'</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located RdrName, LexicalFixity, [Located (PatBuilder p)],
 [AddAnn])
-&gt; Maybe
     (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
      [AddAnn])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680976159"><span class="hs-identifier hs-var">op'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976158"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)] -&gt; [Located (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976154"><span class="hs-identifier hs-var">op_app</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; [Located (PatBuilder p)] -&gt; [Located (PatBuilder p)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><a href="#local-6989586621680976156"><span class="hs-identifier hs-var">es'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976155"><span class="hs-identifier hs-var">ann'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1319"></span><span>                   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1320"></span><span>                     </span><span id="local-6989586621680976154"><span class="annot"><span class="annottext">op_app :: Located (PatBuilder p)
</span><a href="#local-6989586621680976154"><span class="hs-identifier hs-var hs-var">op_app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder p -&gt; Located (PatBuilder p)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976167"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder p)
-&gt; Located RdrName -&gt; Located (PatBuilder p) -&gt; PatBuilder p
forall p.
Located (PatBuilder p)
-&gt; Located RdrName -&gt; Located (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976157"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1321"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976165"><span class="hs-identifier hs-var">loc'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976164"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><a href="#local-6989586621680976163"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1322"></span><span>                 </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1323"></span><span>   </span><span class="annot"><a href="#local-6989586621680976187"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder p)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
-&gt; m (Maybe
        (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
         [AddAnn]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Located RdrName, LexicalFixity, [Located (PatBuilder p)],
   [AddAnn])
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1324"></span><span>
</span><span id="line-1325"></span><span class="hs-comment">-- | Either an operator or an operand.</span><span>
</span><span id="line-1326"></span><span class="hs-keyword">data</span><span> </span><span id="TyEl"><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-var">TyEl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TyElOpr"><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpr"><span class="hs-identifier hs-var">TyElOpr</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TyElOpd"><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-var">TyElOpd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1327"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="TyElKindApp"><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-var">TyElKindApp</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1328"></span><span>          </span><span class="hs-comment">-- See Note [TyElKindApp SrcSpan interpretation]</span><span>
</span><span id="line-1329"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="TyElUnpackedness"><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElUnpackedness"><span class="hs-identifier hs-var">TyElUnpackedness</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1330"></span><span>
</span><span id="line-1331"></span><span>
</span><span id="line-1332"></span><span class="hs-comment">{- Note [TyElKindApp SrcSpan interpretation]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A TyElKindApp captures type application written in haskell as

    @ Foo

where Foo is some type.

The SrcSpan reflects both elements, and there are AnnAt and AnnVal API
Annotations attached to this SrcSpan for the specific locations of
each within it.
-}</span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680976147"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1347"></span><span>  </span><span id="local-6989586621680976140"><span class="annot"><span class="annottext">ppr :: TyEl -&gt; SDoc
</span><a href="#local-6989586621680976140"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpr"><span class="hs-identifier hs-type">TyElOpr</span></a></span><span> </span><span id="local-6989586621680976139"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976139"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976139"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-1348"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680976138"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976138"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976138"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1349"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-type">TyElKindApp</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976137"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976137"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976137"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1350"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElUnpackedness"><span class="hs-identifier hs-type">TyElUnpackedness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976136"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976136"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976136"><span class="hs-identifier hs-var">unpk</span></a></span><span>
</span><span id="line-1351"></span><span>
</span><span id="line-1352"></span><span class="hs-comment">-- | Extract a strictness/unpackedness annotation from the front of a reversed</span><span>
</span><span id="line-1353"></span><span class="hs-comment">-- 'TyEl' list.</span><span>
</span><span id="line-1354"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pUnpackedness"><span class="hs-identifier hs-type">pUnpackedness</span></a></span><span>
</span><span id="line-1355"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- reversed TyEl</span><span>
</span><span id="line-1356"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1357"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1358"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span>
</span><span id="line-1359"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span>
</span><span id="line-1360"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">{- remaining TyEl -}</span><span class="hs-special">)</span><span>
</span><span id="line-1361"></span><span id="pUnpackedness"><span class="annot"><span class="annottext">pUnpackedness :: [Located TyEl]
-&gt; Maybe
     (SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pUnpackedness"><span class="hs-identifier hs-var hs-var">pUnpackedness</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976134"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976134"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976133"><span class="annot"><span class="annottext">TyEl
</span><a href="#local-6989586621680976133"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976132"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976132"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1362"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElUnpackedness"><span class="hs-identifier hs-type">TyElUnpackedness</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976131"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976131"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976130"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976130"><span class="hs-identifier hs-var">prag</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976129"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976129"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyEl
</span><a href="#local-6989586621680976133"><span class="hs-identifier hs-var">x1</span></a></span><span>
</span><span id="line-1363"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
-&gt; Maybe
     (SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976134"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976131"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976130"><span class="hs-identifier hs-var">prag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976129"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976132"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1364"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pUnpackedness"><span class="hs-identifier hs-var">pUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1365"></span><span>
</span><span id="line-1366"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-type">pBangTy</span></a></span><span>
</span><span id="line-1367"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- a type to be wrapped inside HsBangTy</span><span>
</span><span id="line-1368"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- reversed TyEl</span><span>
</span><span id="line-1369"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>           </span><span class="hs-comment">{- has a strict mark been consumed? -}</span><span>
</span><span id="line-1370"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">{- the resulting BangTy -}</span><span>
</span><span id="line-1371"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">{- add annotations -}</span><span>
</span><span id="line-1372"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">{- remaining TyEl -}</span><span class="hs-special">)</span><span>
</span><span id="line-1373"></span><span id="pBangTy"><span class="annot"><span class="annottext">pBangTy :: LHsType GhcPs
-&gt; [Located TyEl] -&gt; (Bool, LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-var hs-var">pBangTy</span></a></span></span><span> </span><span id="local-6989586621680976127"><span class="annot"><span class="annottext">lt :: LHsType GhcPs
</span><a href="#local-6989586621680976127"><span class="hs-identifier hs-var">lt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976126"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976126"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976125"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976125"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1374"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
-&gt; Maybe
     (SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pUnpackedness"><span class="hs-identifier hs-var">pUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976125"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1375"></span><span>    </span><span class="annot"><span class="annottext">Maybe
  (SrcSpan, [AddAnn], SourceText, SrcUnpackedness, [Located TyEl])
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976127"><span class="hs-identifier hs-var">lt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976125"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1376"></span><span>    </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976124"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976124"><span class="hs-identifier hs-var">l2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976123"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976123"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976122"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976122"><span class="hs-identifier hs-var">prag</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976121"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976121"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976120"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976120"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1377"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976119"><span class="annot"><span class="annottext">bl :: SrcSpan
</span><a href="#local-6989586621680976119"><span class="hs-identifier hs-var hs-var">bl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976126"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976124"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-1378"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680976118"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976118"><span class="hs-identifier hs-var">anns2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976117"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976117"><span class="hs-identifier hs-var">bt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SourceText, SrcUnpackedness)
-&gt; LHsType GhcPs -&gt; ([AddAnn], HsKind GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackedness"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976122"><span class="hs-identifier hs-var">prag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976121"><span class="hs-identifier hs-var">unpk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976127"><span class="hs-identifier hs-var">lt</span></a></span><span>
</span><span id="line-1379"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976119"><span class="hs-identifier hs-var">bl</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976117"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976119"><span class="hs-identifier hs-var">bl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976123"><span class="hs-identifier hs-var">anns</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn] -&gt; [AddAnn] -&gt; [AddAnn]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976118"><span class="hs-identifier hs-var">anns2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976120"><span class="hs-identifier hs-var">xs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1380"></span><span>
</span><span id="line-1381"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-type">mkBangTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1382"></span><span id="mkBangTy"><span class="annot"><span class="annottext">mkBangTy :: SrcStrictness -&gt; LHsType GhcPs -&gt; HsKind GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkBangTy"><span class="hs-identifier hs-var hs-var">mkBangTy</span></a></span></span><span> </span><span id="local-6989586621680976115"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976115"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1383"></span><span>  </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsKind GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="GHC.Hs.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XBangTy GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.Basic.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="GHC.Core.DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976115"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1384"></span><span>
</span><span id="line-1385"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackedness"><span class="hs-identifier hs-type">addUnpackedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span id="addUnpackedness"><span class="annot"><span class="annottext">addUnpackedness :: (SourceText, SrcUnpackedness)
-&gt; LHsType GhcPs -&gt; ([AddAnn], HsKind GhcPs)
</span><a href="GHC.Parser.PostProcess.html#addUnpackedness"><span class="hs-identifier hs-var hs-var">addUnpackedness</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976110"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976110"><span class="hs-identifier hs-var">prag</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976109"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976109"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976108"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976108"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span id="local-6989586621680976107"><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621680976107"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680976106"><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621680976106"><span class="hs-identifier hs-var">bang</span></a></span></span><span> </span><span id="local-6989586621680976105"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976105"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1387"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.Basic.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="GHC.Core.DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span id="local-6989586621680976104"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976104"><span class="hs-identifier hs-var">strictness</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621680976106"><span class="hs-identifier hs-var">bang</span></a></span><span>
</span><span id="line-1388"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-1389"></span><span>      </span><span id="local-6989586621680976103"><span class="annot"><span class="annottext">anns :: [AddAnn]
</span><a href="#local-6989586621680976103"><span class="hs-identifier hs-var hs-var">anns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976104"><span class="hs-identifier hs-var">strictness</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1390"></span><span>        </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#SrcLazy"><span class="hs-identifier hs-var">SrcLazy</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnnKeywordId -&gt; SrcSpan -&gt; AddAnn
</span><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-var">AddAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnTilde"><span class="hs-identifier hs-var">AnnTilde</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcSpanFirstCharacter"><span class="hs-identifier hs-var">srcSpanFirstCharacter</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976108"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1391"></span><span>        </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnnKeywordId -&gt; SrcSpan -&gt; AddAnn
</span><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-var">AddAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnBang"><span class="hs-identifier hs-var">AnnBang</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#srcSpanFirstCharacter"><span class="hs-identifier hs-var">srcSpanFirstCharacter</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976108"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1392"></span><span>        </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1393"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976103"><span class="hs-identifier hs-var">anns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsKind GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="GHC.Hs.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs
</span><a href="#local-6989586621680976107"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976110"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976109"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621680976104"><span class="hs-identifier hs-var">strictness</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976105"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1394"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#addUnpackedness"><span class="hs-identifier hs-var">addUnpackedness</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976097"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976097"><span class="hs-identifier hs-var">prag</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976096"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976096"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680976095"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976095"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-1395"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsKind GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="GHC.Hs.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XBangTy GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976097"><span class="hs-identifier hs-var">prag</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976096"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976095"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span>
</span><span id="line-1397"></span><span class="hs-comment">-- | Merge a /reversed/ and /non-empty/ soup of operators and operands</span><span>
</span><span id="line-1398"></span><span class="hs-comment">--   into a type.</span><span>
</span><span id="line-1399"></span><span class="hs-comment">--</span><span>
</span><span id="line-1400"></span><span class="hs-comment">-- User input: @F x y + G a b * X@</span><span>
</span><span id="line-1401"></span><span class="hs-comment">-- Input to 'mergeOps': [X, *, b, a, G, +, y, x, F]</span><span>
</span><span id="line-1402"></span><span class="hs-comment">-- Output corresponds to what the user wrote assuming all operators are of the</span><span>
</span><span id="line-1403"></span><span class="hs-comment">-- same fixity and right-associative.</span><span>
</span><span id="line-1404"></span><span class="hs-comment">--</span><span>
</span><span id="line-1405"></span><span class="hs-comment">-- It's a bit silly that we're doing it at all, as the renamer will have to</span><span>
</span><span id="line-1406"></span><span class="hs-comment">-- rearrange this, and it'd be easier to keep things separate.</span><span>
</span><span id="line-1407"></span><span class="hs-comment">--</span><span>
</span><span id="line-1408"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard]</span><span>
</span><span id="line-1409"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOps"><span class="hs-identifier hs-type">mergeOps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1410"></span><span id="mergeOps"><span class="annot"><span class="annottext">mergeOps :: [Located TyEl] -&gt; P (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOps"><span class="hs-identifier hs-var hs-var">mergeOps</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976094"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976094"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680976093"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976093"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976092"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976092"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1411"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976091"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976091"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976090"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680976090"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976089"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976089"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [Located TyEl] -&gt; (Bool, LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-var">pBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976094"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976093"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976092"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1412"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976089"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="hs-comment">-- We accept a BangTy only when there are no preceding TyEl.</span><span>
</span><span id="line-1413"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680976090"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">P () -&gt; P (LHsType GhcPs) -&gt; P (LHsType GhcPs)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; P (LHsType GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976091"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-1414"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOps"><span class="hs-identifier hs-var">mergeOps</span></a></span><span> </span><span id="local-6989586621680976088"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976088"><span class="hs-identifier hs-var">all_xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
forall {t}.
(Eq t, Num t) =&gt;
t
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
</span><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
forall a. a -&gt; a
</span><a href="../../base/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976088"><span class="hs-identifier hs-var">all_xs</span></a></span><span>
</span><span id="line-1415"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1416"></span><span>    </span><span class="hs-comment">-- NB. When modifying clauses in 'go', make sure that the reasoning in</span><span>
</span><span id="line-1417"></span><span>    </span><span class="hs-comment">-- Note [Non-empty 'acc' in mergeOps clause [end]] is still correct.</span><span>
</span><span id="line-1418"></span><span>
</span><span id="line-1419"></span><span>    </span><span class="hs-comment">-- clause [unpk]:</span><span>
</span><span id="line-1420"></span><span>    </span><span class="hs-comment">-- handle (NO)UNPACK pragmas</span><span>
</span><span id="line-1421"></span><span>    </span><span id="local-6989586621680976087"><span class="annot"><span class="annottext">go :: t
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
</span><a href="#local-6989586621680976087"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680976064"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976064"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680976063"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976063"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976062"><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976062"><span class="hs-identifier hs-var">ops_acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976061"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976061"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElUnpackedness"><span class="hs-identifier hs-type">TyElUnpackedness</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976060"><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976060"><span class="hs-identifier hs-var">anns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976059"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976059"><span class="hs-identifier hs-var">unpkSrc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976058"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976058"><span class="hs-identifier hs-var">unpk</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976057"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976057"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1422"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976063"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976057"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1423"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976056"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976056"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (SrcSpan, SDoc) (LHsType GhcPs) -&gt; P (LHsType GhcPs)
forall a. Either (SrcSpan, SDoc) a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (SrcSpan, SDoc) (LHsType GhcPs) -&gt; P (LHsType GhcPs))
-&gt; Either (SrcSpan, SDoc) (LHsType GhcPs) -&gt; P (LHsType GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976063"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-1424"></span><span>              </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976054"><span class="annot"><span class="annottext">a :: LHsType GhcPs
</span><a href="#local-6989586621680976054"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976062"><span class="hs-identifier hs-var">ops_acc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976056"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-1425"></span><span>                    </span><span id="local-6989586621680976053"><span class="annot"><span class="annottext">strictMark :: HsSrcBang
</span><a href="#local-6989586621680976053"><span class="hs-identifier hs-var hs-var">strictMark</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText -&gt; SrcUnpackedness -&gt; SrcStrictness -&gt; HsSrcBang
</span><a href="GHC.Core.DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976059"><span class="hs-identifier hs-var">unpkSrc</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976058"><span class="hs-identifier hs-var">unpk</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="GHC.Core.DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span>
</span><span id="line-1426"></span><span>                    </span><span id="local-6989586621680976052"><span class="annot"><span class="annottext">bl :: SrcSpan
</span><a href="#local-6989586621680976052"><span class="hs-identifier hs-var hs-var">bl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976061"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976054"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1427"></span><span>                    </span><span id="local-6989586621680976051"><span class="annot"><span class="annottext">bt :: HsKind GhcPs
</span><a href="#local-6989586621680976051"><span class="hs-identifier hs-var hs-var">bt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBangTy GhcPs -&gt; HsSrcBang -&gt; LHsType GhcPs -&gt; HsKind GhcPs
forall pass.
XBangTy pass -&gt; HsSrcBang -&gt; LHsType pass -&gt; HsType pass
</span><a href="GHC.Hs.Type.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XBangTy GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsSrcBang
</span><a href="#local-6989586621680976053"><span class="hs-identifier hs-var">strictMark</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976054"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1428"></span><span>              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; [AddAnn] -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; [AddAnn] -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addAnnsAt"><span class="hs-identifier hs-var">addAnnsAt</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976052"><span class="hs-identifier hs-var">bl</span></a></span><span> </span><span class="annot"><span class="annottext">[AddAnn]
</span><a href="#local-6989586621680976060"><span class="hs-identifier hs-var">anns</span></a></span><span>
</span><span id="line-1429"></span><span>              </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; P (LHsType GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976052"><span class="hs-identifier hs-var">bl</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976051"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1430"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (LHsType GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976061"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976050"><span class="hs-identifier hs-var">unpkError</span></a></span><span>
</span><span id="line-1431"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1432"></span><span>        </span><span id="local-6989586621680976049"><span class="annot"><span class="annottext">unpkSDoc :: SDoc
</span><a href="#local-6989586621680976049"><span class="hs-identifier hs-var hs-var">unpkSDoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680976059"><span class="hs-identifier hs-var">unpkSrc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1433"></span><span>          </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.Basic.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621680976058"><span class="hs-identifier hs-var">unpk</span></a></span><span>
</span><span id="line-1434"></span><span>          </span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span id="local-6989586621680976047"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680976047"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680976047"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; #-}&quot;</span></span><span>
</span><span id="line-1435"></span><span>        </span><span id="local-6989586621680976050"><span class="annot"><span class="annottext">unpkError :: SDoc
</span><a href="#local-6989586621680976050"><span class="hs-identifier hs-var hs-var">unpkError</span></a></span></span><span>
</span><span id="line-1436"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976057"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976049"><span class="hs-identifier hs-var">unpkSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot appear inside a type.&quot;</span></span><span>
</span><span id="line-1437"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976063"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976064"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680976049"><span class="hs-identifier hs-var">unpkSDoc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;must be applied to a type.&quot;</span></span><span>
</span><span id="line-1438"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1439"></span><span>              </span><span class="hs-comment">-- See Note [Impossible case in mergeOps clause [unpk]]</span><span>
</span><span id="line-1440"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mergeOps.UNPACK: impossible position&quot;</span></span><span>
</span><span id="line-1441"></span><span>
</span><span id="line-1442"></span><span>    </span><span class="hs-comment">-- clause [opr]:</span><span>
</span><span id="line-1443"></span><span>    </span><span class="hs-comment">-- when we encounter an operator, we must have accumulated</span><span>
</span><span id="line-1444"></span><span>    </span><span class="hs-comment">-- something for its rhs, and there must be something left</span><span>
</span><span id="line-1445"></span><span>    </span><span class="hs-comment">-- to build its lhs.</span><span>
</span><span id="line-1446"></span><span>    </span><span class="annot"><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976046"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976046"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680976045"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976045"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976044"><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976044"><span class="hs-identifier hs-var">ops_acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976043"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976043"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpr"><span class="hs-identifier hs-type">TyElOpr</span></a></span><span> </span><span id="local-6989586621680976042"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976042"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976041"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976041"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1447"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976045"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located TyEl -&gt; Bool) -&gt; [Located TyEl] -&gt; [Located TyEl]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; Bool
forall {l}. GenLocated l TyEl -&gt; Bool
</span><a href="#local-6989586621680976040"><span class="hs-identifier hs-var">isTyElOpd</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976041"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1448"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; P (LHsType GhcPs)
forall a. Located RdrName -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-var">failOpFewArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976043"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976042"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1449"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976039"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976039"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (SrcSpan, SDoc) (LHsType GhcPs) -&gt; P (LHsType GhcPs)
forall a. Either (SrcSpan, SDoc) a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976045"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1450"></span><span>                </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">t
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
</span><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680976037"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976037"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; Located RdrName -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var">mkLHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976037"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976043"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680976042"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976044"><span class="hs-identifier hs-var">ops_acc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976039"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976041"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1451"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1452"></span><span>        </span><span id="local-6989586621680976040"><span class="annot"><span class="annottext">isTyElOpd :: GenLocated l TyEl -&gt; Bool
</span><a href="#local-6989586621680976040"><span class="hs-identifier hs-var hs-var">isTyElOpd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1453"></span><span>        </span><span class="annot"><a href="#local-6989586621680976040"><span class="hs-identifier hs-var">isTyElOpd</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated l TyEl
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1454"></span><span>
</span><span id="line-1455"></span><span>    </span><span class="hs-comment">-- clause [opd]:</span><span>
</span><span id="line-1456"></span><span>    </span><span class="hs-comment">-- whenever an operand is encountered, it is added to the accumulator</span><span>
</span><span id="line-1457"></span><span>    </span><span class="annot"><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976035"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976035"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680976034"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976034"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976033"><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976033"><span class="hs-identifier hs-var">ops_acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976032"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976032"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680976031"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976031"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976030"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976030"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
</span><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976035"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976032"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976031"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976034"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976033"><span class="hs-identifier hs-var">ops_acc</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976030"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1458"></span><span>
</span><span id="line-1459"></span><span>    </span><span class="hs-comment">-- clause [tyapp]:</span><span>
</span><span id="line-1460"></span><span>    </span><span class="hs-comment">-- whenever a type application is encountered, it is added to the accumulator</span><span>
</span><span id="line-1461"></span><span>    </span><span class="annot"><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680976029"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976029"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680976028"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976028"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976027"><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976027"><span class="hs-identifier hs-var">ops_acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-type">TyElKindApp</span></a></span><span> </span><span id="local-6989586621680976026"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976026"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680976025"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976025"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976024"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976024"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
-&gt; [LHsTypeArg GhcPs]
-&gt; (LHsType GhcPs -&gt; LHsType GhcPs)
-&gt; [Located TyEl]
-&gt; P (LHsType GhcPs)
</span><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680976029"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. SrcSpan -&gt; ty -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976026"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976025"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976028"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976027"><span class="hs-identifier hs-var">ops_acc</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976024"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1462"></span><span>
</span><span id="line-1463"></span><span>    </span><span class="hs-comment">-- clause [end]</span><span>
</span><span id="line-1464"></span><span>    </span><span class="hs-comment">-- See Note [Non-empty 'acc' in mergeOps clause [end]]</span><span>
</span><span id="line-1465"></span><span>    </span><span class="annot"><a href="#local-6989586621680976087"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680976023"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976023"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680976022"><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976022"><span class="hs-identifier hs-var">ops_acc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680976021"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976021"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either (SrcSpan, SDoc) (LHsType GhcPs) -&gt; P (LHsType GhcPs)
forall a. Either (SrcSpan, SDoc) a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976023"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1466"></span><span>                             </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; P (LHsType GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="#local-6989586621680976022"><span class="hs-identifier hs-var">ops_acc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976021"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1467"></span><span>
</span><span id="line-1468"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-type">mergeOpsAcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1469"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1470"></span><span id="mergeOpsAcc"><span class="annot"><span class="annottext">mergeOpsAcc :: [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var hs-var">mergeOpsAcc</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mergeOpsAcc: empty input&quot;</span></span><span>
</span><span id="line-1471"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976020"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976020"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976019"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976019"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1472"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc) -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976020"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected type application:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976019"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1473"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621680976018"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976018"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976017"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976017"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="#local-6989586621680976016"><span class="hs-identifier hs-var">go1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976018"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976017"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1474"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1475"></span><span>    </span><span class="annot"><a href="#local-6989586621680976016"><span class="hs-identifier hs-type">go1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1476"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1477"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1478"></span><span>    </span><span id="local-6989586621680976016"><span class="annot"><span class="annottext">go1 :: LHsType GhcPs
-&gt; [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="#local-6989586621680976016"><span class="hs-identifier hs-var hs-var">go1</span></a></span></span><span> </span><span id="local-6989586621680976015"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976015"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
forall a b. b -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976015"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-1479"></span><span>    </span><span class="annot"><a href="#local-6989586621680976016"><span class="hs-identifier hs-var">go1</span></a></span><span> </span><span id="local-6989586621680976014"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976014"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680976013"><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680976013"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976012"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976012"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680976013"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1480"></span><span>        </span><span class="annot"><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span id="local-6989586621680976011"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976011"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="#local-6989586621680976016"><span class="hs-identifier hs-var">go1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
LHsType (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976014"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976011"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976012"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1481"></span><span>        </span><span class="annot"><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span id="local-6989586621680976009"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976009"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680976008"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976008"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680976007"><span class="annot"><span class="annottext">ty :: LHsType GhcPs
</span><a href="#local-6989586621680976007"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XAppKindTy GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs -&gt; LHsType GhcPs
forall (p :: Pass).
XAppKindTy (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
-&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsAppKindTy"><span class="hs-identifier hs-var">mkHsAppKindTy</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
XAppKindTy GhcPs
</span><a href="#local-6989586621680976009"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976014"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976008"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1482"></span><span>                            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="#local-6989586621680976016"><span class="hs-identifier hs-var">go1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976007"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976012"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1483"></span><span>        </span><span class="annot"><a href="GHC.Hs.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="#local-6989586621680976016"><span class="hs-identifier hs-var">go1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976014"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976012"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1484"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680976005"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976005"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680976005"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1485"></span><span>
</span><span id="line-1486"></span><span class="hs-comment">{- Note [Impossible case in mergeOps clause [unpk]]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This case should never occur. Let us consider all possible
variations of 'acc', 'xs', and 'k':

  acc          xs        k
==============================
  null   |    null       0      -- &quot;must be applied to a type&quot;
  null   |  not null     0      -- &quot;must be applied to a type&quot;
not null |    null       0      -- successful parse
not null |  not null     0      -- &quot;cannot appear inside a type&quot;
  null   |    null      &gt;0      -- handled in clause [opr]
  null   |  not null    &gt;0      -- &quot;cannot appear inside a type&quot;
not null |    null      &gt;0      -- successful parse
not null |  not null    &gt;0      -- &quot;cannot appear inside a type&quot;

The (null acc &amp;&amp; null xs &amp;&amp; k&gt;0) case is handled in clause [opr]
by the following check:

    if ... || null (filter isTyElOpd xs)
     then failOpFewArgs (L l op)

We know that this check has been performed because k&gt;0, and by
the time we reach the end of the list (null xs), the only way
for (null acc) to hold is that there was not a single TyElOpd
between the operator and the end of the list. But this case is
caught by the check and reported as 'failOpFewArgs'.
-}</span><span>
</span><span id="line-1514"></span><span>
</span><span id="line-1515"></span><span class="hs-comment">{- Note [Non-empty 'acc' in mergeOps clause [end]]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In clause [end] we need to know that 'acc' is non-empty to call 'mergeAcc'
without a check.

Running 'mergeOps' with an empty input list is forbidden, so we do not consider
this possibility. This means we'll hit at least one other clause before we
reach clause [end].

* Clauses [unpk] and [doc] do not call 'go' recursively, so we cannot hit
  clause [end] from there.
* Clause [opd] makes 'acc' non-empty, so if we hit clause [end] after it, 'acc'
  will be non-empty.
* Clause [opr] checks that (filter isTyElOpd xs) is not null - so we are going
  to hit clause [opd] at least once before we reach clause [end], making 'acc'
  non-empty.
* There are no other clauses.

Therefore, it is safe to omit a check for non-emptiness of 'acc' in clause
[end].

-}</span><span>
</span><span id="line-1537"></span><span>
</span><span id="line-1538"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-type">pInfixSide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1539"></span><span id="pInfixSide"><span class="annot"><span class="annottext">pInfixSide :: [Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-var hs-var">pInfixSide</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680976003"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976003"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680976002"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976002"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680976001"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976001"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1540"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680976000"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976000"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975999"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975999"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975998"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975998"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [Located TyEl] -&gt; (Bool, LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-var">pBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680976003"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680976002"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680976001"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1541"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs, P (), [Located TyEl])
-&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680976000"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975999"><span class="hs-identifier hs-var">addAnns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975998"><span class="hs-identifier hs-var">xs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-var">pInfixSide</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975997"><span class="annot"><span class="annottext">Located TyEl
</span><a href="#local-6989586621680975997"><span class="hs-identifier hs-var">el</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680975996"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975996"><span class="hs-identifier hs-var">xs1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1543"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975995"><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680975995"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; Maybe (LHsTypeArg GhcPs)
</span><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-var">pLHsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl
</span><a href="#local-6989586621680975997"><span class="hs-identifier hs-var">el</span></a></span><span>
</span><span id="line-1544"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
-&gt; [Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="#local-6989586621680975993"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680975995"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975996"><span class="hs-identifier hs-var">xs1</span></a></span><span>
</span><span id="line-1545"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1546"></span><span>     </span><span class="annot"><a href="#local-6989586621680975993"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Type.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1547"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1548"></span><span>     </span><span id="local-6989586621680975993"><span class="annot"><span class="annottext">go :: [LHsTypeArg GhcPs]
-&gt; [Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="#local-6989586621680975993"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680975992"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680975992"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975991"><span class="annot"><span class="annottext">Located TyEl
</span><a href="#local-6989586621680975991"><span class="hs-identifier hs-var">el</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680975990"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975990"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1549"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975989"><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680975989"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; Maybe (LHsTypeArg GhcPs)
</span><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-var">pLHsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl
</span><a href="#local-6989586621680975991"><span class="hs-identifier hs-var">el</span></a></span><span>
</span><span id="line-1550"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
-&gt; [Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="#local-6989586621680975993"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsTypeArg GhcPs
</span><a href="#local-6989586621680975989"><span class="hs-identifier hs-var">t</span></a></span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; [LHsTypeArg GhcPs] -&gt; [LHsTypeArg GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680975992"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975990"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1551"></span><span>     </span><span class="annot"><a href="#local-6989586621680975993"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680975988"><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680975988"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680975987"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975987"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs] -&gt; Either (SrcSpan, SDoc) (LHsType GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mergeOpsAcc"><span class="hs-identifier hs-var">mergeOpsAcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTypeArg GhcPs]
</span><a href="#local-6989586621680975988"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1552"></span><span>       </span><span class="annot"><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs, P (), [Located TyEl])
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1553"></span><span>       </span><span class="annot"><a href="../../base/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680975986"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975986"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(LHsType GhcPs, P (), [Located TyEl])
-&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975986"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975987"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1554"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-var">pInfixSide</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs, P (), [Located TyEl])
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1555"></span><span>
</span><span id="line-1556"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-type">pLHsTypeArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsArg"><span class="hs-identifier hs-type">HsArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1557"></span><span id="pLHsTypeArg"><span class="annot"><span class="annottext">pLHsTypeArg :: Located TyEl -&gt; Maybe (LHsTypeArg GhcPs)
</span><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-var hs-var">pLHsTypeArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975985"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975985"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680975984"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975984"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; Maybe (LHsTypeArg GhcPs)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. tm -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsValArg"><span class="hs-identifier hs-var">HsValArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975985"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975984"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1558"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-var">pLHsTypeArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-type">TyElKindApp</span></a></span><span> </span><span id="local-6989586621680975983"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975983"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975982"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975982"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsTypeArg GhcPs -&gt; Maybe (LHsTypeArg GhcPs)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; LHsType GhcPs -&gt; LHsTypeArg GhcPs
forall tm ty. SrcSpan -&gt; ty -&gt; HsArg tm ty
</span><a href="GHC.Hs.Type.html#HsTypeArg"><span class="hs-identifier hs-var">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975983"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975982"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1559"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#pLHsTypeArg"><span class="hs-identifier hs-var">pLHsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsTypeArg GhcPs)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1560"></span><span>
</span><span id="line-1561"></span><span id="local-6989586621680977885"><span id="local-6989586621680977886"><span class="annot"><a href="GHC.Parser.PostProcess.html#orErr"><span class="hs-identifier hs-type">orErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977886"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680977885"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977885"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977886"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1562"></span><span id="orErr"><span class="annot"><span class="annottext">orErr :: forall a b. Maybe a -&gt; b -&gt; Either b a
</span><a href="GHC.Parser.PostProcess.html#orErr"><span class="hs-identifier hs-var hs-var">orErr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975980"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680975980"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either b a
forall a b. b -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680975980"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1563"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#orErr"><span class="hs-identifier hs-var">orErr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621680975979"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680975979"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b a
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680975979"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1564"></span><span>
</span><span id="line-1565"></span><span class="hs-comment">-- | Merge a /reversed/ and /non-empty/ soup of operators and operands</span><span>
</span><span id="line-1566"></span><span class="hs-comment">--   into a data constructor.</span><span>
</span><span id="line-1567"></span><span class="hs-comment">--</span><span>
</span><span id="line-1568"></span><span class="hs-comment">-- User input: @C !A B -- ^ doc@</span><span>
</span><span id="line-1569"></span><span class="hs-comment">-- Input to 'mergeDataCon': [&quot;doc&quot;, B, !A, C]</span><span>
</span><span id="line-1570"></span><span class="hs-comment">-- Output: (C, PrefixCon [!A, B], &quot;doc&quot;)</span><span>
</span><span id="line-1571"></span><span class="hs-comment">--</span><span>
</span><span id="line-1572"></span><span class="hs-comment">-- See Note [Parsing data constructors is hard]</span><span>
</span><span id="line-1573"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mergeDataCon"><span class="hs-identifier hs-type">mergeDataCon</span></a></span><span>
</span><span id="line-1574"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyEl"><span class="hs-identifier hs-type">TyEl</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1575"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>         </span><span class="hs-comment">-- constructor name</span><span>
</span><span id="line-1576"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#HsConDeclDetails"><span class="hs-identifier hs-type">HsConDeclDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>  </span><span class="hs-comment">-- constructor field information</span><span>
</span><span id="line-1577"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-1578"></span><span id="mergeDataCon"><span class="annot"><span class="annottext">mergeDataCon :: [Located TyEl]
-&gt; P (Located RdrName,
      HsConDetails
        (HsScaled GhcPs (LHsType GhcPs))
        (GenLocated SrcSpan [LConDeclField GhcPs]))
</span><a href="GHC.Parser.PostProcess.html#mergeDataCon"><span class="hs-identifier hs-var hs-var">mergeDataCon</span></a></span></span><span> </span><span id="local-6989586621680975978"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1579"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975977"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975977"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975976"><span class="annot"><span class="annottext">(Located RdrName,
 HsConDetails
   (HsScaled GhcPs (LHsType GhcPs))
   (GenLocated SrcSpan [LConDeclField GhcPs]))
</span><a href="#local-6989586621680975976"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; P (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a. Either (SrcSpan, SDoc) a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#eitherToP"><span class="hs-identifier hs-var">eitherToP</span></a></span><span> </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975975"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1580"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975977"><span class="hs-identifier hs-var">addAnns</span></a></span><span>
</span><span id="line-1581"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Located RdrName,
 HsConDetails
   (HsScaled GhcPs (LHsType GhcPs))
   (GenLocated SrcSpan [LConDeclField GhcPs]))
-&gt; P (Located RdrName,
      HsConDetails
        (HsScaled GhcPs (LHsType GhcPs))
        (GenLocated SrcSpan [LConDeclField GhcPs]))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located RdrName,
 HsConDetails
   (HsScaled GhcPs (LHsType GhcPs))
   (GenLocated SrcSpan [LConDeclField GhcPs]))
</span><a href="#local-6989586621680975976"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1582"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1583"></span><span>    </span><span class="hs-comment">-- The result of merging the list of reversed TyEl into a</span><span>
</span><span id="line-1584"></span><span>    </span><span class="hs-comment">-- data constructor, along with [AddAnn].</span><span>
</span><span id="line-1585"></span><span>    </span><span id="local-6989586621680975975"><span class="annot"><span class="annottext">res :: Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975975"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span>
</span><span id="line-1586"></span><span>
</span><span id="line-1587"></span><span>    </span><span id="local-6989586621680975974"><span class="annot"><span class="annottext">goFirst :: [Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975974"><span class="hs-identifier hs-var hs-var">goFirst</span></a></span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975973"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975973"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975972"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680975972"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1588"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680975971"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975971"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975973"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680975972"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-1589"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(P (),
 (Located RdrName,
  HsConDetails
    (HsScaled GhcPs (LHsType GhcPs))
    (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975971"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. [arg] -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1590"></span><span>    </span><span class="annot"><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975970"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975970"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsRecTy"><span class="hs-identifier hs-type">HsRecTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRecTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975969"><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621680975969"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680975968"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975968"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1591"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975967"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975967"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975966"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680975966"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975968"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1592"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680975965"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975965"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975967"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680975966"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-1593"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(P (),
 (Located RdrName,
  HsConDetails
    (HsScaled GhcPs (LHsType GhcPs))
    (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975965"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan [LConDeclField GhcPs]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. rec -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; [LConDeclField GhcPs]
-&gt; GenLocated SrcSpan [LConDeclField GhcPs]
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975970"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[LConDeclField GhcPs]
</span><a href="#local-6989586621680975969"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1594"></span><span>    </span><span class="annot"><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975964"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975964"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="GHC.Hs.Type.html#HsBoxedOrConstraintTuple"><span class="hs-identifier hs-var">HsBoxedOrConstraintTuple</span></a></span><span> </span><span id="local-6989586621680975963"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975963"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1595"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(P (),
 (Located RdrName,
  HsConDetails
    (HsScaled GhcPs (LHsType GhcPs))
    (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1596"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975964"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; Int -&gt; DataCon
</span><a href="GHC.Builtin.Types.html#tupleDataCon"><span class="hs-identifier hs-var">tupleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsType GhcPs] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975963"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1597"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. [arg] -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs))
-&gt; [LHsType GhcPs] -&gt; [HsScaled GhcPs (LHsType GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs)
forall a pass. a -&gt; HsScaled pass a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975963"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1598"></span><span>    </span><span class="annot"><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975960"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975960"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680975959"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975959"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680975958"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975958"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1599"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975957"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975957"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975956"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975956"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975955"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975955"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [Located TyEl] -&gt; (Bool, LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-var">pBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975960"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975959"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975958"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1600"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">P ()
-&gt; [LHsType GhcPs]
-&gt; [Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975956"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975957"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975955"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1601"></span><span>    </span><span class="annot"><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975953"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975953"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-type">TyElKindApp</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1602"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975952"><span class="hs-identifier hs-var">goInfix</span></a></span><span> </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Monoid.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975953"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975951"><span class="hs-identifier hs-var">kindAppErr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1603"></span><span>    </span><span class="annot"><a href="#local-6989586621680975974"><span class="hs-identifier hs-var">goFirst</span></a></span><span> </span><span id="local-6989586621680975950"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975950"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-1604"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">P ()
-&gt; [LHsType GhcPs]
-&gt; [Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975950"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1605"></span><span>
</span><span id="line-1606"></span><span>    </span><span id="local-6989586621680975954"><span class="annot"><span class="annottext">go :: P ()
-&gt; [LHsType GhcPs]
-&gt; [Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975954"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680975949"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975949"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span> </span><span id="local-6989586621680975948"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975948"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975947"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975947"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975946"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680975946"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1607"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680975945"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975945"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975947"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680975946"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-1608"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(P (),
 (Located RdrName,
  HsConDetails
    (HsScaled GhcPs (LHsType GhcPs))
    (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975949"><span class="hs-identifier hs-var">addAnns</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975945"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcPs (LHsType GhcPs)]
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. [arg] -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs))
-&gt; [LHsType GhcPs] -&gt; [HsScaled GhcPs (LHsType GhcPs)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs)
forall a pass. a -&gt; HsScaled pass a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975948"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1609"></span><span>    </span><span class="annot"><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621680975944"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975944"><span class="hs-identifier hs-var">addAnns</span></a></span></span><span> </span><span id="local-6989586621680975943"><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975943"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975942"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975942"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpd"><span class="hs-identifier hs-type">TyElOpd</span></a></span><span> </span><span id="local-6989586621680975941"><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975941"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621680975940"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975940"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1610"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975939"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975939"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975938"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975938"><span class="hs-identifier hs-var">addAnns'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975937"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975937"><span class="hs-identifier hs-var">xs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; [Located TyEl] -&gt; (Bool, LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pBangTy"><span class="hs-identifier hs-var">pBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975942"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsKind GhcPs
</span><a href="#local-6989586621680975941"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975940"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1611"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">P ()
-&gt; [LHsType GhcPs]
-&gt; [Located TyEl]
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975944"><span class="hs-identifier hs-var">addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">P () -&gt; P () -&gt; P ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975938"><span class="hs-identifier hs-var">addAnns'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975939"><span class="hs-identifier hs-var">t'</span></a></span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; [LHsType GhcPs] -&gt; [LHsType GhcPs]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><a href="#local-6989586621680975943"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975937"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1612"></span><span>    </span><span class="annot"><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpr"><span class="hs-identifier hs-type">TyElOpr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1613"></span><span>      </span><span class="hs-comment">-- Encountered an operator: backtrack to the beginning and attempt</span><span>
</span><span id="line-1614"></span><span>      </span><span class="hs-comment">-- to parse as an infix definition.</span><span>
</span><span id="line-1615"></span><span>      </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975952"><span class="hs-identifier hs-var">goInfix</span></a></span><span>
</span><span id="line-1616"></span><span>    </span><span class="annot"><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975936"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975936"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElKindApp"><span class="hs-identifier hs-type">TyElKindApp</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975952"><span class="hs-identifier hs-var">goInfix</span></a></span><span> </span><span class="annot"><span class="annottext">Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">Monoid.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975936"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975951"><span class="hs-identifier hs-var">kindAppErr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>    </span><span class="annot"><a href="#local-6989586621680975954"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LHsType GhcPs]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><a href="#local-6989586621680975935"><span class="hs-identifier hs-var">malformedErr</span></a></span><span>
</span><span id="line-1618"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1619"></span><span>        </span><span id="local-6989586621680975935"><span class="annot"><span class="annottext">malformedErr :: (SrcSpan, SDoc)
</span><a href="#local-6989586621680975935"><span class="hs-identifier hs-var hs-var">malformedErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1620"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpan -&gt; SrcSpan) -&gt; SrcSpan -&gt; [SrcSpan] -&gt; SrcSpan
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.Types.SrcLoc.html#noSrcSpan"><span class="hs-identifier hs-var">noSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located TyEl -&gt; SrcSpan) -&gt; [Located TyEl] -&gt; [SrcSpan]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1621"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot parse data constructor&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1622"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in a data/newtype declaration:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1623"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; ([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; [SDoc]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Located TyEl -&gt; SDoc) -&gt; [Located TyEl] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1624"></span><span>
</span><span id="line-1625"></span><span>    </span><span id="local-6989586621680975952"><span class="annot"><span class="annottext">goInfix :: Either
  (SrcSpan, SDoc)
  (P (),
   (Located RdrName,
    HsConDetails
      (HsScaled GhcPs (LHsType GhcPs))
      (GenLocated SrcSpan [LConDeclField GhcPs])))
</span><a href="#local-6989586621680975952"><span class="hs-identifier hs-var hs-var">goInfix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1626"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975932"><span class="annot"><span class="annottext">xs0 :: [Located TyEl]
</span><a href="#local-6989586621680975932"><span class="hs-identifier hs-var hs-var">xs0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span>
</span><span id="line-1627"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975931"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975931"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975930"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975930"><span class="hs-identifier hs-var">rhs_addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975929"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975929"><span class="hs-identifier hs-var">xs1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-var">pInfixSide</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975932"><span class="hs-identifier hs-var">xs0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs, P (), [Located TyEl])
-&gt; (SrcSpan, SDoc)
-&gt; Either (SrcSpan, SDoc) (LHsType GhcPs, P (), [Located TyEl])
forall a b. Maybe a -&gt; b -&gt; Either b a
</span><a href="GHC.Parser.PostProcess.html#orErr"><span class="hs-operator hs-var">`orErr`</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><a href="#local-6989586621680975928"><span class="hs-identifier hs-var">malformedErr</span></a></span><span>
</span><span id="line-1628"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975927"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975927"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975926"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975926"><span class="hs-identifier hs-var">xs3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975929"><span class="hs-identifier hs-var">xs1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1629"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975925"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975925"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#TyElOpr"><span class="hs-identifier hs-type">TyElOpr</span></a></span><span> </span><span id="local-6989586621680975924"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975924"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621680975923"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975923"><span class="hs-identifier hs-var">xs3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1630"></span><span>                </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680975922"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975922"><span class="hs-identifier hs-var">data_con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Either (SrcSpan, SDoc) (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#tyConToDataCon"><span class="hs-identifier hs-var">tyConToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975925"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975924"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-1631"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Located RdrName, [Located TyEl])
-&gt; Either (SrcSpan, SDoc) (Located RdrName, [Located TyEl])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975922"><span class="hs-identifier hs-var">data_con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975923"><span class="hs-identifier hs-var">xs3</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1632"></span><span>              </span><span class="annot"><span class="annottext">[Located TyEl]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
-&gt; Either (SrcSpan, SDoc) (Located RdrName, [Located TyEl])
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><a href="#local-6989586621680975928"><span class="hs-identifier hs-var">malformedErr</span></a></span><span>
</span><span id="line-1633"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975921"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975921"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975920"><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975920"><span class="hs-identifier hs-var">lhs_addAnns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975919"><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975919"><span class="hs-identifier hs-var">xs5</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Maybe (LHsType GhcPs, P (), [Located TyEl])
</span><a href="GHC.Parser.PostProcess.html#pInfixSide"><span class="hs-identifier hs-var">pInfixSide</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975926"><span class="hs-identifier hs-var">xs3</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsType GhcPs, P (), [Located TyEl])
-&gt; (SrcSpan, SDoc)
-&gt; Either (SrcSpan, SDoc) (LHsType GhcPs, P (), [Located TyEl])
forall a b. Maybe a -&gt; b -&gt; Either b a
</span><a href="GHC.Parser.PostProcess.html#orErr"><span class="hs-operator hs-var">`orErr`</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><a href="#local-6989586621680975928"><span class="hs-identifier hs-var">malformedErr</span></a></span><span>
</span><span id="line-1634"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Either (SrcSpan, SDoc) () -&gt; Either (SrcSpan, SDoc) ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located TyEl] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975919"><span class="hs-identifier hs-var">xs5</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SrcSpan, SDoc) -&gt; Either (SrcSpan, SDoc) ()
forall a b. a -&gt; Either a b
</span><a href="../../base/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, SDoc)
</span><a href="#local-6989586621680975928"><span class="hs-identifier hs-var">malformedErr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1635"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975918"><span class="annot"><span class="annottext">addAnns :: P ()
</span><a href="#local-6989586621680975918"><span class="hs-identifier hs-var hs-var">addAnns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975920"><span class="hs-identifier hs-var">lhs_addAnns</span></a></span><span> </span><span class="annot"><span class="annottext">P () -&gt; P () -&gt; P ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975930"><span class="hs-identifier hs-var">rhs_addAnns</span></a></span><span>
</span><span id="line-1636"></span><span>         </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(P (),
 (Located RdrName,
  HsConDetails
    (HsScaled GhcPs (LHsType GhcPs))
    (GenLocated SrcSpan [LConDeclField GhcPs])))
-&gt; Either
     (SrcSpan, SDoc)
     (P (),
      (Located RdrName,
       HsConDetails
         (HsScaled GhcPs (LHsType GhcPs))
         (GenLocated SrcSpan [LConDeclField GhcPs])))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">P ()
</span><a href="#local-6989586621680975918"><span class="hs-identifier hs-var">addAnns</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975927"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsScaled GhcPs (LHsType GhcPs)
-&gt; HsScaled GhcPs (LHsType GhcPs)
-&gt; HsConDetails
     (HsScaled GhcPs (LHsType GhcPs))
     (GenLocated SrcSpan [LConDeclField GhcPs])
forall arg rec. arg -&gt; arg -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs)
forall a pass. a -&gt; HsScaled pass a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975921"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsScaled GhcPs (LHsType GhcPs)
forall a pass. a -&gt; HsScaled pass a
</span><a href="GHC.Hs.Type.html#hsLinear"><span class="hs-identifier hs-var">hsLinear</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975931"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1637"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1638"></span><span>        </span><span id="local-6989586621680975928"><span class="annot"><span class="annottext">malformedErr :: (SrcSpan, SDoc)
</span><a href="#local-6989586621680975928"><span class="hs-identifier hs-var hs-var">malformedErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1639"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpan -&gt; SrcSpan) -&gt; SrcSpan -&gt; [SrcSpan] -&gt; SrcSpan
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-identifier hs-var">combineSrcSpans</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.Types.SrcLoc.html#noSrcSpan"><span class="hs-identifier hs-var">noSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located TyEl -&gt; SrcSpan) -&gt; [Located TyEl] -&gt; [SrcSpan]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1640"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot parse an infix data constructor&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1641"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in a data/newtype declaration:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1642"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; ([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; [SDoc]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Located TyEl -&gt; SDoc) -&gt; [Located TyEl] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span>    </span><span id="local-6989586621680975951"><span class="annot"><span class="annottext">kindAppErr :: SDoc
</span><a href="#local-6989586621680975951"><span class="hs-identifier hs-var hs-var">kindAppErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1645"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected kind application&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-1646"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in a data/newtype declaration:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1647"></span><span>      </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; ([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; [SDoc]
forall a. [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Located TyEl -&gt; SDoc) -&gt; [Located TyEl] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located TyEl -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[Located TyEl]
</span><a href="#local-6989586621680975978"><span class="hs-identifier hs-var">all_xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1648"></span><span>
</span><span id="line-1649"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-1650"></span><span class="hs-comment">-- | Check for monad comprehensions</span><span>
</span><span id="line-1651"></span><span class="hs-comment">--</span><span>
</span><span id="line-1652"></span><span class="hs-comment">-- If the flag MonadComprehensions is set, return a 'MonadComp' context,</span><span>
</span><span id="line-1653"></span><span class="hs-comment">-- otherwise use the usual 'ListComp' context</span><span>
</span><span id="line-1654"></span><span>
</span><span id="line-1655"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-type">checkMonadComp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsStmtContext"><span class="hs-identifier hs-type">HsStmtContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1656"></span><span id="checkMonadComp"><span class="annot"><span class="annottext">checkMonadComp :: PV (HsStmtContext GhcRn)
</span><a href="GHC.Parser.PostProcess.html#checkMonadComp"><span class="hs-identifier hs-var hs-var">checkMonadComp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1657"></span><span>    </span><span id="local-6989586621680975917"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975917"><span class="hs-identifier hs-var">monadComprehensions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#MonadComprehensionsBit"><span class="hs-identifier hs-var">MonadComprehensionsBit</span></a></span><span>
</span><span id="line-1658"></span><span>    </span><span class="annot"><span class="annottext">HsStmtContext GhcRn -&gt; PV (HsStmtContext GhcRn)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsStmtContext GhcRn -&gt; PV (HsStmtContext GhcRn))
-&gt; HsStmtContext GhcRn -&gt; PV (HsStmtContext GhcRn)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975917"><span class="hs-identifier hs-var">monadComprehensions</span></a></span><span>
</span><span id="line-1659"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">HsStmtContext GhcRn
forall p. HsStmtContext p
</span><a href="GHC.Hs.Expr.html#MonadComp"><span class="hs-identifier hs-var">MonadComp</span></a></span><span>
</span><span id="line-1660"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">HsStmtContext GhcRn
forall p. HsStmtContext p
</span><a href="GHC.Hs.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span>
</span><span id="line-1661"></span><span>
</span><span id="line-1662"></span><span class="hs-comment">-- -------------------------------------------------------------------------</span><span>
</span><span id="line-1663"></span><span class="hs-comment">-- Expression/command/pattern ambiguity.</span><span>
</span><span id="line-1664"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1665"></span><span class="hs-comment">--</span><span>
</span><span id="line-1666"></span><span>
</span><span id="line-1667"></span><span class="hs-comment">-- See Note [Parser-Validator]</span><span>
</span><span id="line-1668"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1669"></span><span class="hs-comment">--</span><span>
</span><span id="line-1670"></span><span class="hs-comment">-- This newtype is required to avoid impredicative types in monadic</span><span>
</span><span id="line-1671"></span><span class="hs-comment">-- productions. That is, in a production that looks like</span><span>
</span><span id="line-1672"></span><span class="hs-comment">--</span><span>
</span><span id="line-1673"></span><span class="hs-comment">--    | ... {% return (ECP ...) }</span><span>
</span><span id="line-1674"></span><span class="hs-comment">--</span><span>
</span><span id="line-1675"></span><span class="hs-comment">-- we are dealing with</span><span>
</span><span id="line-1676"></span><span class="hs-comment">--    P ECP</span><span>
</span><span id="line-1677"></span><span class="hs-comment">-- whereas without a newtype we would be dealing with</span><span>
</span><span id="line-1678"></span><span class="hs-comment">--    P (forall b. DisambECP b =&gt; PV (Located b))</span><span>
</span><span id="line-1679"></span><span class="hs-comment">--</span><span>
</span><span id="line-1680"></span><span class="hs-keyword">newtype</span><span> </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1681"></span><span>  </span><span id="ECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runECP_PV"><span class="annot"><span class="annottext">ECP -&gt; forall b. DisambECP b =&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#runECP_PV"><span class="hs-identifier hs-var hs-var">runECP_PV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680975908"><span class="annot"><a href="#local-6989586621680975908"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680975908"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680975908"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1682"></span><span>
</span><span id="line-1683"></span><span id="local-6989586621680977873"><span class="annot"><a href="GHC.Parser.PostProcess.html#runECP_P"><span class="hs-identifier hs-type">runECP_P</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977873"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977873"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1684"></span><span id="runECP_P"><span class="annot"><span class="annottext">runECP_P :: forall b. DisambECP b =&gt; ECP -&gt; P (Located b)
</span><a href="GHC.Parser.PostProcess.html#runECP_P"><span class="hs-identifier hs-var hs-var">runECP_P</span></a></span></span><span> </span><span id="local-6989586621680975902"><span class="annot"><span class="annottext">ECP
</span><a href="#local-6989586621680975902"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (Located b) -&gt; P (Located b)
forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var">runPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ECP -&gt; forall b. DisambECP b =&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#runECP_PV"><span class="hs-identifier hs-var hs-var">runECP_PV</span></a></span><span> </span><span class="annot"><span class="annottext">ECP
</span><a href="#local-6989586621680975902"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1685"></span><span>
</span><span id="line-1686"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-type">ecpFromExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1687"></span><span id="ecpFromExp"><span class="annot"><span class="annottext">ecpFromExp :: LHsExpr GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp"><span class="hs-identifier hs-var hs-var">ecpFromExp</span></a></span></span><span> </span><span id="local-6989586621680975901"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975901"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (Located b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (Located b)
forall b. DisambECP b =&gt; LHsExpr GhcPs -&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-var">ecpFromExp'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975901"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1688"></span><span>
</span><span id="line-1689"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-type">ecpFromCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-type">ECP</span></a></span><span>
</span><span id="line-1690"></span><span id="ecpFromCmd"><span class="annot"><span class="annottext">ecpFromCmd :: LHsCmd GhcPs -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd"><span class="hs-identifier hs-var hs-var">ecpFromCmd</span></a></span></span><span> </span><span id="local-6989586621680975894"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975894"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b. DisambECP b =&gt; PV (Located b)) -&gt; ECP
</span><a href="GHC.Parser.PostProcess.html#ECP"><span class="hs-identifier hs-var">ECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (Located b)
forall b. DisambECP b =&gt; LHsCmd GhcPs -&gt; PV (Located b)
</span><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-var">ecpFromCmd'</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975894"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1691"></span><span>
</span><span id="line-1692"></span><span class="hs-comment">-- | Disambiguate infix operators.</span><span>
</span><span id="line-1693"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1694"></span><span class="hs-keyword">class</span><span> </span><span id="DisambInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-var">DisambInfixOp</span></a></span></span><span> </span><span id="local-6989586621680977868"><span class="annot"><a href="#local-6989586621680977868"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1695"></span><span>  </span><span id="mkHsVarOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarOpPV"><span class="hs-identifier hs-type">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1696"></span><span>  </span><span id="mkHsConOpPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsConOpPV"><span class="hs-identifier hs-type">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1697"></span><span>  </span><span id="mkHsInfixHolePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsInfixHolePV"><span class="hs-identifier hs-type">mkHsInfixHolePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977868"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1698"></span><span>
</span><span id="line-1699"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1700"></span><span>  </span><span id="local-6989586621680975878"><span class="annot"><span class="annottext">mkHsVarOpPV :: Located RdrName -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975878"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span id="local-6989586621680975877"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975877"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975877"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; Located (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; Located (IdP p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975877"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1701"></span><span>  </span><span id="local-6989586621680975875"><span class="annot"><span class="annottext">mkHsConOpPV :: Located RdrName -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975875"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span id="local-6989586621680975874"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975874"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975874"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; Located (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; Located (IdP p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975874"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1702"></span><span>  </span><span id="local-6989586621680975872"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975872"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621680975871"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975871"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975871"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
forall (id :: Pass). HsExpr (GhcPass id)
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span>
</span><span id="line-1703"></span><span>
</span><span id="line-1704"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1705"></span><span>  </span><span id="local-6989586621680975864"><span class="annot"><span class="annottext">mkHsConOpPV :: Located RdrName -&gt; PV (Located RdrName)
</span><a href="#local-6989586621680975864"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsConOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975863"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975863"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975862"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975862"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; PV (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; PV (Located RdrName))
-&gt; Located RdrName -&gt; PV (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975863"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975862"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1706"></span><span>  </span><span id="local-6989586621680975860"><span class="annot"><span class="annottext">mkHsVarOpPV :: Located RdrName -&gt; PV (Located RdrName)
</span><a href="#local-6989586621680975860"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarOpPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975859"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975859"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975858"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975858"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; PV (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; PV (Located RdrName))
-&gt; Located RdrName -&gt; PV (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975859"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975858"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1707"></span><span>  </span><span id="local-6989586621680975856"><span class="annot"><span class="annottext">mkHsInfixHolePV :: SrcSpan -&gt; PV (Located RdrName)
</span><a href="#local-6989586621680975856"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsInfixHolePV</span></a></span></span><span> </span><span id="local-6989586621680975855"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975855"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1708"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located RdrName)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975855"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located RdrName)) -&gt; SDoc -&gt; PV (Located RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid infix hole, expected an infix operator&quot;</span></span><span>
</span><span id="line-1709"></span><span>
</span><span id="line-1710"></span><span class="hs-comment">-- | Disambiguate constructs that may appear when we do not know ahead of time whether we are</span><span>
</span><span id="line-1711"></span><span class="hs-comment">-- parsing an expression, a command, or a pattern.</span><span>
</span><span id="line-1712"></span><span class="hs-comment">-- See Note [Ambiguous syntactic categories]</span><span>
</span><span id="line-1713"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="DisambECP"><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-var">DisambECP</span></a></span></span><span> </span><span id="local-6989586621680977930"><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1714"></span><span>  </span><span class="hs-comment">-- | See Note [Body in DisambECP]</span><span>
</span><span id="line-1715"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span id="local-6989586621680977930"><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-1716"></span><span>  </span><span class="hs-comment">-- | Return a command without ambiguity, or fail in a non-command context.</span><span>
</span><span id="line-1717"></span><span>  </span><span id="ecpFromCmd%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromCmd%27"><span class="hs-identifier hs-type">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1718"></span><span>  </span><span class="hs-comment">-- | Return an expression without ambiguity, or fail in a non-expression context.</span><span>
</span><span id="line-1719"></span><span>  </span><span id="ecpFromExp%27"><span class="annot"><a href="GHC.Parser.PostProcess.html#ecpFromExp%27"><span class="hs-identifier hs-type">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1720"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;\... -&gt; ...&quot; (lambda)</span><span>
</span><span id="line-1721"></span><span>  </span><span id="mkHsLamPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamPV"><span class="hs-identifier hs-type">mkHsLamPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1722"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;let ... in ...&quot;</span><span>
</span><span id="line-1723"></span><span>  </span><span id="mkHsLetPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLetPV"><span class="hs-identifier hs-type">mkHsLetPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#LHsLocalBinds"><span class="hs-identifier hs-type">LHsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1724"></span><span>  </span><span class="hs-comment">-- | Infix operator representation</span><span>
</span><span id="line-1725"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span id="local-6989586621680977930"><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1726"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on InfixOp into scope.</span><span>
</span><span id="line-1727"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1728"></span><span>  </span><span id="superInfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#superInfixOp"><span class="hs-identifier hs-type">superInfixOp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambInfixOp"><span class="hs-identifier hs-type">DisambInfixOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1729"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f # x&quot; (infix operator)</span><span>
</span><span id="line-1730"></span><span>  </span><span id="mkHsOpAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOpAppPV"><span class="hs-identifier hs-type">mkHsOpAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1731"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;case ... of ...&quot;</span><span>
</span><span id="line-1732"></span><span>  </span><span id="mkHsCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsCasePV"><span class="hs-identifier hs-type">mkHsCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1733"></span><span>  </span><span class="hs-comment">-- | Disambiguate @\\case ...@ (lambda case)</span><span>
</span><span id="line-1734"></span><span>  </span><span id="mkHsLamCasePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLamCasePV"><span class="hs-identifier hs-type">mkHsLamCasePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1735"></span><span>  </span><span class="hs-comment">-- | Function argument representation</span><span>
</span><span id="line-1736"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span id="local-6989586621680977930"><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1737"></span><span>  </span><span class="hs-comment">-- | Bring superclass constraints on FunArg into scope.</span><span>
</span><span id="line-1738"></span><span>  </span><span class="hs-comment">-- See Note [UndecidableSuperClasses for associated types]</span><span>
</span><span id="line-1739"></span><span>  </span><span id="superFunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#superFunArg"><span class="hs-identifier hs-type">superFunArg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1740"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f x&quot; (function application)</span><span>
</span><span id="line-1741"></span><span>  </span><span id="mkHsAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppPV"><span class="hs-identifier hs-type">mkHsAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-type">FunArg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1742"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f @t&quot; (visible type application)</span><span>
</span><span id="line-1743"></span><span>  </span><span id="mkHsAppTypePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAppTypePV"><span class="hs-identifier hs-type">mkHsAppTypePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1744"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;if ... then ... else ...&quot;</span><span>
</span><span id="line-1745"></span><span>  </span><span id="mkHsIfPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsIfPV"><span class="hs-identifier hs-type">mkHsIfPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1746"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1747"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1748"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1749"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- semicolon?</span><span>
</span><span id="line-1750"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1751"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1752"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;do { ... }&quot; (do notation)</span><span>
</span><span id="line-1753"></span><span>  </span><span id="mkHsDoPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-type">mkHsDoPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1754"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1755"></span><span>    </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Unit.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1756"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1757"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1758"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;( ... )&quot; (parentheses)</span><span>
</span><span id="line-1759"></span><span>  </span><span id="mkHsParPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsParPV"><span class="hs-identifier hs-type">mkHsParPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1760"></span><span>  </span><span class="hs-comment">-- | Disambiguate a variable &quot;f&quot; or a data constructor &quot;MkF&quot;.</span><span>
</span><span id="line-1761"></span><span>  </span><span id="mkHsVarPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsVarPV"><span class="hs-identifier hs-type">mkHsVarPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1762"></span><span>  </span><span class="hs-comment">-- | Disambiguate a monomorphic literal</span><span>
</span><span id="line-1763"></span><span>  </span><span id="mkHsLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLitPV"><span class="hs-identifier hs-type">mkHsLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1764"></span><span>  </span><span class="hs-comment">-- | Disambiguate an overloaded literal</span><span>
</span><span id="line-1765"></span><span>  </span><span id="mkHsOverLitPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsOverLitPV"><span class="hs-identifier hs-type">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1766"></span><span>  </span><span class="hs-comment">-- | Disambiguate a wildcard</span><span>
</span><span id="line-1767"></span><span>  </span><span id="mkHsWildCardPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsWildCardPV"><span class="hs-identifier hs-type">mkHsWildCardPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1768"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a :: t&quot; (type annotation)</span><span>
</span><span id="line-1769"></span><span>  </span><span id="mkHsTySigPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsTySigPV"><span class="hs-identifier hs-type">mkHsTySigPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1770"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;[a,b,c]&quot; (list syntax)</span><span>
</span><span id="line-1771"></span><span>  </span><span id="mkHsExplicitListPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsExplicitListPV"><span class="hs-identifier hs-type">mkHsExplicitListPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1772"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;$(...)&quot; and &quot;[quasi|...|]&quot; (TH splices)</span><span>
</span><span id="line-1773"></span><span>  </span><span id="mkHsSplicePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSplicePV"><span class="hs-identifier hs-type">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1774"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;f { a = b, ... }&quot; syntax (record construction and record updates)</span><span>
</span><span id="line-1775"></span><span>  </span><span id="mkHsRecordPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsRecordPV"><span class="hs-identifier hs-type">mkHsRecordPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1776"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1777"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1778"></span><span>    </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1779"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1780"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1781"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;-a&quot; (negation)</span><span>
</span><span id="line-1782"></span><span>  </span><span id="mkHsNegAppPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsNegAppPV"><span class="hs-identifier hs-type">mkHsNegAppPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1783"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(# a)&quot; (right operator section)</span><span>
</span><span id="line-1784"></span><span>  </span><span id="mkHsSectionR_PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsSectionR_PV"><span class="hs-identifier hs-type">mkHsSectionR_PV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-type">InfixOp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1785"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;(a -&gt; b)&quot; (view pattern)</span><span>
</span><span id="line-1786"></span><span>  </span><span id="mkHsViewPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsViewPatPV"><span class="hs-identifier hs-type">mkHsViewPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1787"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;a@b&quot; (as-pattern)</span><span>
</span><span id="line-1788"></span><span>  </span><span id="mkHsAsPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsAsPatPV"><span class="hs-identifier hs-type">mkHsAsPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1789"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;~a&quot; (lazy pattern)</span><span>
</span><span id="line-1790"></span><span>  </span><span id="mkHsLazyPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsLazyPatPV"><span class="hs-identifier hs-type">mkHsLazyPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1791"></span><span>  </span><span class="hs-comment">-- | Disambiguate &quot;!a&quot; (bang pattern)</span><span>
</span><span id="line-1792"></span><span>  </span><span id="mkHsBangPatPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsBangPatPV"><span class="hs-identifier hs-type">mkHsBangPatPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1793"></span><span>  </span><span class="hs-comment">-- | Disambiguate tuple sections and unboxed sums</span><span>
</span><span id="line-1794"></span><span>  </span><span id="mkSumOrTuplePV"><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePV"><span class="hs-identifier hs-type">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1795"></span><span>  </span><span class="hs-comment">-- | Validate infixexp LHS to reject unwanted {-# SCC ... #-} pragmas</span><span>
</span><span id="line-1796"></span><span>  </span><span id="rejectPragmaPV"><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-type">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977930"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1797"></span><span>
</span><span id="line-1798"></span><span>
</span><span id="line-1799"></span><span class="hs-comment">{- Note [UndecidableSuperClasses for associated types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(This Note is about the code in GHC, not about the user code that we are parsing)

Assume we have a class C with an associated type T:

  class C a where
    type T a
    ...

If we want to add 'C (T a)' as a superclass, we need -XUndecidableSuperClasses:

  {-# LANGUAGE UndecidableSuperClasses #-}
  class C (T a) =&gt; C a where
    type T a
    ...

Unfortunately, -XUndecidableSuperClasses don't work all that well, sometimes
making GHC loop. The workaround is to bring this constraint into scope
manually with a helper method:

  class C a where
    type T a
    superT :: (C (T a) =&gt; r) -&gt; r

In order to avoid ambiguous types, 'r' must mention 'a'.

For consistency, we use this approach for all constraints on associated types,
even when -XUndecidableSuperClasses are not required.
-}</span><span>
</span><span id="line-1829"></span><span>
</span><span id="line-1830"></span><span class="hs-comment">{- Note [Body in DisambECP]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are helper functions (mkBodyStmt, mkBindStmt, unguardedRHS, etc) that
require their argument to take a form of (body GhcPs) for some (body :: Type -&gt;
*). To satisfy this requirement, we say that (b ~ Body b GhcPs) in the
superclass constraints of DisambECP.

The alternative is to change mkBodyStmt, mkBindStmt, unguardedRHS, etc, to drop
this requirement. It is possible and would allow removing the type index of
PatBuilder, but leads to worse type inference, breaking some code in the
typechecker.
-}</span><span>
</span><span id="line-1842"></span><span>
</span><span id="line-1843"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1844"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span>
</span><span id="line-1845"></span><span>  </span><span id="local-6989586621680975792"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975792"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1846"></span><span>  </span><span id="local-6989586621680975790"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975790"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975789"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975789"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975788"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975788"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975789"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975788"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1847"></span><span>  </span><span id="local-6989586621680975785"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975785"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621680975784"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975784"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975783"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975783"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975784"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLam GhcPs -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id. XCmdLam id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdLam"><span class="hs-identifier hs-var">HsCmdLam</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdLam GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975783"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1848"></span><span>  </span><span id="local-6989586621680975781"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan -&gt; LHsLocalBinds GhcPs -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975781"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621680975780"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975780"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975779"><span class="annot"><span class="annottext">LHsLocalBinds GhcPs
</span><a href="#local-6989586621680975779"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621680975778"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975778"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975780"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLet GhcPs -&gt; LHsLocalBinds GhcPs -&gt; LHsCmd GhcPs -&gt; HsCmd GhcPs
forall id. XCmdLet id -&gt; LHsLocalBinds id -&gt; LHsCmd id -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdLet"><span class="hs-identifier hs-var">HsCmdLet</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdLet GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsLocalBinds GhcPs
</span><a href="#local-6989586621680975779"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975778"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1849"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1850"></span><span>  </span><span id="local-6989586621680975775"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs))
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975775"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621680975774"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975774"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LHsCmd GhcPs)
DisambInfixOp (InfixOp (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975774"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1851"></span><span>  </span><span id="local-6989586621680975768"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; LHsCmd GhcPs
-&gt; Located (InfixOp (HsCmd GhcPs))
-&gt; LHsCmd GhcPs
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975768"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621680975767"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975767"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975766"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975766"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621680975765"><span class="annot"><span class="annottext">Located (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621680975765"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975764"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975764"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1852"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975759"><span class="annot"><span class="annottext">cmdArg :: GenLocated SrcSpan (HsCmd p) -&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621680975759"><span class="hs-identifier hs-var hs-var">cmdArg</span></a></span></span><span> </span><span id="local-6989586621680975758"><span class="annot"><span class="annottext">GenLocated SrcSpan (HsCmd p)
</span><a href="#local-6989586621680975758"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmdTop p -&gt; GenLocated SrcSpan (HsCmdTop p)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpan (HsCmd p) -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan (HsCmd p)
</span><a href="#local-6989586621680975758"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsCmdTop p -&gt; GenLocated SrcSpan (HsCmdTop p))
-&gt; HsCmdTop p -&gt; GenLocated SrcSpan (HsCmdTop p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdTop p -&gt; GenLocated SrcSpan (HsCmd p) -&gt; HsCmdTop p
forall p. XCmdTop p -&gt; LHsCmd p -&gt; HsCmdTop p
</span><a href="GHC.Hs.Expr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdTop p
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan (HsCmd p)
</span><a href="#local-6989586621680975758"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1853"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975767"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(HsCmd GhcPs -&gt; LHsCmd GhcPs) -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdArrForm GhcPs
-&gt; LHsExpr GhcPs
-&gt; LexicalFixity
-&gt; Maybe Fixity
-&gt; [LHsCmdTop GhcPs]
-&gt; HsCmd GhcPs
forall id.
XCmdArrForm id
-&gt; LHsExpr id
-&gt; LexicalFixity
-&gt; Maybe Fixity
-&gt; [LHsCmdTop id]
-&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdArrForm GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621680975765"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="GHC.Types.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Fixity
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; LHsCmdTop GhcPs
forall {p}.
(XCmdTop p ~ NoExtField) =&gt;
GenLocated SrcSpan (HsCmd p) -&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621680975759"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975766"><span class="hs-identifier hs-var">c1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; LHsCmdTop GhcPs
forall {p}.
(XCmdTop p ~ NoExtField) =&gt;
GenLocated SrcSpan (HsCmd p) -&gt; GenLocated SrcSpan (HsCmdTop p)
</span><a href="#local-6989586621680975759"><span class="hs-identifier hs-var">cmdArg</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975764"><span class="hs-identifier hs-var">c2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1854"></span><span>  </span><span id="local-6989586621680975754"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; MatchGroup GhcPs (LHsCmd GhcPs)
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975754"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621680975753"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975753"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975752"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975752"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680975751"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975751"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975753"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdCase GhcPs
-&gt; LHsExpr GhcPs -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id.
XCmdCase id -&gt; LHsExpr id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdCase"><span class="hs-identifier hs-var">HsCmdCase</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdCase GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975752"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975751"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1855"></span><span>  </span><span id="local-6989586621680975749"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975749"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621680975748"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975748"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975747"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975747"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975748"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLamCase GhcPs -&gt; MatchGroup GhcPs (LHsCmd GhcPs) -&gt; HsCmd GhcPs
forall id. XCmdLamCase id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdLamCase"><span class="hs-identifier hs-var">HsCmdLamCase</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdLamCase GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsCmd GhcPs)
</span><a href="#local-6989586621680975747"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1856"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1857"></span><span>  </span><span id="local-6989586621680975742"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs))
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975742"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621680975741"><span class="annot"><span class="annottext">DisambECP (FunArg (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975741"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LHsCmd GhcPs)
DisambECP (FunArg (HsCmd GhcPs)) =&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975741"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1858"></span><span>  </span><span id="local-6989586621680975737"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpan
-&gt; LHsCmd GhcPs
-&gt; Located (FunArg (HsCmd GhcPs))
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975737"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621680975736"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975736"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975735"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975735"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680975734"><span class="annot"><span class="annottext">Located (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621680975734"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1859"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkCmdBlockArguments"><span class="hs-identifier hs-var">checkCmdBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975735"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1860"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621680975734"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1861"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975736"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdApp GhcPs -&gt; LHsCmd GhcPs -&gt; LHsExpr GhcPs -&gt; HsCmd GhcPs
forall id. XCmdApp id -&gt; LHsCmd id -&gt; LHsExpr id -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdApp GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975735"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (FunArg (HsCmd GhcPs))
</span><a href="#local-6989586621680975734"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1862"></span><span>  </span><span id="local-6989586621680975728"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; LHsType GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975728"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621680975727"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975727"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975726"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975726"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680975725"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975725"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975727"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975726"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975725"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1863"></span><span>  </span><span id="local-6989586621680975717"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; LHsCmd GhcPs
-&gt; Bool
-&gt; LHsCmd GhcPs
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975717"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621680975716"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975716"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975715"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975715"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680975714"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975714"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621680975713"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975713"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975712"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975712"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621680975711"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975711"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1864"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; Bool -&gt; LHsCmd GhcPs -&gt; Bool -&gt; LHsCmd GhcPs -&gt; PV ()
forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
Located a -&gt; Bool -&gt; b -&gt; Bool -&gt; Located c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975715"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975714"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975713"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975712"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975711"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1865"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975716"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; LHsCmd GhcPs -&gt; LHsCmd GhcPs -&gt; HsCmd GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsCmdIf"><span class="hs-identifier hs-var">mkHsCmdIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975715"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975713"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975711"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1866"></span><span>  </span><span id="local-6989586621680975706"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; Located [LStmt GhcPs (LHsCmd GhcPs)]
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975706"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621680975705"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975705"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621680975704"><span class="annot"><span class="annottext">Located [LStmt GhcPs (LHsCmd GhcPs)]
</span><a href="#local-6989586621680975704"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975705"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdDo GhcPs -&gt; Located [LStmt GhcPs (LHsCmd GhcPs)] -&gt; HsCmd GhcPs
forall id. XCmdDo id -&gt; Located [CmdLStmt id] -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdDo"><span class="hs-identifier hs-var">HsCmdDo</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdDo GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located [LStmt GhcPs (LHsCmd GhcPs)]
</span><a href="#local-6989586621680975704"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1867"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkHsDoPV"><span class="hs-identifier hs-var">mkHsDoPV</span></a></span><span> </span><span id="local-6989586621680975703"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975703"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975702"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680975702"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="annottext">Located [LStmt GhcPs (LHsCmd GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1868"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975703"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1869"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found a qualified&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621680975702"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.do block in a command, but&quot;</span></span><span>
</span><span id="line-1870"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;qualified 'do' is not supported in commands.&quot;</span></span><span>
</span><span id="line-1871"></span><span>  </span><span id="local-6989586621680975700"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975700"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621680975699"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975699"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975698"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975698"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs))
-&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsCmd GhcPs -&gt; LHsCmd GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975699"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdPar GhcPs -&gt; LHsCmd GhcPs -&gt; HsCmd GhcPs
forall id. XCmdPar id -&gt; LHsCmd id -&gt; HsCmd id
</span><a href="GHC.Hs.Expr.html#HsCmdPar"><span class="hs-identifier hs-var">HsCmdPar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCmdPar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975698"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1872"></span><span>  </span><span id="local-6989586621680975695"><span class="annot"><span class="annottext">mkHsVarPV :: Located RdrName -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975695"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975694"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975694"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975693"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975693"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975694"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680975693"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1873"></span><span>  </span><span id="local-6989586621680975691"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975691"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975690"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975690"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975689"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975689"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975690"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975689"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1874"></span><span>  </span><span id="local-6989586621680975685"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975685"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975684"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975684"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975683"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975683"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975684"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975683"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1875"></span><span>  </span><span id="local-6989586621680975682"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975682"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621680975681"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975681"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975681"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1876"></span><span>  </span><span id="local-6989586621680975676"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; LHsType GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975676"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621680975675"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975675"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975674"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975674"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975673"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975673"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975675"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975674"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975673"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1877"></span><span>  </span><span id="local-6989586621680975669"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan -&gt; [LHsCmd GhcPs] -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975669"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621680975668"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975668"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975667"><span class="annot"><span class="annottext">[LHsCmd GhcPs]
</span><a href="#local-6989586621680975667"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975668"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1878"></span><span>    </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LHsCmd GhcPs -&gt; SDoc) -&gt; [LHsCmd GhcPs] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsCmd GhcPs]
</span><a href="#local-6989586621680975667"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1879"></span><span>  </span><span id="local-6989586621680975659"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975659"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975658"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975658"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975657"><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680975657"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975658"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsSplice GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680975657"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1880"></span><span>  </span><span id="local-6989586621680975651"><span class="annot"><span class="annottext">mkHsRecordPV :: SrcSpan
-&gt; SrcSpan
-&gt; LHsCmd GhcPs
-&gt; ([LHsRecField GhcPs (LHsCmd GhcPs)], Maybe SrcSpan)
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975651"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span id="local-6989586621680975650"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975650"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975649"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975649"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975648"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsCmd GhcPs)]
</span><a href="#local-6989586621680975648"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975647"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975647"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975650"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1881"></span><span>    </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975649"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (LHsCmd GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsCmd GhcPs)]
-&gt; Maybe SrcSpan -&gt; HsRecFields GhcPs (LHsCmd GhcPs)
forall id arg.
[LHsRecField id arg] -&gt; Maybe SrcSpan -&gt; HsRecFields id arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsCmd GhcPs)]
</span><a href="#local-6989586621680975648"><span class="hs-identifier hs-var">fbinds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975647"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1882"></span><span>  </span><span id="local-6989586621680975642"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975642"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621680975641"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975641"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975640"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975640"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975641"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975640"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1883"></span><span>  </span><span id="local-6989586621680975635"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; Located (InfixOp (HsCmd GhcPs))
-&gt; LHsCmd GhcPs
-&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975635"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621680975634"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975634"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975633"><span class="annot"><span class="annottext">Located (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621680975633"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975632"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975632"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975634"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1884"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975631"><span class="annot"><span class="annottext">pp_op :: SDoc
</span><a href="#local-6989586621680975631"><span class="hs-identifier hs-var hs-var">pp_op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Maybe SDoc -&gt; SDoc
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base/src/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot print infix operator&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1885"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; Maybe SDoc
forall (p :: Pass).
OutputableBndrId p =&gt;
HsExpr (GhcPass p) -&gt; Maybe SDoc
</span><a href="GHC.Hs.Expr.html#ppr_infix_expr"><span class="hs-identifier hs-var">ppr_infix_expr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; HsExpr GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (InfixOp (HsCmd GhcPs))
</span><a href="#local-6989586621680975633"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1886"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975631"><span class="hs-identifier hs-var">pp_op</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975632"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1887"></span><span>  </span><span id="local-6989586621680975625"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975625"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621680975624"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975624"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975623"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975623"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975622"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975622"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975624"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1888"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975623"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975622"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1889"></span><span>  </span><span id="local-6989586621680975617"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan -&gt; Located RdrName -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975617"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621680975616"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975616"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975615"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975615"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680975614"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975614"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975616"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1890"></span><span>    </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975615"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975614"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1891"></span><span>  </span><span id="local-6989586621680975609"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975609"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621680975608"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975608"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975607"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975607"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975608"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1892"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975607"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1893"></span><span>  </span><span id="local-6989586621680975603"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan -&gt; LHsCmd GhcPs -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975603"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621680975602"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975602"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975601"><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975601"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975602"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsCmd GhcPs)) -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1894"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><a href="#local-6989586621680975601"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1895"></span><span>  </span><span id="local-6989586621680975598"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpan -&gt; Boxity -&gt; SumOrTuple (HsCmd GhcPs) -&gt; PV (LHsCmd GhcPs)
</span><a href="#local-6989586621680975598"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span id="local-6989586621680975597"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975597"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975596"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680975596"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span id="local-6989586621680975595"><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621680975595"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsCmd GhcPs)
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var">cmdFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975597"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; SumOrTuple (HsCmd GhcPs) -&gt; SDoc
forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pprSumOrTuple"><span class="hs-identifier hs-var">pprSumOrTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680975596"><span class="hs-identifier hs-var">boxity</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsCmd GhcPs)
</span><a href="#local-6989586621680975595"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1896"></span><span>  </span><span id="local-6989586621680975592"><span class="annot"><span class="annottext">rejectPragmaPV :: LHsCmd GhcPs -&gt; PV ()
</span><a href="#local-6989586621680975592"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1897"></span><span>
</span><span id="line-1898"></span><span id="local-6989586621680975591"><span class="annot"><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-type">cmdFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680975591"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1899"></span><span id="cmdFail"><span class="annot"><span class="annottext">cmdFail :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#cmdFail"><span class="hs-identifier hs-var hs-var">cmdFail</span></a></span></span><span> </span><span id="local-6989586621680975588"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975588"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680975587"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975587"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975588"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV a) -&gt; SDoc -&gt; PV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1900"></span><span>  </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parse error in command:&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975587"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1901"></span><span>
</span><span id="line-1902"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1903"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span>
</span><span id="line-1904"></span><span>  </span><span id="local-6989586621680975548"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975548"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975547"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975547"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975546"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621680975546"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1905"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975547"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV ()) -&gt; SDoc -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span>
</span><span id="line-1906"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Arrow command found where an expression was expected:&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-1907"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621680975546"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1908"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975547"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
forall (id :: Pass). HsExpr (GhcPass id)
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1909"></span><span>  </span><span id="local-6989586621680975544"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975544"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1910"></span><span>  </span><span id="local-6989586621680975542"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975542"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621680975541"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975541"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975540"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975540"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975541"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLam GhcPs -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; HsExpr GhcPs
forall p. XLam p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsLam"><span class="hs-identifier hs-var">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLam GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975540"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1911"></span><span>  </span><span id="local-6989586621680975538"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; LHsLocalBinds GhcPs -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975538"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621680975537"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975537"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975536"><span class="annot"><span class="annottext">LHsLocalBinds GhcPs
</span><a href="#local-6989586621680975536"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621680975535"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975535"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975537"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLet GhcPs -&gt; LHsLocalBinds GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XLet p -&gt; LHsLocalBinds p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsLet"><span class="hs-identifier hs-var">HsLet</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLet GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsLocalBinds GhcPs
</span><a href="#local-6989586621680975536"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975535"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1912"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1913"></span><span>  </span><span id="local-6989586621680975532"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs))
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975532"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621680975531"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975531"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LHsExpr GhcPs)
DisambInfixOp (InfixOp (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975531"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1914"></span><span>  </span><span id="local-6989586621680975529"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Located (InfixOp (HsExpr GhcPs))
-&gt; LHsExpr GhcPs
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975529"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621680975528"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975528"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975527"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975527"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621680975526"><span class="annot"><span class="annottext">Located (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621680975526"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975525"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975525"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1915"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975528"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcPs -&gt; LHsExpr GhcPs) -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p.
XOpApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XOpApp GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975527"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621680975526"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975525"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1916"></span><span>  </span><span id="local-6989586621680975522"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975522"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621680975521"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975521"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975520"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975520"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680975519"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975519"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975521"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCase GhcPs
-&gt; LHsExpr GhcPs
-&gt; MatchGroup GhcPs (LHsExpr GhcPs)
-&gt; HsExpr GhcPs
forall p.
XCase p -&gt; LHsExpr p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsCase"><span class="hs-identifier hs-var">HsCase</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XCase GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975520"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975519"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1917"></span><span>  </span><span id="local-6989586621680975517"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975517"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621680975516"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975516"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975515"><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975515"><span class="hs-identifier hs-var">mg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975516"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLamCase GhcPs -&gt; MatchGroup GhcPs (LHsExpr GhcPs) -&gt; HsExpr GhcPs
forall p. XLamCase p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsLamCase"><span class="hs-identifier hs-var">HsLamCase</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLamCase GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (LHsExpr GhcPs)
</span><a href="#local-6989586621680975515"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1918"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-1919"></span><span>  </span><span id="local-6989586621680975512"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs))
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975512"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621680975511"><span class="annot"><span class="annottext">DisambECP (FunArg (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975511"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (LHsExpr GhcPs)
DisambECP (FunArg (HsExpr GhcPs)) =&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975511"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1920"></span><span>  </span><span id="local-6989586621680975507"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Located (FunArg (HsExpr GhcPs))
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975507"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621680975506"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975506"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975505"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975505"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621680975504"><span class="annot"><span class="annottext">Located (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621680975504"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1921"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975505"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1922"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621680975504"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1923"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975506"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XApp GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XApp GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975505"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (FunArg (HsExpr GhcPs))
</span><a href="#local-6989586621680975504"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1924"></span><span>  </span><span id="local-6989586621680975501"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; LHsType GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975501"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621680975500"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975500"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975499"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975499"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680975498"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975498"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1925"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkExpBlockArguments"><span class="hs-identifier hs-var">checkExpBlockArguments</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975499"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1926"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975500"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAppTypeE GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsWcType (NoGhcTc GhcPs) -&gt; HsExpr GhcPs
forall p.
XAppTypeE p -&gt; LHsExpr p -&gt; LHsWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsAppType"><span class="hs-identifier hs-var">HsAppType</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XAppTypeE GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975499"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsWildCardBndrs GhcPs (LHsType GhcPs)
forall thing. thing -&gt; HsWildCardBndrs GhcPs thing
</span><a href="GHC.Hs.Type.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975498"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1927"></span><span>  </span><span id="local-6989586621680975490"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; LHsExpr GhcPs
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975490"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621680975489"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975489"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975488"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975488"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680975487"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975487"><span class="hs-identifier hs-var">semi1</span></a></span></span><span> </span><span id="local-6989586621680975486"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975486"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975485"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975485"><span class="hs-identifier hs-var">semi2</span></a></span></span><span> </span><span id="local-6989586621680975484"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975484"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1928"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; Bool -&gt; LHsExpr GhcPs -&gt; Bool -&gt; LHsExpr GhcPs -&gt; PV ()
forall a b c.
(Outputable a, Outputable b, Outputable c) =&gt;
Located a -&gt; Bool -&gt; b -&gt; Bool -&gt; Located c -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkDoAndIfThenElse"><span class="hs-identifier hs-var">checkDoAndIfThenElse</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975488"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975487"><span class="hs-identifier hs-var">semi1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975486"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975485"><span class="hs-identifier hs-var">semi2</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975484"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1929"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975489"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
</span><a href="GHC.Hs.Utils.html#mkHsIf"><span class="hs-identifier hs-var">mkHsIf</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975488"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975486"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975484"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1930"></span><span>  </span><span id="local-6989586621680975481"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; Located [ExprLStmt GhcPs]
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975481"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621680975480"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975480"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975479"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680975479"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621680975478"><span class="annot"><span class="annottext">Located [ExprLStmt GhcPs]
</span><a href="#local-6989586621680975478"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975480"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDo GhcPs
-&gt; HsStmtContext GhcRn -&gt; Located [ExprLStmt GhcPs] -&gt; HsExpr GhcPs
forall p.
XDo p -&gt; HsStmtContext GhcRn -&gt; Located [ExprLStmt p] -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsDo"><span class="hs-identifier hs-var">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XDo GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; HsStmtContext GhcRn
forall p. Maybe ModuleName -&gt; HsStmtContext p
</span><a href="GHC.Hs.Expr.html#DoExpr"><span class="hs-identifier hs-var">DoExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621680975479"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located [ExprLStmt GhcPs]
</span><a href="#local-6989586621680975478"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1931"></span><span>  </span><span id="local-6989586621680975476"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975476"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621680975475"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975475"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975474"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975474"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975475"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPar GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XPar p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsPar"><span class="hs-identifier hs-var">HsPar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XPar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975474"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1932"></span><span>  </span><span id="local-6989586621680975471"><span class="annot"><span class="annottext">mkHsVarPV :: Located RdrName -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975471"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621680975470"><span class="annot"><span class="annottext">v :: Located RdrName
</span><a href="#local-6989586621680975470"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621680975469"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975469"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975469"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcPs -&gt; Located (IdP GhcPs) -&gt; HsExpr GhcPs
forall p. XVar p -&gt; Located (IdP p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975470"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1933"></span><span>  </span><span id="local-6989586621680975467"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975467"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975466"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975466"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975465"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975465"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975466"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitE GhcPs -&gt; HsLit GhcPs -&gt; HsExpr GhcPs
forall p. XLitE p -&gt; HsLit p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsLit"><span class="hs-identifier hs-var">HsLit</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLitE GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975465"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1934"></span><span>  </span><span id="local-6989586621680975462"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975462"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975461"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975461"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975460"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975460"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975461"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XOverLitE GhcPs -&gt; HsOverLit GhcPs -&gt; HsExpr GhcPs
forall p. XOverLitE p -&gt; HsOverLit p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsOverLit"><span class="hs-identifier hs-var">HsOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XOverLitE GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975460"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1935"></span><span>  </span><span id="local-6989586621680975457"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975457"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621680975456"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975456"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975456"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
forall (id :: Pass). HsExpr (GhcPass id)
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span>
</span><span id="line-1936"></span><span>  </span><span id="local-6989586621680975454"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; LHsType GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975454"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621680975453"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975453"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975452"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975452"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975451"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975451"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975453"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExprWithTySig GhcPs
-&gt; LHsExpr GhcPs -&gt; LHsSigWcType (NoGhcTc GhcPs) -&gt; HsExpr GhcPs
forall p.
XExprWithTySig p
-&gt; LHsExpr p -&gt; LHsSigWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#ExprWithTySig"><span class="hs-identifier hs-var">ExprWithTySig</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XExprWithTySig GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975452"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; LHsSigWcType GhcPs
</span><a href="GHC.Hs.Utils.html#mkLHsSigWcType"><span class="hs-identifier hs-var">mkLHsSigWcType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975451"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1937"></span><span>  </span><span id="local-6989586621680975447"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan -&gt; [LHsExpr GhcPs] -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975447"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621680975446"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975446"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975445"><span class="annot"><span class="annottext">[LHsExpr GhcPs]
</span><a href="#local-6989586621680975445"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975446"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitList GhcPs
-&gt; Maybe (SyntaxExpr GhcPs) -&gt; [LHsExpr GhcPs] -&gt; HsExpr GhcPs
forall p.
XExplicitList p -&gt; Maybe (SyntaxExpr p) -&gt; [LHsExpr p] -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XExplicitList GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcPs)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcPs]
</span><a href="#local-6989586621680975445"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1938"></span><span>  </span><span id="local-6989586621680975442"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975442"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span id="local-6989586621680975441"><span class="annot"><span class="annottext">Located (HsSplice GhcPs)
</span><a href="#local-6989586621680975441"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(HsSplice GhcPs -&gt; HsExpr GhcPs)
-&gt; Located (HsSplice GhcPs) -&gt; LHsExpr GhcPs
forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSpliceE GhcPs -&gt; HsSplice GhcPs -&gt; HsExpr GhcPs
forall p. XSpliceE p -&gt; HsSplice p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsSpliceE"><span class="hs-identifier hs-var">HsSpliceE</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSpliceE GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located (HsSplice GhcPs)
</span><a href="#local-6989586621680975441"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-1939"></span><span>  </span><span id="local-6989586621680975436"><span class="annot"><span class="annottext">mkHsRecordPV :: SrcSpan
-&gt; SrcSpan
-&gt; LHsExpr GhcPs
-&gt; ([LHsRecField GhcPs (LHsExpr GhcPs)], Maybe SrcSpan)
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975436"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span id="local-6989586621680975435"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975435"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975434"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975434"><span class="hs-identifier hs-var">lrec</span></a></span></span><span> </span><span id="local-6989586621680975433"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975433"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975432"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975432"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975431"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975431"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1940"></span><span>    </span><span id="local-6989586621680975430"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975430"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([LHsRecField GhcPs (LHsExpr GhcPs)], Maybe SrcSpan)
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975433"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975434"><span class="hs-identifier hs-var">lrec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975432"><span class="hs-identifier hs-var">fbinds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975431"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1941"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
Located a -&gt; m (Located a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975435"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975430"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1942"></span><span>  </span><span id="local-6989586621680975427"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975427"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621680975426"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975426"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975425"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975425"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975426"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNegApp GhcPs -&gt; LHsExpr GhcPs -&gt; SyntaxExpr GhcPs -&gt; HsExpr GhcPs
forall p. XNegApp p -&gt; LHsExpr p -&gt; SyntaxExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#NegApp"><span class="hs-identifier hs-var">NegApp</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XNegApp GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975425"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcPs
forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1943"></span><span>  </span><span id="local-6989586621680975421"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; Located (InfixOp (HsExpr GhcPs))
-&gt; LHsExpr GhcPs
-&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975421"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621680975420"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975420"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975419"><span class="annot"><span class="annottext">Located (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621680975419"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975418"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975418"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975420"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSectionR GhcPs -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XSectionR p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#SectionR"><span class="hs-identifier hs-var">SectionR</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSectionR GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
Located (InfixOp (HsExpr GhcPs))
</span><a href="#local-6989586621680975419"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975418"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1944"></span><span>  </span><span id="local-6989586621680975414"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975414"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621680975413"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975413"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975412"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975412"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975411"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975411"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SrcSpan -&gt; SDoc -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-var">patSynErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;View pattern&quot;</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975413"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975412"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975411"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-1945"></span><span>  </span><span id="local-6989586621680975407"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan -&gt; Located RdrName -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975407"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621680975406"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975406"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975405"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975405"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680975404"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975404"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1946"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SrcSpan -&gt; SDoc -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-var">patSynErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@-pattern&quot;</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975406"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975405"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975404"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsExpr GhcPs)) -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1947"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type application syntax requires a space before '@'&quot;</span></span><span>
</span><span id="line-1948"></span><span>  </span><span id="local-6989586621680975402"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975402"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621680975401"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975401"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975400"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975400"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SrcSpan -&gt; SDoc -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-var">patSynErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Lazy pattern&quot;</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975401"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975400"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsExpr GhcPs)) -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1949"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Did you mean to add a space after the '~'?&quot;</span></span><span>
</span><span id="line-1950"></span><span>  </span><span id="local-6989586621680975398"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan -&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975398"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621680975397"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975397"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975396"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975396"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SrcSpan -&gt; SDoc -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-var">patSynErr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Bang pattern&quot;</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975397"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975396"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (LHsExpr GhcPs)) -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1951"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Did you mean to add a space after the '!'?&quot;</span></span><span>
</span><span id="line-1952"></span><span>  </span><span id="local-6989586621680975395"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpan
-&gt; Boxity -&gt; SumOrTuple (HsExpr GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="#local-6989586621680975395"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Boxity -&gt; SumOrTuple (HsExpr GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span>
</span><span id="line-1953"></span><span>  </span><span id="local-6989586621680975388"><span class="annot"><span class="annottext">rejectPragmaPV :: LHsExpr GhcPs -&gt; PV ()
</span><a href="#local-6989586621680975388"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975387"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975387"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1954"></span><span>    </span><span class="hs-comment">-- assuming left-associative parsing of operators</span><span>
</span><span id="line-1955"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV ()
forall b. DisambECP b =&gt; Located b -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975387"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1956"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975386"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975386"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsPragE"><span class="hs-identifier hs-type">HsPragE</span></a></span><span> </span><span class="annot"><span class="annottext">XPragE GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975384"><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621680975384"><span class="hs-identifier hs-var">prag</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1957"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975386"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV ()) -&gt; SDoc -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1958"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A pragma is not allowed in this position:&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsPragE GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsPragE GhcPs
</span><a href="#local-6989586621680975384"><span class="hs-identifier hs-var">prag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1959"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#rejectPragmaPV"><span class="hs-identifier hs-var">rejectPragmaPV</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1960"></span><span>
</span><span id="line-1961"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-type">patSynErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1962"></span><span id="patSynErr"><span class="annot"><span class="annottext">patSynErr :: String -&gt; SrcSpan -&gt; SDoc -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#patSynErr"><span class="hs-identifier hs-var hs-var">patSynErr</span></a></span></span><span> </span><span id="local-6989586621680975383"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975383"><span class="hs-identifier hs-var">item</span></a></span></span><span> </span><span id="local-6989586621680975382"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975382"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975381"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975381"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680975380"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975380"><span class="hs-identifier hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1963"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975382"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV ()) -&gt; SDoc -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1964"></span><span>        </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975383"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in expression context:&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-1965"></span><span>             </span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#nest"><span class="hs-identifier hs-var">nest</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975381"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1966"></span><span>        </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680975380"><span class="hs-identifier hs-var">explanation</span></a></span><span>
</span><span id="line-1967"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975382"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
forall (id :: Pass). HsExpr (GhcPass id)
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var">hsHoleExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1968"></span><span>
</span><span id="line-1969"></span><span id="local-6989586621680977866"><span class="annot"><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-type">hsHoleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977866"><span class="hs-identifier hs-type">id</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1970"></span><span id="hsHoleExpr"><span class="annot"><span class="annottext">hsHoleExpr :: forall (id :: Pass). HsExpr (GhcPass id)
</span><a href="GHC.Parser.PostProcess.html#hsHoleExpr"><span class="hs-identifier hs-var hs-var">hsHoleExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XUnboundVar (GhcPass id) -&gt; OccName -&gt; HsExpr (GhcPass id)
forall p. XUnboundVar p -&gt; OccName -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#HsUnboundVar"><span class="hs-identifier hs-var">HsUnboundVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XUnboundVar (GhcPass id)
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOcc"><span class="hs-identifier hs-var">mkVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1971"></span><span>
</span><span id="line-1972"></span><span class="hs-comment">-- | See Note [Ambiguous syntactic categories] and Note [PatBuilder]</span><span>
</span><span id="line-1973"></span><span class="hs-keyword">data</span><span> </span><span id="PatBuilder"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-var">PatBuilder</span></a></span></span><span> </span><span id="local-6989586621680977901"><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span></span><span>
</span><span id="line-1974"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PatBuilderPat"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1975"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatBuilderPar"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPar"><span class="hs-identifier hs-var">PatBuilderPar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1976"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatBuilderApp"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderApp"><span class="hs-identifier hs-var">PatBuilderApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1977"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatBuilderOpApp"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977901"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1978"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatBuilderVar"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-var">PatBuilderVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1979"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PatBuilderOverLit"><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-var">PatBuilderOverLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1980"></span><span>
</span><span id="line-1981"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680975374"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1982"></span><span>  </span><span id="local-6989586621680975363"><span class="annot"><span class="annottext">ppr :: PatBuilder GhcPs -&gt; SDoc
</span><a href="#local-6989586621680975363"><span class="hs-identifier hs-var hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-type">PatBuilderPat</span></a></span><span> </span><span id="local-6989586621680975362"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680975362"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680975362"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-1983"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderPar"><span class="hs-identifier hs-type">PatBuilderPar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975361"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975361"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975361"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1984"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderApp"><span class="hs-identifier hs-type">PatBuilderApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975359"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975359"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975358"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975358"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975359"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975358"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-1985"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-type">PatBuilderOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975357"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975357"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680975356"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975356"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975355"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975355"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975357"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975356"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975355"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-1986"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621680975354"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975354"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975354"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1987"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621680975353"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975353"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975353"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1988"></span><span>
</span><span id="line-1989"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#DisambECP"><span class="hs-identifier hs-type">DisambECP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1990"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Body"><span class="annot"><a href="GHC.Parser.PostProcess.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span>
</span><span id="line-1991"></span><span>  </span><span id="local-6989586621680975316"><span class="annot"><span class="annottext">ecpFromCmd' :: LHsCmd GhcPs -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975316"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromCmd'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975315"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975315"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975314"><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621680975314"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1992"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975315"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1993"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Command syntax in pattern:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcPs
</span><a href="#local-6989586621680975314"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1994"></span><span>  </span><span id="local-6989586621680975311"><span class="annot"><span class="annottext">ecpFromExp' :: LHsExpr GhcPs -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975311"><span class="hs-identifier hs-var hs-var hs-var hs-var">ecpFromExp'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975310"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975310"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975309"><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975309"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1995"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975310"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1996"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expression syntax in pattern:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs
</span><a href="#local-6989586621680975309"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1997"></span><span>  </span><span id="local-6989586621680975307"><span class="annot"><span class="annottext">mkHsLamPV :: SrcSpan
-&gt; MatchGroup GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975307"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamPV</span></a></span></span><span> </span><span id="local-6989586621680975306"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975306"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (Located (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975306"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1998"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Lambda-syntax in pattern.&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-1999"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Pattern matching on functions is not possible.&quot;</span></span><span>
</span><span id="line-2000"></span><span>  </span><span id="local-6989586621680975304"><span class="annot"><span class="annottext">mkHsLetPV :: SrcSpan
-&gt; LHsLocalBinds GhcPs
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975304"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLetPV</span></a></span></span><span> </span><span id="local-6989586621680975303"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975303"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsLocalBinds GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975303"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(let ... in ...)-syntax in pattern&quot;</span></span><span>
</span><span id="line-2001"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="InfixOp"><span class="annot"><a href="GHC.Parser.PostProcess.html#InfixOp"><span class="hs-identifier hs-var">InfixOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>
</span><span id="line-2002"></span><span>  </span><span id="local-6989586621680975300"><span class="annot"><span class="annottext">superInfixOp :: (DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
 PV (Located (PatBuilder GhcPs)))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975300"><span class="hs-identifier hs-var hs-var hs-var hs-var">superInfixOp</span></a></span></span><span> </span><span id="local-6989586621680975299"><span class="annot"><span class="annottext">DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975299"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
DisambInfixOp (InfixOp (PatBuilder GhcPs)) =&gt;
PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975299"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-2003"></span><span>  </span><span id="local-6989586621680975297"><span class="annot"><span class="annottext">mkHsOpAppPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; Located (InfixOp (PatBuilder GhcPs))
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975297"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOpAppPV</span></a></span></span><span> </span><span id="local-6989586621680975296"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975296"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975295"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975295"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680975294"><span class="annot"><span class="annottext">Located (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621680975294"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975293"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975293"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975296"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs))
-&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
-&gt; Located RdrName
-&gt; Located (PatBuilder GhcPs)
-&gt; PatBuilder GhcPs
forall p.
Located (PatBuilder p)
-&gt; Located RdrName -&gt; Located (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderOpApp"><span class="hs-identifier hs-var">PatBuilderOpApp</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975295"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621680975294"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975293"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-2004"></span><span>  </span><span id="local-6989586621680975291"><span class="annot"><span class="annottext">mkHsCasePV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; MatchGroup GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975291"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsCasePV</span></a></span></span><span> </span><span id="local-6989586621680975290"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975290"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (Located (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975290"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(case ... of ...)-syntax in pattern&quot;</span></span><span>
</span><span id="line-2005"></span><span>  </span><span id="local-6989586621680975288"><span class="annot"><span class="annottext">mkHsLamCasePV :: SrcSpan
-&gt; MatchGroup GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975288"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLamCasePV</span></a></span></span><span> </span><span id="local-6989586621680975287"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975287"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcPs (Located (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975287"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(\\case ...)-syntax in pattern&quot;</span></span><span>
</span><span id="line-2006"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="FunArg"><span class="annot"><a href="GHC.Parser.PostProcess.html#FunArg"><span class="hs-identifier hs-var">FunArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2007"></span><span>  </span><span id="local-6989586621680975284"><span class="annot"><span class="annottext">superFunArg :: (DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
 PV (Located (PatBuilder GhcPs)))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975284"><span class="hs-identifier hs-var hs-var hs-var hs-var">superFunArg</span></a></span></span><span> </span><span id="local-6989586621680975283"><span class="annot"><span class="annottext">DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975283"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (Located (PatBuilder GhcPs))
DisambECP (FunArg (PatBuilder GhcPs)) =&gt;
PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975283"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-2008"></span><span>  </span><span id="local-6989586621680975281"><span class="annot"><span class="annottext">mkHsAppPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; Located (FunArg (PatBuilder GhcPs))
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975281"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppPV</span></a></span></span><span> </span><span id="local-6989586621680975280"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975280"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975279"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975279"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621680975278"><span class="annot"><span class="annottext">Located (FunArg (PatBuilder GhcPs))
</span><a href="#local-6989586621680975278"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975280"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
-&gt; Located (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall p.
Located (PatBuilder p) -&gt; Located (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderApp"><span class="hs-identifier hs-var">PatBuilderApp</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975279"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">Located (FunArg (PatBuilder GhcPs))
Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975278"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2009"></span><span>  </span><span id="local-6989586621680975276"><span class="annot"><span class="annottext">mkHsAppTypePV :: SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975276"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAppTypePV</span></a></span></span><span> </span><span id="local-6989586621680975275"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975275"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975275"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2010"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type applications in patterns are not yet supported&quot;</span></span><span>
</span><span id="line-2011"></span><span>  </span><span id="local-6989586621680975273"><span class="annot"><span class="annottext">mkHsIfPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Bool
-&gt; Located (PatBuilder GhcPs)
-&gt; Bool
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975273"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsIfPV</span></a></span></span><span> </span><span id="local-6989586621680975272"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975272"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975272"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(if ... then ... else ...)-syntax in pattern&quot;</span></span><span>
</span><span id="line-2012"></span><span>  </span><span id="local-6989586621680975270"><span class="annot"><span class="annottext">mkHsDoPV :: SrcSpan
-&gt; Maybe ModuleName
-&gt; Located [LStmt GhcPs (Located (PatBuilder GhcPs))]
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975270"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsDoPV</span></a></span></span><span> </span><span id="local-6989586621680975269"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975269"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Located [LStmt GhcPs (Located (PatBuilder GhcPs))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975269"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;do-notation in pattern&quot;</span></span><span>
</span><span id="line-2013"></span><span>  </span><span id="local-6989586621680975267"><span class="annot"><span class="annottext">mkHsParPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975267"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsParPV</span></a></span></span><span> </span><span id="local-6989586621680975266"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975266"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975265"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975265"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975266"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall p. Located (PatBuilder p) -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPar"><span class="hs-identifier hs-var">PatBuilderPar</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975265"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2014"></span><span>  </span><span id="local-6989586621680975263"><span class="annot"><span class="annottext">mkHsVarPV :: Located RdrName -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975263"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsVarPV</span></a></span></span><span> </span><span id="local-6989586621680975262"><span class="annot"><span class="annottext">v :: Located RdrName
</span><a href="#local-6989586621680975262"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621680975261"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975261"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975261"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; PatBuilder GhcPs
forall p. Located RdrName -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-var">PatBuilderVar</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975262"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2015"></span><span>  </span><span id="local-6989586621680975258"><span class="annot"><span class="annottext">mkHsLitPV :: Located (HsLit GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975258"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLitPV</span></a></span></span><span> </span><span id="local-6989586621680975257"><span class="annot"><span class="annottext">lit :: Located (HsLit GhcPs)
</span><a href="#local-6989586621680975257"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975256"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975256"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975255"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975255"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2016"></span><span>    </span><span class="annot"><span class="annottext">Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-var">checkUnboxedStringLitPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (HsLit GhcPs)
</span><a href="#local-6989586621680975257"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-2017"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975256"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLitPat GhcPs -&gt; HsLit GhcPs -&gt; Pat GhcPs
forall p. XLitPat p -&gt; HsLit p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#LitPat"><span class="hs-identifier hs-var">LitPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLitPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975255"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2018"></span><span>  </span><span id="local-6989586621680975251"><span class="annot"><span class="annottext">mkHsOverLitPV :: Located (HsOverLit GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975251"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsOverLitPV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975250"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975250"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975249"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975249"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975250"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsOverLit GhcPs -&gt; PatBuilder GhcPs
forall p. HsOverLit GhcPs -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-var">PatBuilderOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975249"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2019"></span><span>  </span><span id="local-6989586621680975247"><span class="annot"><span class="annottext">mkHsWildCardPV :: SrcSpan -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975247"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsWildCardPV</span></a></span></span><span> </span><span id="local-6989586621680975246"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975246"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975246"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XWildPat GhcPs -&gt; Pat GhcPs
forall p. XWildPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#WildPat"><span class="hs-identifier hs-var">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XWildPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2020"></span><span>  </span><span id="local-6989586621680975243"><span class="annot"><span class="annottext">mkHsTySigPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; LHsType GhcPs
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975243"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsTySigPV</span></a></span></span><span> </span><span id="local-6989586621680975242"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975242"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975241"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975241"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680975240"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975240"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2021"></span><span>    </span><span id="local-6989586621680975239"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680975239"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975241"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2022"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975242"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSigPat GhcPs
-&gt; LPat GhcPs -&gt; HsPatSigType (NoGhcTc GhcPs) -&gt; Pat GhcPs
forall p. XSigPat p -&gt; LPat p -&gt; HsPatSigType (NoGhcTc p) -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#SigPat"><span class="hs-identifier hs-var">SigPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSigPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680975239"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; HsPatSigType GhcPs
</span><a href="GHC.Hs.Type.html#mkHsPatSigType"><span class="hs-identifier hs-var">mkHsPatSigType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680975240"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2023"></span><span>  </span><span id="local-6989586621680975233"><span class="annot"><span class="annottext">mkHsExplicitListPV :: SrcSpan
-&gt; [Located (PatBuilder GhcPs)] -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975233"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsExplicitListPV</span></a></span></span><span> </span><span id="local-6989586621680975232"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975232"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975231"><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680975231"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2024"></span><span>    </span><span id="local-6989586621680975230"><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
</span><a href="#local-6989586621680975230"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs)))
-&gt; [Located (PatBuilder GhcPs)] -&gt; PV [Located (Pat GhcPs)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (Pat GhcPs))
Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (PatBuilder GhcPs)]
</span><a href="#local-6989586621680975231"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2025"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975232"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XListPat GhcPs -&gt; [LPat GhcPs] -&gt; Pat GhcPs
forall p. XListPat p -&gt; [LPat p] -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ListPat"><span class="hs-identifier hs-var">ListPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XListPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680975230"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2026"></span><span>  </span><span id="local-6989586621680975226"><span class="annot"><span class="annottext">mkHsSplicePV :: Located (HsSplice GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975226"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSplicePV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975225"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975225"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975224"><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680975224"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975225"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSplicePat GhcPs -&gt; HsSplice GhcPs -&gt; Pat GhcPs
forall p. XSplicePat p -&gt; HsSplice p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#SplicePat"><span class="hs-identifier hs-var">SplicePat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSplicePat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">HsSplice GhcPs
</span><a href="#local-6989586621680975224"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2027"></span><span>  </span><span id="local-6989586621680975219"><span class="annot"><span class="annottext">mkHsRecordPV :: SrcSpan
-&gt; SrcSpan
-&gt; Located (PatBuilder GhcPs)
-&gt; ([LHsRecField GhcPs (Located (PatBuilder GhcPs))],
    Maybe SrcSpan)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975219"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsRecordPV</span></a></span></span><span> </span><span id="local-6989586621680975218"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975218"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975217"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975217"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975216"><span class="annot"><span class="annottext">[LHsRecField GhcPs (Located (PatBuilder GhcPs))]
</span><a href="#local-6989586621680975216"><span class="hs-identifier hs-var">fbinds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975215"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975215"><span class="hs-identifier hs-var">ddLoc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2028"></span><span>    </span><span id="local-6989586621680975214"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975214"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975217"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField GhcPs (Located (PatBuilder GhcPs))]
-&gt; Maybe SrcSpan -&gt; HsRecFields GhcPs (Located (PatBuilder GhcPs))
forall id arg.
[LHsRecField id arg] -&gt; Maybe SrcSpan -&gt; HsRecFields id arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (Located (PatBuilder GhcPs))]
</span><a href="#local-6989586621680975216"><span class="hs-identifier hs-var">fbinds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975215"><span class="hs-identifier hs-var">ddLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2029"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a.
(MonadP m, Outputable a) =&gt;
Located a -&gt; m (Located a)
</span><a href="GHC.Parser.PostProcess.html#checkRecordSyntax"><span class="hs-identifier hs-var">checkRecordSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975218"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975214"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2030"></span><span>  </span><span id="local-6989586621680975207"><span class="annot"><span class="annottext">mkHsNegAppPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975207"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsNegAppPV</span></a></span></span><span> </span><span id="local-6989586621680975206"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975206"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975205"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975205"><span class="hs-identifier hs-var">lp</span></a></span></span><span> </span><span id="local-6989586621680975204"><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975204"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2031"></span><span>    </span><span id="local-6989586621680975203"><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
</span><a href="#local-6989586621680975203"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975204"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2032"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderOverLit"><span class="hs-identifier hs-type">PatBuilderOverLit</span></a></span><span> </span><span id="local-6989586621680975202"><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975202"><span class="hs-identifier hs-var">pos_lit</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs) -&gt; PV (Located (HsOverLit GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; HsOverLit GhcPs -&gt; Located (HsOverLit GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975205"><span class="hs-identifier hs-var">lp</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcPs
</span><a href="#local-6989586621680975202"><span class="hs-identifier hs-var">pos_lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2033"></span><span>      </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (HsOverLit GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975206"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PatBuilder GhcPs
</span><a href="#local-6989586621680975204"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2034"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975206"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs) -&gt; Maybe (SyntaxExpr GhcPs) -&gt; Pat GhcPs
</span><a href="GHC.Hs.Utils.html#mkNPat"><span class="hs-identifier hs-var">mkNPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (HsOverLit GhcPs)
</span><a href="#local-6989586621680975203"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NoExtField -&gt; Maybe NoExtField
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
forall (p :: Pass). IsPass p =&gt; SyntaxExpr (GhcPass p)
</span><a href="GHC.Hs.Expr.html#noSyntaxExpr"><span class="hs-identifier hs-var">noSyntaxExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2035"></span><span>  </span><span id="local-6989586621680975199"><span class="annot"><span class="annottext">mkHsSectionR_PV :: SrcSpan
-&gt; Located (InfixOp (PatBuilder GhcPs))
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975199"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsSectionR_PV</span></a></span></span><span> </span><span id="local-6989586621680975198"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975198"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975197"><span class="annot"><span class="annottext">Located (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621680975197"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680975196"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975196"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#patFail"><span class="hs-identifier hs-var">patFail</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975198"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. OutputableBndr a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (InfixOp (PatBuilder GhcPs))
</span><a href="#local-6989586621680975197"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975196"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2036"></span><span>  </span><span id="local-6989586621680975192"><span class="annot"><span class="annottext">mkHsViewPatPV :: SrcSpan
-&gt; LHsExpr GhcPs
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975192"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsViewPatPV</span></a></span></span><span> </span><span id="local-6989586621680975191"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975191"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975190"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975190"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680975189"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975189"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2037"></span><span>    </span><span id="local-6989586621680975188"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680975188"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975189"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2038"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975191"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XViewPat GhcPs -&gt; LHsExpr GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XViewPat p -&gt; LHsExpr p -&gt; LPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ViewPat"><span class="hs-identifier hs-var">ViewPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XViewPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975190"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680975188"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2039"></span><span>  </span><span id="local-6989586621680975184"><span class="annot"><span class="annottext">mkHsAsPatPV :: SrcSpan
-&gt; Located RdrName
-&gt; Located (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975184"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsAsPatPV</span></a></span></span><span> </span><span id="local-6989586621680975183"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975183"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975182"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975182"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680975181"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975181"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2040"></span><span>    </span><span id="local-6989586621680975180"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680975180"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975181"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2041"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975183"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XAsPat GhcPs -&gt; Located (IdP GhcPs) -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XAsPat p -&gt; Located (IdP p) -&gt; LPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#AsPat"><span class="hs-identifier hs-var">AsPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XAsPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975182"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680975180"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2042"></span><span>  </span><span id="local-6989586621680975176"><span class="annot"><span class="annottext">mkHsLazyPatPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975176"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsLazyPatPV</span></a></span></span><span> </span><span id="local-6989586621680975175"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975175"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975174"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975174"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2043"></span><span>    </span><span id="local-6989586621680975173"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680975173"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975174"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2044"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975175"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLazyPat GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XLazyPat p -&gt; LPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#LazyPat"><span class="hs-identifier hs-var">LazyPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XLazyPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680975173"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2045"></span><span>  </span><span id="local-6989586621680975168"><span class="annot"><span class="annottext">mkHsBangPatPV :: SrcSpan
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975168"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkHsBangPatPV</span></a></span></span><span> </span><span id="local-6989586621680975167"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975167"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680975166"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975166"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2046"></span><span>    </span><span id="local-6989586621680975165"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680975165"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975166"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-2047"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975164"><span class="annot"><span class="annottext">pb :: Pat GhcPs
</span><a href="#local-6989586621680975164"><span class="hs-identifier hs-var hs-var">pb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBangPat GhcPs -&gt; LPat GhcPs -&gt; Pat GhcPs
forall p. XBangPat p -&gt; LPat p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#BangPat"><span class="hs-identifier hs-var">BangPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XBangPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680975165"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2048"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var">hintBangPat</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975167"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680975164"><span class="hs-identifier hs-var">pb</span></a></span><span>
</span><span id="line-2049"></span><span>    </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975167"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680975164"><span class="hs-identifier hs-var">pb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2050"></span><span>  </span><span id="local-6989586621680975163"><span class="annot"><span class="annottext">mkSumOrTuplePV :: SrcSpan
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680975163"><span class="hs-identifier hs-var hs-var hs-var hs-var">mkSumOrTuplePV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span>
</span><span id="line-2051"></span><span>  </span><span id="local-6989586621680975160"><span class="annot"><span class="annottext">rejectPragmaPV :: Located (PatBuilder GhcPs) -&gt; PV ()
</span><a href="#local-6989586621680975160"><span class="hs-identifier hs-var hs-var hs-var hs-var">rejectPragmaPV</span></a></span></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2052"></span><span>
</span><span id="line-2053"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-type">checkUnboxedStringLitPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2054"></span><span id="checkUnboxedStringLitPat"><span class="annot"><span class="annottext">checkUnboxedStringLitPat :: Located (HsLit GhcPs) -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#checkUnboxedStringLitPat"><span class="hs-identifier hs-var hs-var">checkUnboxedStringLitPat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975159"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975159"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680975158"><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975158"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2055"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975158"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2056"></span><span>    </span><span class="annot"><a href="GHC.Hs.Lit.html#HsStringPrim"><span class="hs-identifier hs-type">HsStringPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-comment">-- Trac #13260</span><span>
</span><span id="line-2057"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975159"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal unboxed string literal in pattern:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><a href="#local-6989586621680975158"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2058"></span><span>    </span><span class="annot"><span class="annottext">HsLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2059"></span><span>
</span><span id="line-2060"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-type">mkPatRec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-2061"></span><span>  </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2062"></span><span>  </span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2063"></span><span>  </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2064"></span><span id="mkPatRec"><span class="annot"><span class="annottext">mkPatRec :: Located (PatBuilder GhcPs)
-&gt; HsRecFields GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (PatBuilder GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var hs-var">mkPatRec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PatBuilder GhcPs
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilderVar"><span class="hs-identifier hs-type">PatBuilderVar</span></a></span><span> </span><span id="local-6989586621680975156"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975156"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span id="local-6989586621680975154"><span class="annot"><span class="annottext">[LHsRecField GhcPs (Located (PatBuilder GhcPs))]
</span><a href="#local-6989586621680975154"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621680975153"><span class="annot"><span class="annottext">Maybe (Located Int)
</span><a href="#local-6989586621680975153"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2065"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975156"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2066"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680975152"><span class="annot"><span class="annottext">[GenLocated
   SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))]
</span><a href="#local-6989586621680975152"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(LHsRecField GhcPs (Located (PatBuilder GhcPs))
 -&gt; PV
      (GenLocated
         SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))))
-&gt; [LHsRecField GhcPs (Located (PatBuilder GhcPs))]
-&gt; PV
     [GenLocated
        SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../base/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcPs (Located (PatBuilder GhcPs))
-&gt; PV
     (GenLocated
        SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs))))
LHsRecField GhcPs (Located (PatBuilder GhcPs))
-&gt; PV (LHsRecField GhcPs (LPat GhcPs))
</span><a href="GHC.Parser.PostProcess.html#checkPatField"><span class="hs-identifier hs-var">checkPatField</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (Located (PatBuilder GhcPs))]
</span><a href="#local-6989586621680975154"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2067"></span><span>       </span><span class="annot"><span class="annottext">PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs))
-&gt; PatBuilder GhcPs -&gt; PV (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="annot"><span class="annottext">(Pat GhcPs -&gt; PatBuilder GhcPs) -&gt; Pat GhcPs -&gt; PatBuilder GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ConPat :: forall p.
XConPat p -&gt; Located (ConLikeP p) -&gt; HsConPatDetails p -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span>
</span><span id="line-2068"></span><span>         </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_con_ext :: XConPat GhcPs
</span><a href="GHC.Hs.Pat.html#pat_con_ext"><span class="hs-identifier hs-var">pat_con_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XConPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2069"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_con :: Located (ConLikeP GhcPs)
</span><a href="GHC.Hs.Pat.html#pat_con"><span class="hs-identifier hs-var">pat_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (ConLikeP GhcPs)
</span><a href="#local-6989586621680975156"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2070"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_args :: HsConPatDetails GhcPs
</span><a href="GHC.Hs.Pat.html#pat_args"><span class="hs-identifier hs-var">pat_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (Located (Pat GhcPs))
-&gt; HsConDetails
     (Located (Pat GhcPs)) (HsRecFields GhcPs (Located (Pat GhcPs)))
forall arg rec. rec -&gt; HsConDetails arg rec
</span><a href="GHC.Hs.Type.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated
   SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))]
-&gt; Maybe (Located Int) -&gt; HsRecFields GhcPs (Located (Pat GhcPs))
forall p arg.
[LHsRecField p arg] -&gt; Maybe (Located Int) -&gt; HsRecFields p arg
</span><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-var">HsRecFields</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpan (HsRecField' (FieldOcc GhcPs) (Located (Pat GhcPs)))]
</span><a href="#local-6989586621680975152"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Located Int)
</span><a href="#local-6989586621680975153"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2071"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-2072"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkPatRec"><span class="hs-identifier hs-var">mkPatRec</span></a></span><span> </span><span id="local-6989586621680975151"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975151"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcPs (Located (PatBuilder GhcPs))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2073"></span><span>  </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (PatBuilder GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975151"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; PV (PatBuilder GhcPs)) -&gt; SDoc -&gt; PV (PatBuilder GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Not a record constructor:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680975151"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2074"></span><span>
</span><span id="line-2075"></span><span class="hs-comment">{- Note [Ambiguous syntactic categories]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

There are places in the grammar where we do not know whether we are parsing an
expression or a pattern without unlimited lookahead (which we do not have in
'happy'):

View patterns:

    f (Con a b     ) = ...  -- 'Con a b' is a pattern
    f (Con a b -&gt; x) = ...  -- 'Con a b' is an expression

do-notation:

    do { Con a b &lt;- x } -- 'Con a b' is a pattern
    do { Con a b }      -- 'Con a b' is an expression

Guards:

    x | True &lt;- p &amp;&amp; q = ...  -- 'True' is a pattern
    x | True           = ...  -- 'True' is an expression

Top-level value/function declarations (FunBind/PatBind):

    f ! a         -- TH splice
    f ! a = ...   -- function declaration

    Until we encounter the = sign, we don't know if it's a top-level
    TemplateHaskell splice where ! is used, or if it's a function declaration
    where ! is bound.

There are also places in the grammar where we do not know whether we are
parsing an expression or a command:

    proc x -&gt; do { (stuff) -&lt; x }   -- 'stuff' is an expression
    proc x -&gt; do { (stuff) }        -- 'stuff' is a command

    Until we encounter arrow syntax (-&lt;) we don't know whether to parse 'stuff'
    as an expression or a command.

In fact, do-notation is subject to both ambiguities:

    proc x -&gt; do { (stuff) -&lt; x }        -- 'stuff' is an expression
    proc x -&gt; do { (stuff) &lt;- f -&lt; x }   -- 'stuff' is a pattern
    proc x -&gt; do { (stuff) }             -- 'stuff' is a command

There are many possible solutions to this problem. For an overview of the ones
we decided against, see Note [Resolving parsing ambiguities: non-taken alternatives]

The solution that keeps basic definitions (such as HsExpr) clean, keeps the
concerns local to the parser, and does not require duplication of hsSyn types,
or an extra pass over the entire AST, is to parse into an overloaded
parser-validator (a so-called tagless final encoding):

    class DisambECP b where ...
    instance DisambECP (HsCmd GhcPs) where ...
    instance DisambECP (HsExp GhcPs) where ...
    instance DisambECP (PatBuilder GhcPs) where ...

The 'DisambECP' class contains functions to build and validate 'b'. For example,
to add parentheses we have:

  mkHsParPV :: DisambECP b =&gt; SrcSpan -&gt; Located b -&gt; PV (Located b)

'mkHsParPV' will wrap the inner value in HsCmdPar for commands, HsPar for
expressions, and 'PatBuilderPar' for patterns (later transformed into ParPat,
see Note [PatBuilder]).

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr GhcPs, and it becomes:

  alts :: { forall b. DisambECP b =&gt; PV (Located ([AddAnn],[LMatch GhcPs (Located b)])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Compared to the initial definition, the added bits are:

    forall b. DisambECP b =&gt; PV ( ... ) -- in the type signature
    $1 &gt;&gt;= \ $1 -&gt; return $             -- in one reduction rule
    $2 &gt;&gt;= \ $2 -&gt; return $             -- in another reduction rule

The overhead is constant relative to the size of the rest of the reduction
rule, so this approach scales well to large parser productions.

Note that we write ($1 &gt;&gt;= \ $1 -&gt; ...), so the second $1 is in a binding
position and shadows the previous $1. We can do this because internally
'happy' desugars $n to happy_var_n, and the rationale behind this idiom
is to be able to write (sLL $1 $&gt;) later on. The alternative would be to
write this as ($1 &gt;&gt;= \ fresh_name -&gt; ...), but then we couldn't refer
to the last fresh name as $&gt;.
-}</span><span>
</span><span id="line-2173"></span><span>
</span><span id="line-2174"></span><span>
</span><span id="line-2175"></span><span class="hs-comment">{- Note [Resolving parsing ambiguities: non-taken alternatives]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Alternative I, extra constructors in GHC.Hs.Expr
------------------------------------------------
We could add extra constructors to HsExpr to represent command-specific and
pattern-specific syntactic constructs. Under this scheme, we parse patterns
and commands as expressions and rejig later.  This is what GHC used to do, and
it polluted 'HsExpr' with irrelevant constructors:

  * for commands: 'HsArrForm', 'HsArrApp'
  * for patterns: 'EWildPat', 'EAsPat', 'EViewPat', 'ELazyPat'

(As of now, we still do that for patterns, but we plan to fix it).

There are several issues with this:

  * The implementation details of parsing are leaking into hsSyn definitions.

  * Code that uses HsExpr has to panic on these impossible-after-parsing cases.

  * HsExpr is arbitrarily selected as the extension basis. Why not extend
    HsCmd or HsPat with extra constructors instead?

Alternative II, extra constructors in GHC.Hs.Expr for GhcPs
-----------------------------------------------------------
We could address some of the problems with Alternative I by using Trees That
Grow and extending HsExpr only in the GhcPs pass. However, GhcPs corresponds to
the output of parsing, not to its intermediate results, so we wouldn't want
them there either.

Alternative III, extra constructors in GHC.Hs.Expr for GhcPrePs
---------------------------------------------------------------
We could introduce a new pass, GhcPrePs, to keep GhcPs pristine.
Unfortunately, creating a new pass would significantly bloat conversion code
and slow down the compiler by adding another linear-time pass over the entire
AST. For example, in order to build HsExpr GhcPrePs, we would need to build
HsLocalBinds GhcPrePs (as part of HsLet), and we never want HsLocalBinds
GhcPrePs.


Alternative IV, sum type and bottom-up data flow
------------------------------------------------
Expressions and commands are disjoint. There are no user inputs that could be
interpreted as either an expression or a command depending on outer context:

  5        -- definitely an expression
  x -&lt; y   -- definitely a command

Even though we have both 'HsLam' and 'HsCmdLam', we can look at
the body to disambiguate:

  \p -&gt; 5        -- definitely an expression
  \p -&gt; x -&lt; y   -- definitely a command

This means we could use a bottom-up flow of information to determine
whether we are parsing an expression or a command, using a sum type
for intermediate results:

  Either (LHsExpr GhcPs) (LHsCmd GhcPs)

There are two problems with this:

  * We cannot handle the ambiguity between expressions and
    patterns, which are not disjoint.

  * Bottom-up flow of information leads to poor error messages. Consider

        if ... then 5 else (x -&lt; y)

    Do we report that '5' is not a valid command or that (x -&lt; y) is not a
    valid expression?  It depends on whether we want the entire node to be
    'HsIf' or 'HsCmdIf', and this information flows top-down, from the
    surrounding parsing context (are we in 'proc'?)

Alternative V, backtracking with parser combinators
---------------------------------------------------
One might think we could sidestep the issue entirely by using a backtracking
parser and doing something along the lines of (try pExpr &lt;|&gt; pPat).

Turns out, this wouldn't work very well, as there can be patterns inside
expressions (e.g. via 'case', 'let', 'do') and expressions inside patterns
(e.g. view patterns). To handle this, we would need to backtrack while
backtracking, and unbound levels of backtracking lead to very fragile
performance.

Alternative VI, an intermediate data type
-----------------------------------------
There are common syntactic elements of expressions, commands, and patterns
(e.g. all of them must have balanced parentheses), and we can capture this
common structure in an intermediate data type, Frame:

data Frame
  = FrameVar RdrName
    -- ^ Identifier: Just, map, BS.length
  | FrameTuple [LTupArgFrame] Boxity
    -- ^ Tuple (section): (a,b) (a,b,c) (a,,) (,a,)
  | FrameTySig LFrame (LHsSigWcType GhcPs)
    -- ^ Type signature: x :: ty
  | FramePar (SrcSpan, SrcSpan) LFrame
    -- ^ Parentheses
  | FrameIf LFrame LFrame LFrame
    -- ^ If-expression: if p then x else y
  | FrameCase LFrame [LFrameMatch]
    -- ^ Case-expression: case x of { p1 -&gt; e1; p2 -&gt; e2 }
  | FrameDo (HsStmtContext GhcRn) [LFrameStmt]
    -- ^ Do-expression: do { s1; a &lt;- s2; s3 }
  ...
  | FrameExpr (HsExpr GhcPs)   -- unambiguously an expression
  | FramePat (HsPat GhcPs)     -- unambiguously a pattern
  | FrameCommand (HsCmd GhcPs) -- unambiguously a command

To determine which constructors 'Frame' needs to have, we take the union of
intersections between HsExpr, HsCmd, and HsPat.

The intersection between HsPat and HsExpr:

  HsPat  =  VarPat   | TuplePat      | SigPat        | ParPat   | ...
  HsExpr =  HsVar    | ExplicitTuple | ExprWithTySig | HsPar    | ...
  -------------------------------------------------------------------
  Frame  =  FrameVar | FrameTuple    | FrameTySig    | FramePar | ...

The intersection between HsCmd and HsExpr:

  HsCmd  = HsCmdIf | HsCmdCase | HsCmdDo | HsCmdPar
  HsExpr = HsIf    | HsCase    | HsDo    | HsPar
  ------------------------------------------------
  Frame = FrameIf  | FrameCase | FrameDo | FramePar

The intersection between HsCmd and HsPat:

  HsPat  = ParPat   | ...
  HsCmd  = HsCmdPar | ...
  -----------------------
  Frame  = FramePar | ...

Take the union of each intersection and this yields the final 'Frame' data
type. The problem with this approach is that we end up duplicating a good
portion of hsSyn:

    Frame         for  HsExpr, HsPat, HsCmd
    TupArgFrame   for  HsTupArg
    FrameMatch    for  Match
    FrameStmt     for  StmtLR
    FrameGRHS     for  GRHS
    FrameGRHSs    for  GRHSs
    ...

Alternative VII, a product type
-------------------------------
We could avoid the intermediate representation of Alternative VI by parsing
into a product of interpretations directly:

    -- See Note [Parser-Validator]
    type ExpCmdPat = ( PV (LHsExpr GhcPs)
                     , PV (LHsCmd GhcPs)
                     , PV (LHsPat GhcPs) )

This means that in positions where we do not know whether to produce
expression, a pattern, or a command, we instead produce a parser-validator for
each possible option.

Then, as soon as we have parsed far enough to resolve the ambiguity, we pick
the appropriate component of the product, discarding the rest:

    checkExpOf3 (e, _, _) = e  -- interpret as an expression
    checkCmdOf3 (_, c, _) = c  -- interpret as a command
    checkPatOf3 (_, _, p) = p  -- interpret as a pattern

We can easily define ambiguities between arbitrary subsets of interpretations.
For example, when we know ahead of type that only an expression or a command is
possible, but not a pattern, we can use a smaller type:

    -- See Note [Parser-Validator]
    type ExpCmd = (PV (LHsExpr GhcPs), PV (LHsCmd GhcPs))

    checkExpOf2 (e, _) = e  -- interpret as an expression
    checkCmdOf2 (_, c) = c  -- interpret as a command

However, there is a slight problem with this approach, namely code duplication
in parser productions. Consider the 'alts' production used to parse case-of
alternatives:

  alts :: { Located ([AddAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Under the new scheme, we have to completely duplicate its type signature and
each reduction rule:

  alts :: { ( PV (Located ([AddAnn],[LMatch GhcPs (LHsExpr GhcPs)])) -- as an expression
            , PV (Located ([AddAnn],[LMatch GhcPs (LHsCmd GhcPs)]))  -- as a command
            ) }
    : alts1
        { ( checkExpOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          , checkCmdOf2 $1 &gt;&gt;= \ $1 -&gt;
            return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1)
          ) }
    | ';' alts
        { ( checkExpOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          , checkCmdOf2 $2 &gt;&gt;= \ $2 -&gt;
            return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2)
          ) }

And the same goes for other productions: 'altslist', 'alts1', 'alt', 'alt_rhs',
'ralt', 'gdpats', 'gdpat', 'exp', ... and so on. That is a lot of code!

Alternative VIII, a function from a GADT
----------------------------------------
We could avoid code duplication of the Alternative VII by representing the product
as a function from a GADT:

    data ExpCmdG b where
      ExpG :: ExpCmdG HsExpr
      CmdG :: ExpCmdG HsCmd

    type ExpCmd = forall b. ExpCmdG b -&gt; PV (Located (b GhcPs))

    checkExp :: ExpCmd -&gt; PV (LHsExpr GhcPs)
    checkCmd :: ExpCmd -&gt; PV (LHsCmd GhcPs)
    checkExp f = f ExpG  -- interpret as an expression
    checkCmd f = f CmdG  -- interpret as a command

Consider the 'alts' production used to parse case-of alternatives:

  alts :: { Located ([AddAnn],[LMatch GhcPs (LHsExpr GhcPs)]) }
    : alts1     { sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

We abstract over LHsExpr, and it becomes:

  alts :: { forall b. ExpCmdG b -&gt; PV (Located ([AddAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1
        { \tag -&gt; $1 tag &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts
        { \tag -&gt; $2 tag &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

Note that 'ExpCmdG' is a singleton type, the value is completely
determined by the type:

  when (b~HsExpr),  tag = ExpG
  when (b~HsCmd),   tag = CmdG

This is a clear indication that we can use a class to pass this value behind
the scenes:

  class    ExpCmdI b      where expCmdG :: ExpCmdG b
  instance ExpCmdI HsExpr where expCmdG = ExpG
  instance ExpCmdI HsCmd  where expCmdG = CmdG

And now the 'alts' production is simplified, as we no longer need to
thread 'tag' explicitly:

  alts :: { forall b. ExpCmdI b =&gt; PV (Located ([AddAnn],[LMatch GhcPs (Located (b GhcPs))])) }
    : alts1     { $1 &gt;&gt;= \ $1 -&gt;
                  return $ sL1 $1 (fst $ unLoc $1,snd $ unLoc $1) }
    | ';' alts  { $2 &gt;&gt;= \ $2 -&gt;
                  return $ sLL $1 $&gt; ((mj AnnSemi $1:(fst $ unLoc $2)),snd $ unLoc $2) }

This encoding works well enough, but introduces an extra GADT unlike the
tagless final encoding, and there's no need for this complexity.

-}</span><span>
</span><span id="line-2442"></span><span>
</span><span id="line-2443"></span><span class="hs-comment">{- Note [PatBuilder]
~~~~~~~~~~~~~~~~~~~~
Unlike HsExpr or HsCmd, the Pat type cannot accommodate all intermediate forms,
so we introduce the notion of a PatBuilder.

Consider a pattern like this:

  Con a b c

We parse arguments to &quot;Con&quot; one at a time in the  fexp aexp  parser production,
building the result with mkHsAppPV, so the intermediate forms are:

  1. Con
  2. Con a
  3. Con a b
  4. Con a b c

In 'HsExpr', we have 'HsApp', so the intermediate forms are represented like
this (pseudocode):

  1. &quot;Con&quot;
  2. HsApp &quot;Con&quot; &quot;a&quot;
  3. HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;
  3. HsApp (HsApp (HsApp &quot;Con&quot; &quot;a&quot;) &quot;b&quot;) &quot;c&quot;

Similarly, in 'HsCmd' we have 'HsCmdApp'. In 'Pat', however, what we have
instead is 'ConPatIn', which is very awkward to modify and thus unsuitable for
the intermediate forms.

We also need an intermediate representation to postpone disambiguation between
FunBind and PatBind. Consider:

  a `Con` b = ...
  a `fun` b = ...

How do we know that (a `Con` b) is a PatBind but (a `fun` b) is a FunBind? We
learn this by inspecting an intermediate representation in 'isFunLhs' and
seeing that 'Con' is a data constructor but 'f' is not. We need an intermediate
representation capable of representing both a FunBind and a PatBind, so Pat is
insufficient.

PatBuilder is an extension of Pat that is capable of representing intermediate
parsing results for patterns and function bindings:

  data PatBuilder p
    = PatBuilderPat (Pat p)
    | PatBuilderApp (Located (PatBuilder p)) (Located (PatBuilder p))
    | PatBuilderOpApp (Located (PatBuilder p)) (Located RdrName) (Located (PatBuilder p))
    ...

It can represent any pattern via 'PatBuilderPat', but it also has a variety of
other constructors which were added by following a simple principle: we never
pattern match on the pattern stored inside 'PatBuilderPat'.
-}</span><span>
</span><span id="line-2497"></span><span>
</span><span id="line-2498"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-2499"></span><span class="hs-comment">-- Miscellaneous utilities</span><span>
</span><span id="line-2500"></span><span>
</span><span id="line-2501"></span><span class="hs-comment">-- | Check if a fixity is valid. We support bypassing the usual bound checks</span><span>
</span><span id="line-2502"></span><span class="hs-comment">-- for some special operators.</span><span>
</span><span id="line-2503"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-type">checkPrecP</span></a></span><span>
</span><span id="line-2504"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>             </span><span class="hs-comment">-- ^ precedence</span><span>
</span><span id="line-2505"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.OrdList.html#OrdList"><span class="hs-identifier hs-type">OrdList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ operators</span><span>
</span><span id="line-2506"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2507"></span><span id="checkPrecP"><span class="annot"><span class="annottext">checkPrecP :: Located (SourceText, Int)
-&gt; Located (OrdList (Located RdrName)) -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#checkPrecP"><span class="hs-identifier hs-var hs-var">checkPrecP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975150"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975150"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680975149"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680975149"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975148"><span class="annot"><span class="annottext">OrdList (Located RdrName)
</span><a href="#local-6989586621680975148"><span class="hs-identifier hs-var">ol</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2508"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680975149"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680975149"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="GHC.Types.Basic.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2509"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Located RdrName -&gt; Bool) -&gt; OrdList (Located RdrName) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#all"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; Bool
forall {l}. GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621680975144"><span class="hs-identifier hs-var">specialOp</span></a></span><span> </span><span class="annot"><span class="annottext">OrdList (Located RdrName)
</span><a href="#local-6989586621680975148"><span class="hs-identifier hs-var">ol</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; P ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2510"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975150"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Precedence out of range: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../base/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680975149"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2511"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2512"></span><span>    </span><span class="hs-comment">-- If you change this, consider updating Note [Fixity of (-&gt;)] in GHC/Types.hs</span><span>
</span><span id="line-2513"></span><span>    </span><span id="local-6989586621680975144"><span class="annot"><span class="annottext">specialOp :: GenLocated l RdrName -&gt; Bool
</span><a href="#local-6989586621680975144"><span class="hs-identifier hs-var hs-var">specialOp</span></a></span></span><span> </span><span id="local-6989586621680975139"><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621680975139"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated l RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated l RdrName
</span><a href="#local-6989586621680975139"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; [RdrName] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="GHC.Builtin.Types.html#eqTyCon_RDR"><span class="hs-identifier hs-var">eqTyCon_RDR</span></a></span><span>
</span><span id="line-2514"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; RdrName
forall thing. NamedThing thing =&gt; thing -&gt; RdrName
</span><a href="GHC.Types.Name.Reader.html#getRdrName"><span class="hs-identifier hs-var">getRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#unrestrictedFunTyCon"><span class="hs-identifier hs-var">unrestrictedFunTyCon</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2515"></span><span>
</span><span id="line-2516"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-type">mkRecConstrOrUpdate</span></a></span><span>
</span><span id="line-2517"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2518"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-2519"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2520"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2521"></span><span>
</span><span id="line-2522"></span><span id="mkRecConstrOrUpdate"><span class="annot"><span class="annottext">mkRecConstrOrUpdate :: LHsExpr GhcPs
-&gt; SrcSpan
-&gt; ([LHsRecField GhcPs (LHsExpr GhcPs)], Maybe SrcSpan)
-&gt; PV (HsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var hs-var">mkRecConstrOrUpdate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975137"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975137"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975136"><span class="annot"><span class="annottext">IdP GhcPs
</span><a href="#local-6989586621680975136"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975135"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975135"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680975134"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975134"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2523"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; Bool
</span><a href="GHC.Types.Name.Reader.html#isRdrDataCon"><span class="hs-identifier hs-var">isRdrDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680975136"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2524"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PV (HsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; HsRecordBinds GhcPs -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var">mkRdrRecordCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; RdrName -&gt; Located RdrName
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975137"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
IdP GhcPs
</span><a href="#local-6989586621680975136"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
-&gt; Maybe SrcSpan -&gt; HsRecordBinds GhcPs
forall id arg.
[LHsRecField id arg] -&gt; Maybe SrcSpan -&gt; HsRecFields id arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975135"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975134"><span class="hs-identifier hs-var">dd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2525"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRecConstrOrUpdate"><span class="hs-identifier hs-var">mkRecConstrOrUpdate</span></a></span><span> </span><span id="local-6989586621680975133"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975133"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975132"><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975132"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680975131"><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975131"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2526"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975130"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975130"><span class="hs-identifier hs-var">dd_loc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="#local-6989586621680975131"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (HsExpr GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975130"><span class="hs-identifier hs-var">dd_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;You cannot use `..' in a record update&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2527"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcPs -&gt; PV (HsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; [LHsRecUpdField GhcPs] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var">mkRdrRecordUpd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975133"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LHsRecField GhcPs (LHsExpr GhcPs) -&gt; LHsRecUpdField GhcPs)
-&gt; [LHsRecField GhcPs (LHsExpr GhcPs)] -&gt; [LHsRecUpdField GhcPs]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs)
-&gt; LHsRecField GhcPs (LHsExpr GhcPs) -&gt; LHsRecUpdField GhcPs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var">mk_rec_upd_field</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsRecField GhcPs (LHsExpr GhcPs)]
</span><a href="#local-6989586621680975132"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2528"></span><span>
</span><span id="line-2529"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-type">mkRdrRecordUpd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecUpdField"><span class="hs-identifier hs-type">LHsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2530"></span><span id="mkRdrRecordUpd"><span class="annot"><span class="annottext">mkRdrRecordUpd :: LHsExpr GhcPs -&gt; [LHsRecUpdField GhcPs] -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordUpd"><span class="hs-identifier hs-var hs-var">mkRdrRecordUpd</span></a></span></span><span> </span><span id="local-6989586621680975128"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975128"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span id="local-6989586621680975127"><span class="annot"><span class="annottext">[LHsRecUpdField GhcPs]
</span><a href="#local-6989586621680975127"><span class="hs-identifier hs-var">flds</span></a></span></span><span>
</span><span id="line-2531"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RecordUpd :: forall p.
XRecordUpd p -&gt; LHsExpr p -&gt; [LHsRecUpdField p] -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_ext :: XRecordUpd GhcPs
</span><a href="GHC.Hs.Expr.html#rupd_ext"><span class="hs-identifier hs-var">rupd_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XRecordUpd GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2532"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: LHsExpr GhcPs
</span><a href="GHC.Hs.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975128"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-2533"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: [LHsRecUpdField GhcPs]
</span><a href="GHC.Hs.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsRecUpdField GhcPs]
</span><a href="#local-6989586621680975127"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2534"></span><span>
</span><span id="line-2535"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-type">mkRdrRecordCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2536"></span><span id="mkRdrRecordCon"><span class="annot"><span class="annottext">mkRdrRecordCon :: Located RdrName -&gt; HsRecordBinds GhcPs -&gt; HsExpr GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkRdrRecordCon"><span class="hs-identifier hs-var hs-var">mkRdrRecordCon</span></a></span></span><span> </span><span id="local-6989586621680975122"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975122"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621680975121"><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621680975121"><span class="hs-identifier hs-var">flds</span></a></span></span><span>
</span><span id="line-2537"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RecordCon :: forall p.
XRecordCon p -&gt; Located (IdP p) -&gt; HsRecordBinds p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#RecordCon"><span class="hs-identifier hs-type">RecordCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rcon_ext :: XRecordCon GhcPs
</span><a href="GHC.Hs.Expr.html#rcon_ext"><span class="hs-identifier hs-var">rcon_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XRecordCon GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_con_name :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Expr.html#rcon_con_name"><span class="hs-identifier hs-var">rcon_con_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975122"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_flds :: HsRecordBinds GhcPs
</span><a href="GHC.Hs.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecordBinds GhcPs
</span><a href="#local-6989586621680975121"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2538"></span><span>
</span><span id="line-2539"></span><span id="local-6989586621680977839"><span id="local-6989586621680977840"><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-type">mk_rec_fields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977840"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977839"><span class="hs-identifier hs-type">arg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977840"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977839"><span class="hs-identifier hs-type">arg</span></a></span></span></span><span>
</span><span id="line-2540"></span><span id="mk_rec_fields"><span class="annot"><span class="annottext">mk_rec_fields :: forall id arg.
[LHsRecField id arg] -&gt; Maybe SrcSpan -&gt; HsRecFields id arg
</span><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var hs-var">mk_rec_fields</span></a></span></span><span> </span><span id="local-6989586621680975115"><span class="annot"><span class="annottext">[LHsRecField id arg]
</span><a href="#local-6989586621680975115"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecFields :: forall p arg.
[LHsRecField p arg] -&gt; Maybe (Located Int) -&gt; HsRecFields p arg
</span><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField id arg]
</span><a href="GHC.Hs.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsRecField id arg]
</span><a href="#local-6989586621680975115"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (Located Int)
</span><a href="GHC.Hs.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Located Int)
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2541"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_fields"><span class="hs-identifier hs-var">mk_rec_fields</span></a></span><span> </span><span id="local-6989586621680975112"><span class="annot"><span class="annottext">[LHsRecField id arg]
</span><a href="#local-6989586621680975112"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975111"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975111"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsRecFields :: forall p arg.
[LHsRecField p arg] -&gt; Maybe (Located Int) -&gt; HsRecFields p arg
</span><a href="GHC.Hs.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: [LHsRecField id arg]
</span><a href="GHC.Hs.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LHsRecField id arg]
</span><a href="#local-6989586621680975112"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-2542"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rec_dotdot :: Maybe (Located Int)
</span><a href="GHC.Hs.Pat.html#rec_dotdot"><span class="hs-identifier hs-var">rec_dotdot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located Int -&gt; Maybe (Located Int)
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; Int -&gt; Located Int
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975111"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsRecField id arg] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecField id arg]
</span><a href="#local-6989586621680975112"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2543"></span><span>
</span><span id="line-2544"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-type">mk_rec_upd_field</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecUpdField"><span class="hs-identifier hs-type">HsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-2545"></span><span id="mk_rec_upd_field"><span class="annot"><span class="annottext">mk_rec_upd_field :: HsRecField GhcPs (LHsExpr GhcPs) -&gt; HsRecUpdField GhcPs
</span><a href="GHC.Parser.PostProcess.html#mk_rec_upd_field"><span class="hs-identifier hs-var hs-var">mk_rec_upd_field</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#HsRecField"><span class="hs-identifier hs-type">HsRecField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975109"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975109"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680975107"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975107"><span class="hs-identifier hs-var">rdr</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680975106"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975106"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621680975105"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975105"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2546"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located (AmbiguousFieldOcc GhcPs)
-&gt; LHsExpr GhcPs -&gt; Bool -&gt; HsRecUpdField GhcPs
forall id arg. Located id -&gt; arg -&gt; Bool -&gt; HsRecField' id arg
</span><a href="GHC.Hs.Pat.html#HsRecField"><span class="hs-identifier hs-var">HsRecField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; AmbiguousFieldOcc GhcPs -&gt; Located (AmbiguousFieldOcc GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975109"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XUnambiguous GhcPs -&gt; Located RdrName -&gt; AmbiguousFieldOcc GhcPs
forall pass.
XUnambiguous pass -&gt; Located RdrName -&gt; AmbiguousFieldOcc pass
</span><a href="GHC.Hs.Type.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XUnambiguous GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975107"><span class="hs-identifier hs-var">rdr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680975106"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975105"><span class="hs-identifier hs-var">pun</span></a></span><span>
</span><span id="line-2547"></span><span>
</span><span id="line-2548"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-type">mkInlinePragma</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span>
</span><span id="line-2549"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-2550"></span><span class="hs-comment">-- The (Maybe Activation) is because the user can omit</span><span>
</span><span id="line-2551"></span><span class="hs-comment">-- the activation spec (and usually does)</span><span>
</span><span id="line-2552"></span><span id="mkInlinePragma"><span class="annot"><span class="annottext">mkInlinePragma :: SourceText
-&gt; (InlineSpec, RuleMatchInfo) -&gt; Maybe Activation -&gt; InlinePragma
</span><a href="GHC.Parser.PostProcess.html#mkInlinePragma"><span class="hs-identifier hs-var hs-var">mkInlinePragma</span></a></span></span><span> </span><span id="local-6989586621680975103"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975103"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680975102"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621680975102"><span class="hs-identifier hs-var">inl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975101"><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621680975101"><span class="hs-identifier hs-var">match_info</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680975100"><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621680975100"><span class="hs-identifier hs-var">mb_act</span></a></span></span><span>
</span><span id="line-2553"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlinePragma :: SourceText
-&gt; InlineSpec
-&gt; Maybe Int
-&gt; Activation
-&gt; RuleMatchInfo
-&gt; InlinePragma
</span><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">inl_src :: SourceText
</span><a href="GHC.Types.Basic.html#inl_src"><span class="hs-identifier hs-var">inl_src</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975103"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="hs-comment">-- Note [Pragma source text] in GHC.Types.Basic</span><span>
</span><span id="line-2554"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_inline :: InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621680975102"><span class="hs-identifier hs-var">inl</span></a></span><span>
</span><span id="line-2555"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_sat :: Maybe Int
</span><a href="GHC.Types.Basic.html#inl_sat"><span class="hs-identifier hs-var">inl_sat</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2556"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_act :: Activation
</span><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621680975094"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2557"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inl_rule :: RuleMatchInfo
</span><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="#local-6989586621680975101"><span class="hs-identifier hs-var">match_info</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2558"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2559"></span><span>    </span><span id="local-6989586621680975094"><span class="annot"><span class="annottext">act :: Activation
</span><a href="#local-6989586621680975094"><span class="hs-identifier hs-var hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="#local-6989586621680975100"><span class="hs-identifier hs-var">mb_act</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2560"></span><span>            </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975092"><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621680975092"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621680975092"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-2561"></span><span>            </span><span class="annot"><span class="annottext">Maybe Activation
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- No phase specified</span><span>
</span><span id="line-2562"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621680975102"><span class="hs-identifier hs-var">inl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2563"></span><span>                          </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="GHC.Types.Basic.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a></span><span>
</span><span id="line-2564"></span><span>                          </span><span id="local-6989586621680975089"><span class="annot"><span class="annottext">InlineSpec
</span><a href="#local-6989586621680975089"><span class="hs-identifier hs-var">_other</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Activation
</span><a href="GHC.Types.Basic.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a></span><span>
</span><span id="line-2565"></span><span>
</span><span id="line-2566"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2567"></span><span class="hs-comment">-- utilities for foreign declarations</span><span>
</span><span id="line-2568"></span><span>
</span><span id="line-2569"></span><span class="hs-comment">-- construct a foreign import declaration</span><span>
</span><span id="line-2570"></span><span class="hs-comment">--</span><span>
</span><span id="line-2571"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-type">mkImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2572"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span>
</span><span id="line-2573"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2574"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2575"></span><span id="mkImport"><span class="annot"><span class="annottext">mkImport :: Located CCallConv
-&gt; Located Safety
-&gt; (Located StringLiteral, Located RdrName, LHsSigType GhcPs)
-&gt; P (HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkImport"><span class="hs-identifier hs-var hs-var">mkImport</span></a></span></span><span> </span><span id="local-6989586621680975087"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975087"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621680975086"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621680975086"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975085"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975085"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621680975083"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975083"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621680975082"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975082"><span class="hs-identifier hs-var">entity</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975081"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975081"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680975080"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621680975080"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2576"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv -&gt; CCallConv
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975087"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2577"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (HsDecl GhcPs)
</span><a href="#local-6989586621680975078"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2578"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (HsDecl GhcPs)
</span><a href="#local-6989586621680975078"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2579"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#StdCallConv"><span class="hs-identifier hs-var">StdCallConv</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (HsDecl GhcPs)
</span><a href="#local-6989586621680975078"><span class="hs-identifier hs-var">mkCImport</span></a></span><span>
</span><span id="line-2580"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (HsDecl GhcPs)
</span><a href="#local-6989586621680975074"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2581"></span><span>      </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (HsDecl GhcPs)
</span><a href="#local-6989586621680975074"><span class="hs-identifier hs-var">mkOtherImport</span></a></span><span>
</span><span id="line-2582"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2583"></span><span>    </span><span class="hs-comment">-- Parse a C-like entity string of the following form:</span><span>
</span><span id="line-2584"></span><span>    </span><span class="hs-comment">--   &quot;[static] [chname] [&amp;] [cid]&quot; | &quot;dynamic&quot; | &quot;wrapper&quot;</span><span>
</span><span id="line-2585"></span><span>    </span><span class="hs-comment">-- If 'cid' is missing, the function name 'v' is used instead as symbol</span><span>
</span><span id="line-2586"></span><span>    </span><span class="hs-comment">-- name (cf section 8.5.1 in Haskell 2010 report).</span><span>
</span><span id="line-2587"></span><span>    </span><span id="local-6989586621680975078"><span class="annot"><span class="annottext">mkCImport :: P (HsDecl GhcPs)
</span><a href="#local-6989586621680975078"><span class="hs-identifier hs-var hs-var">mkCImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2588"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680975072"><span class="annot"><span class="annottext">e :: String
</span><a href="#local-6989586621680975072"><span class="hs-identifier hs-var hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975082"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2589"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe ForeignImport
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var">parseCImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975087"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621680975086"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975081"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975072"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975085"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975083"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2590"></span><span>        </span><span class="annot"><span class="annottext">Maybe ForeignImport
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (HsDecl GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975085"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Malformed entity string&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2591"></span><span>        </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680975071"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975071"><span class="hs-identifier hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (HsDecl GhcPs)
</span><a href="#local-6989586621680975070"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975071"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2592"></span><span>
</span><span id="line-2593"></span><span>    </span><span class="hs-comment">-- currently, all the other import conventions only support a symbol name in</span><span>
</span><span id="line-2594"></span><span>    </span><span class="hs-comment">-- the entity string. If it is missing, we use the function name instead.</span><span>
</span><span id="line-2595"></span><span>    </span><span id="local-6989586621680975074"><span class="annot"><span class="annottext">mkOtherImport :: P (HsDecl GhcPs)
</span><a href="#local-6989586621680975074"><span class="hs-identifier hs-var hs-var">mkOtherImport</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; P (HsDecl GhcPs)
</span><a href="#local-6989586621680975070"><span class="hs-identifier hs-var">returnSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975069"><span class="hs-identifier hs-var">importSpec</span></a></span><span>
</span><span id="line-2596"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2597"></span><span>        </span><span id="local-6989586621680975068"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621680975068"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975082"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2598"></span><span>                        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680975081"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2599"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975082"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2600"></span><span>        </span><span id="local-6989586621680975066"><span class="annot"><span class="annottext">funcTarget :: CImportSpec
</span><a href="#local-6989586621680975066"><span class="hs-identifier hs-var hs-var">funcTarget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="GHC.Hs.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975083"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975068"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Unit
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-2601"></span><span>        </span><span id="local-6989586621680975069"><span class="annot"><span class="annottext">importSpec :: ForeignImport
</span><a href="#local-6989586621680975069"><span class="hs-identifier hs-var hs-var">importSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; Located SourceText
-&gt; ForeignImport
</span><a href="GHC.Hs.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975087"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621680975086"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621680975066"><span class="hs-identifier hs-var">funcTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975085"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680975083"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2602"></span><span>
</span><span id="line-2603"></span><span>    </span><span id="local-6989586621680975070"><span class="annot"><span class="annottext">returnSpec :: ForeignImport -&gt; P (HsDecl GhcPs)
</span><a href="#local-6989586621680975070"><span class="hs-identifier hs-var hs-var">returnSpec</span></a></span></span><span> </span><span id="local-6989586621680975062"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975062"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs -&gt; P (HsDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDecl GhcPs -&gt; P (HsDecl GhcPs))
-&gt; HsDecl GhcPs -&gt; P (HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XForD GhcPs -&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XForD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignDecl GhcPs -&gt; HsDecl GhcPs)
-&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport :: forall pass.
XForeignImport pass
-&gt; Located (IdP pass)
-&gt; LHsSigType pass
-&gt; ForeignImport
-&gt; ForeignDecl pass
</span><a href="GHC.Hs.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span>
</span><span id="line-2604"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_i_ext :: XForeignImport GhcPs
</span><a href="GHC.Hs.Decls.html#fd_i_ext"><span class="hs-identifier hs-var">fd_i_ext</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XForeignImport GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span>
</span><span id="line-2605"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680975081"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-2606"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="GHC.Hs.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621680975080"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2607"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fi :: ForeignImport
</span><a href="GHC.Hs.Decls.html#fd_fi"><span class="hs-identifier hs-var">fd_fi</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975062"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-2608"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-2609"></span><span>
</span><span id="line-2610"></span><span>
</span><span id="line-2611"></span><span>
</span><span id="line-2612"></span><span class="hs-comment">-- the string &quot;foo&quot; is ambiguous: either a header or a C identifier.  The</span><span>
</span><span id="line-2613"></span><span class="hs-comment">-- C identifier case comes first in the alternatives below, so we pick</span><span>
</span><span id="line-2614"></span><span class="hs-comment">-- that one.</span><span>
</span><span id="line-2615"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-type">parseCImport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2616"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span>
</span><span id="line-2617"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span>
</span><span id="line-2618"></span><span id="parseCImport"><span class="annot"><span class="annottext">parseCImport :: Located CCallConv
-&gt; Located Safety
-&gt; FastString
-&gt; String
-&gt; Located SourceText
-&gt; Maybe ForeignImport
</span><a href="GHC.Parser.PostProcess.html#parseCImport"><span class="hs-identifier hs-var hs-var">parseCImport</span></a></span></span><span> </span><span id="local-6989586621680975055"><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975055"><span class="hs-identifier hs-var">cconv</span></a></span></span><span> </span><span id="local-6989586621680975054"><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621680975054"><span class="hs-identifier hs-var">safety</span></a></span></span><span> </span><span id="local-6989586621680975053"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975053"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621680975052"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975052"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621680975051"><span class="annot"><span class="annottext">Located SourceText
</span><a href="#local-6989586621680975051"><span class="hs-identifier hs-var">sourceText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2619"></span><span> </span><span class="annot"><span class="annottext">[ForeignImport] -&gt; Maybe ForeignImport
forall a. [a] -&gt; Maybe a
</span><a href="../../base/src/Data.Maybe.html#listToMaybe"><span class="hs-identifier hs-var">listToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">([ForeignImport] -&gt; Maybe ForeignImport)
-&gt; [ForeignImport] -&gt; Maybe ForeignImport
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((ForeignImport, String) -&gt; ForeignImport)
-&gt; [(ForeignImport, String)] -&gt; [ForeignImport]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignImport, String) -&gt; ForeignImport
forall a b. (a, b) -&gt; a
</span><a href="../../base/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">([(ForeignImport, String)] -&gt; [ForeignImport])
-&gt; [(ForeignImport, String)] -&gt; [ForeignImport]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((ForeignImport, String) -&gt; Bool)
-&gt; [(ForeignImport, String)] -&gt; [(ForeignImport, String)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="annot"><span class="annottext">(String -&gt; Bool)
-&gt; ((ForeignImport, String) -&gt; String)
-&gt; (ForeignImport, String)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span class="annot"><span class="annottext">(ForeignImport, String) -&gt; String
forall a b. (a, b) -&gt; b
</span><a href="../../base/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(ForeignImport, String)] -&gt; [(ForeignImport, String)])
-&gt; [(ForeignImport, String)] -&gt; [(ForeignImport, String)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2620"></span><span>     </span><span class="annot"><span class="annottext">ReadP ForeignImport -&gt; ReadS ForeignImport
forall a. ReadP a -&gt; ReadS a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#readP_to_S"><span class="hs-identifier hs-var">readP_to_S</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ForeignImport
</span><a href="#local-6989586621680975048"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975052"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2621"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2622"></span><span>   </span><span id="local-6989586621680975048"><span class="annot"><span class="annottext">parse :: ReadP ForeignImport
</span><a href="#local-6989586621680975048"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2623"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2624"></span><span>       </span><span id="local-6989586621680975046"><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975046"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ReadP ForeignImport] -&gt; ReadP ForeignImport
forall a. [ReadP a] -&gt; ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2625"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dynamic&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP String -&gt; ReadP ForeignImport -&gt; ReadP ForeignImport
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; ReadP ForeignImport
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621680975043"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="GHC.Hs.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="annot"><span class="annottext">CCallTarget
</span><a href="GHC.Types.ForeignCall.html#DynamicTarget"><span class="hs-identifier hs-var">DynamicTarget</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2626"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wrapper&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP String -&gt; ReadP ForeignImport -&gt; ReadP ForeignImport
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport -&gt; ReadP ForeignImport
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621680975043"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="GHC.Hs.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2627"></span><span>          </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP ()
forall a. ReadP a -&gt; ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#optional"><span class="hs-identifier hs-var">optional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621680975039"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;static&quot;</span></span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP () -&gt; ReadP ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2628"></span><span>             </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621680975043"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(CImportSpec -&gt; ForeignImport)
-&gt; ReadP CImportSpec -&gt; ReadP ForeignImport
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621680975038"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975053"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ReadP ForeignImport -&gt; ReadP ForeignImport -&gt; ReadP ForeignImport
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2629"></span><span>              </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680975036"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975036"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP String
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621680975034"><span class="hs-identifier hs-var">hdr_char</span></a></span><span>
</span><span id="line-2630"></span><span>                  </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2631"></span><span>                  </span><span class="annot"><span class="annottext">Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621680975043"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Header -&gt; Maybe Header
forall a. a -&gt; Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Header
</span><a href="GHC.Types.ForeignCall.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SourceText
</span><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-var">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975036"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975036"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2632"></span><span>                      </span><span class="annot"><span class="annottext">(CImportSpec -&gt; ForeignImport)
-&gt; ReadP CImportSpec -&gt; ReadP ForeignImport
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621680975038"><span class="hs-identifier hs-var">cimp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975053"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2633"></span><span>         </span><span class="hs-special">]</span><span>
</span><span id="line-2634"></span><span>       </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2635"></span><span>       </span><span class="annot"><span class="annottext">ForeignImport -&gt; ReadP ForeignImport
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignImport
</span><a href="#local-6989586621680975046"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-2636"></span><span>
</span><span id="line-2637"></span><span>   </span><span id="local-6989586621680975039"><span class="annot"><span class="annottext">token :: String -&gt; ReadP ()
</span><a href="#local-6989586621680975039"><span class="hs-identifier hs-var hs-var">token</span></a></span></span><span> </span><span id="local-6989586621680975028"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975028"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP String
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975028"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2638"></span><span>                  </span><span id="local-6989586621680975027"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975027"><span class="hs-identifier hs-var">toks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP String
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#look"><span class="hs-identifier hs-var">look</span></a></span><span>
</span><span id="line-2639"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975027"><span class="hs-identifier hs-var">toks</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2640"></span><span>                      </span><span id="local-6989586621680975025"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975025"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2641"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621680975024"><span class="hs-identifier hs-var">id_char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975025"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReadP ()
forall a. ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#pfail"><span class="hs-identifier hs-var">pfail</span></a></span><span>
</span><span id="line-2642"></span><span>                      </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; ReadP ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2643"></span><span>
</span><span id="line-2644"></span><span>   </span><span id="local-6989586621680975043"><span class="annot"><span class="annottext">mk :: Maybe Header -&gt; CImportSpec -&gt; ForeignImport
</span><a href="#local-6989586621680975043"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621680975022"><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621680975022"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621680975021"><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621680975021"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CCallConv
-&gt; Located Safety
-&gt; Maybe Header
-&gt; CImportSpec
-&gt; Located SourceText
-&gt; ForeignImport
</span><a href="GHC.Hs.Decls.html#CImport"><span class="hs-identifier hs-var">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975055"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="annot"><span class="annottext">Located Safety
</span><a href="#local-6989586621680975054"><span class="hs-identifier hs-var">safety</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621680975022"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621680975021"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Located SourceText
</span><a href="#local-6989586621680975051"><span class="hs-identifier hs-var">sourceText</span></a></span><span>
</span><span id="line-2645"></span><span>
</span><span id="line-2646"></span><span>   </span><span id="local-6989586621680975034"><span class="annot"><span class="annottext">hdr_char :: Char -&gt; Bool
</span><a href="#local-6989586621680975034"><span class="hs-identifier hs-var hs-var">hdr_char</span></a></span></span><span> </span><span id="local-6989586621680975020"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975020"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base/src/GHC.Unicode.html#isSpace"><span class="hs-identifier hs-var">isSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975020"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2647"></span><span>   </span><span class="hs-comment">-- header files are filenames, which can contain</span><span>
</span><span id="line-2648"></span><span>   </span><span class="hs-comment">-- pretty much any char (depending on the platform),</span><span>
</span><span id="line-2649"></span><span>   </span><span class="hs-comment">-- so just accept any non-space character</span><span>
</span><span id="line-2650"></span><span>   </span><span id="local-6989586621680975017"><span class="annot"><span class="annottext">id_first_char :: Char -&gt; Bool
</span><a href="#local-6989586621680975017"><span class="hs-identifier hs-var hs-var">id_first_char</span></a></span></span><span> </span><span id="local-6989586621680975016"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975016"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base/src/GHC.Unicode.html#isAlpha"><span class="hs-identifier hs-var">isAlpha</span></a></span><span>    </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975016"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975016"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2651"></span><span>   </span><span id="local-6989586621680975024"><span class="annot"><span class="annottext">id_char :: Char -&gt; Bool
</span><a href="#local-6989586621680975024"><span class="hs-identifier hs-var hs-var">id_char</span></a></span></span><span>       </span><span id="local-6989586621680975013"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975013"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base/src/GHC.Unicode.html#isAlphaNum"><span class="hs-identifier hs-var">isAlphaNum</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975013"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975013"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span>
</span><span id="line-2652"></span><span>
</span><span id="line-2653"></span><span>   </span><span id="local-6989586621680975038"><span class="annot"><span class="annottext">cimp :: FastString -&gt; ReadP CImportSpec
</span><a href="#local-6989586621680975038"><span class="hs-identifier hs-var hs-var">cimp</span></a></span></span><span> </span><span id="local-6989586621680975011"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975011"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; ReadP Char
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#char"><span class="hs-identifier hs-var">ReadP.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'&amp;'</span></span><span> </span><span class="annot"><span class="annottext">ReadP Char -&gt; ReadP () -&gt; ReadP ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP () -&gt; ReadP CImportSpec -&gt; ReadP CImportSpec
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CImportSpec
</span><a href="GHC.Hs.Decls.html#CLabel"><span class="hs-identifier hs-var">CLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(FastString -&gt; CImportSpec)
-&gt; ReadP FastString -&gt; ReadP CImportSpec
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621680975008"><span class="hs-identifier hs-var">cid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2654"></span><span>             </span><span class="annot"><span class="annottext">ReadP CImportSpec -&gt; ReadP CImportSpec -&gt; ReadP CImportSpec
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680975007"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975007"><span class="hs-identifier hs-var">isFun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Located CCallConv -&gt; CCallConv
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located CCallConv
</span><a href="#local-6989586621680975055"><span class="hs-identifier hs-var">cconv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2655"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2656"></span><span>                                  </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool -&gt; ReadP Bool
forall a. a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2657"></span><span>                                         </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReadP ()
</span><a href="#local-6989586621680975039"><span class="hs-identifier hs-var">token</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;value&quot;</span></span><span>
</span><span id="line-2658"></span><span>                                             </span><span class="annot"><span class="annottext">ReadP ()
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span>
</span><span id="line-2659"></span><span>                                             </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-2660"></span><span>                               </span><span class="annot"><span class="annottext">CCallConv
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ReadP Bool
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2661"></span><span>                     </span><span id="local-6989586621680975005"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975005"><span class="hs-identifier hs-var">cid'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadP FastString
</span><a href="#local-6989586621680975008"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-2662"></span><span>                     </span><span class="annot"><span class="annottext">CImportSpec -&gt; ReadP CImportSpec
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CCallTarget -&gt; CImportSpec
</span><a href="GHC.Hs.Decls.html#CFunction"><span class="hs-identifier hs-var">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; Maybe Unit -&gt; Bool -&gt; CCallTarget
</span><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-var">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="GHC.Types.Basic.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975005"><span class="hs-identifier hs-var">cid'</span></a></span><span>
</span><span id="line-2663"></span><span>                                        </span><span class="annot"><span class="annottext">Maybe Unit
forall a. Maybe a
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680975007"><span class="hs-identifier hs-var">isFun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2664"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-2665"></span><span>            </span><span id="local-6989586621680975008"><span class="annot"><span class="annottext">cid :: ReadP FastString
</span><a href="#local-6989586621680975008"><span class="hs-identifier hs-var hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReadP FastString
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680975011"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">ReadP FastString -&gt; ReadP FastString -&gt; ReadP FastString
forall a. ReadP a -&gt; ReadP a -&gt; ReadP a
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#%2B%2B%2B"><span class="hs-operator hs-var">+++</span></a></span><span>
</span><span id="line-2666"></span><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680975004"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975004"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621680975017"><span class="hs-identifier hs-var">id_first_char</span></a></span><span>
</span><span id="line-2667"></span><span>                      </span><span id="local-6989586621680975002"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975002"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>  </span><span class="annot"><span class="annottext">ReadP Char -&gt; ReadP String
forall a. ReadP a -&gt; ReadP [a]
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#many"><span class="hs-identifier hs-var">many</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; ReadP Char
</span><a href="../../base/src/Text.ParserCombinators.ReadP.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621680975024"><span class="hs-identifier hs-var">id_char</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2668"></span><span>                      </span><span class="annot"><span class="annottext">FastString -&gt; ReadP FastString
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680975004"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680975002"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2669"></span><span>
</span><span id="line-2670"></span><span>
</span><span id="line-2671"></span><span class="hs-comment">-- construct a foreign export declaration</span><span>
</span><span id="line-2672"></span><span class="hs-comment">--</span><span>
</span><span id="line-2673"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-type">mkExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-2674"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2675"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2676"></span><span id="mkExport"><span class="annot"><span class="annottext">mkExport :: Located CCallConv
-&gt; (Located StringLiteral, Located RdrName, LHsSigType GhcPs)
-&gt; P (HsDecl GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkExport"><span class="hs-identifier hs-var hs-var">mkExport</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680975000"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975000"><span class="hs-identifier hs-var">lc</span></a></span></span><span> </span><span id="local-6989586621680974999"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621680974999"><span class="hs-identifier hs-var">cconv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680974998"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974998"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span> </span><span id="local-6989586621680974997"><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680974997"><span class="hs-identifier hs-var">esrc</span></a></span></span><span> </span><span id="local-6989586621680974996"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680974996"><span class="hs-identifier hs-var">entity</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680974995"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974995"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680974994"><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621680974994"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2677"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl GhcPs -&gt; P (HsDecl GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDecl GhcPs -&gt; P (HsDecl GhcPs))
-&gt; HsDecl GhcPs -&gt; P (HsDecl GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XForD GhcPs -&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="GHC.Hs.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XForD GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignDecl GhcPs -&gt; HsDecl GhcPs)
-&gt; ForeignDecl GhcPs -&gt; HsDecl GhcPs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2678"></span><span>   </span><span class="annot"><span class="annottext">ForeignExport :: forall pass.
XForeignExport pass
-&gt; Located (IdP pass)
-&gt; LHsSigType pass
-&gt; ForeignExport
-&gt; ForeignDecl pass
</span><a href="GHC.Hs.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_e_ext :: XForeignExport GhcPs
</span><a href="GHC.Hs.Decls.html#fd_e_ext"><span class="hs-identifier hs-var">fd_e_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoExtField
XForeignExport GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_name :: Located (IdP GhcPs)
</span><a href="GHC.Hs.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680974995"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: LHsSigType GhcPs
</span><a href="GHC.Hs.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcPs
</span><a href="#local-6989586621680974994"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2679"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fe :: ForeignExport
</span><a href="GHC.Hs.Decls.html#fd_fe"><span class="hs-identifier hs-var">fd_fe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located CExportSpec -&gt; Located SourceText -&gt; ForeignExport
</span><a href="GHC.Hs.Decls.html#CExport"><span class="hs-identifier hs-var">CExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; CExportSpec -&gt; Located CExportSpec
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680975000"><span class="hs-identifier hs-var">lc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceText -&gt; FastString -&gt; CCallConv -&gt; CExportSpec
</span><a href="GHC.Types.ForeignCall.html#CExportStatic"><span class="hs-identifier hs-var">CExportStatic</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680974997"><span class="hs-identifier hs-var">esrc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680974988"><span class="hs-identifier hs-var">entity'</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621680974999"><span class="hs-identifier hs-var">cconv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2680"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SourceText -&gt; Located SourceText
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974998"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><a href="#local-6989586621680974997"><span class="hs-identifier hs-var">esrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2681"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2682"></span><span>    </span><span id="local-6989586621680974988"><span class="annot"><span class="annottext">entity' :: FastString
</span><a href="#local-6989586621680974988"><span class="hs-identifier hs-var hs-var">entity'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Data.FastString.html#nullFS"><span class="hs-identifier hs-var">nullFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680974996"><span class="hs-identifier hs-var">entity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var">mkExtName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974995"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2683"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621680974996"><span class="hs-identifier hs-var">entity</span></a></span><span>
</span><span id="line-2684"></span><span>
</span><span id="line-2685"></span><span class="hs-comment">-- Supplying the ext_name in a foreign decl is optional; if it</span><span>
</span><span id="line-2686"></span><span class="hs-comment">-- isn't there, the Haskell name is assumed. Note that no transformation</span><span>
</span><span id="line-2687"></span><span class="hs-comment">-- of the Haskell name is then performed, so if you foreign export (++),</span><span>
</span><span id="line-2688"></span><span class="hs-comment">-- it's external name will be &quot;++&quot;. Too bad; it's important because we don't</span><span>
</span><span id="line-2689"></span><span class="hs-comment">-- want z-encoding (e.g. names with z's in them shouldn't be doubled)</span><span>
</span><span id="line-2690"></span><span class="hs-comment">--</span><span>
</span><span id="line-2691"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-type">mkExtName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CLabelString"><span class="hs-identifier hs-type">CLabelString</span></a></span><span>
</span><span id="line-2692"></span><span id="mkExtName"><span class="annot"><span class="annottext">mkExtName :: RdrName -&gt; FastString
</span><a href="GHC.Parser.PostProcess.html#mkExtName"><span class="hs-identifier hs-var hs-var">mkExtName</span></a></span></span><span> </span><span id="local-6989586621680974986"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974986"><span class="hs-identifier hs-var">rdrNm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; String
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974986"><span class="hs-identifier hs-var">rdrNm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2693"></span><span>
</span><span id="line-2694"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-2695"></span><span class="hs-comment">-- Help with module system imports/exports</span><span>
</span><span id="line-2696"></span><span>
</span><span id="line-2697"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpSubSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-var">ImpExpSubSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpAbs"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span></span><span>
</span><span id="line-2698"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAll"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span></span><span>
</span><span id="line-2699"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpList"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2700"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpAllWith"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2701"></span><span>
</span><span id="line-2702"></span><span class="hs-keyword">data</span><span> </span><span id="ImpExpQcSpec"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-var">ImpExpQcSpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ImpExpQcName"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-var">ImpExpQcName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2703"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcType"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-var">ImpExpQcType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2704"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="ImpExpQcWildcard"><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span></span><span>
</span><span id="line-2705"></span><span>
</span><span id="line-2706"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-type">mkModuleImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IE"><span class="hs-identifier hs-type">IE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2707"></span><span id="mkModuleImpExp"><span class="annot"><span class="annottext">mkModuleImpExp :: Located ImpExpQcSpec -&gt; ImpExpSubSpec -&gt; P (IE GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkModuleImpExp"><span class="hs-identifier hs-var hs-var">mkModuleImpExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680974978"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680974977"><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621680974977"><span class="hs-identifier hs-var">specname</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680974976"><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621680974976"><span class="hs-identifier hs-var">subs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2708"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="#local-6989586621680974976"><span class="hs-identifier hs-var">subs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2709"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAbs"><span class="hs-identifier hs-var">ImpExpAbs</span></a></span><span>
</span><span id="line-2710"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2711"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IE GhcPs -&gt; P (IE GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IE GhcPs -&gt; P (IE GhcPs)) -&gt; IE GhcPs -&gt; P (IE GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">XIEVar GhcPs -&gt; LIEWrappedName (IdP GhcPs) -&gt; IE GhcPs
forall pass. XIEVar pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEVar"><span class="hs-identifier hs-var">IEVar</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XIEVar GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; IEWrappedName RdrName
-&gt; GenLocated SrcSpan (IEWrappedName RdrName)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621680974971"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621680974977"><span class="hs-identifier hs-var">specname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2712"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingAbs GhcPs -&gt; LIEWrappedName (IdP GhcPs) -&gt; IE GhcPs
forall pass.
XIEThingAbs pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingAbs"><span class="hs-identifier hs-var">IEThingAbs</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XIEThingAbs GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpan (IEWrappedName RdrName) -&gt; IE GhcPs)
-&gt; (IEWrappedName RdrName
    -&gt; GenLocated SrcSpan (IEWrappedName RdrName))
-&gt; IEWrappedName RdrName
-&gt; IE GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; IEWrappedName RdrName
-&gt; GenLocated SrcSpan (IEWrappedName RdrName)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName RdrName -&gt; IE GhcPs)
-&gt; P (IEWrappedName RdrName) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621680974969"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2713"></span><span>    </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingAll GhcPs -&gt; LIEWrappedName (IdP GhcPs) -&gt; IE GhcPs
forall pass.
XIEThingAll pass -&gt; LIEWrappedName (IdP pass) -&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingAll"><span class="hs-identifier hs-var">IEThingAll</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XIEThingAll GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpan (IEWrappedName RdrName) -&gt; IE GhcPs)
-&gt; (IEWrappedName RdrName
    -&gt; GenLocated SrcSpan (IEWrappedName RdrName))
-&gt; IEWrappedName RdrName
-&gt; IE GhcPs
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
-&gt; IEWrappedName RdrName
-&gt; GenLocated SrcSpan (IEWrappedName RdrName)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName RdrName -&gt; IE GhcPs)
-&gt; P (IEWrappedName RdrName) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621680974969"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2714"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-type">ImpExpList</span></a></span><span> </span><span id="local-6989586621680974967"><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974967"><span class="hs-identifier hs-var">xs</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2715"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680974966"><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621680974966"><span class="hs-identifier hs-var">newName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
-&gt; LIEWrappedName (IdP GhcPs)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP GhcPs)]
-&gt; [Located (FieldLbl (IdP GhcPs))]
-&gt; IE GhcPs
forall pass.
XIEThingWith pass
-&gt; LIEWrappedName (IdP pass)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP pass)]
-&gt; [Located (FieldLbl (IdP pass))]
-&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XIEThingWith GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; IEWrappedName RdrName
-&gt; GenLocated SrcSpan (IEWrappedName RdrName)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621680974966"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2716"></span><span>        </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="GHC.Hs.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
-&gt; [GenLocated SrcSpan (IEWrappedName RdrName)]
forall {l}.
[GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621680974963"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974967"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IEWrappedName RdrName -&gt; IE GhcPs)
-&gt; P (IEWrappedName RdrName) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621680974969"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2717"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-type">ImpExpAllWith</span></a></span><span> </span><span id="local-6989586621680974962"><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974962"><span class="hs-identifier hs-var">xs</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2718"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680974961"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974961"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#PatternSynonymsBit"><span class="hs-identifier hs-var">PatternSynonymsBit</span></a></span><span>
</span><span id="line-2719"></span><span>         </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974961"><span class="hs-identifier hs-var">allowed</span></a></span><span>
</span><span id="line-2720"></span><span>          </span><span class="hs-keyword">then</span><span>
</span><span id="line-2721"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974959"><span class="annot"><span class="annottext">withs :: [ImpExpQcSpec]
</span><a href="#local-6989586621680974959"><span class="hs-identifier hs-var hs-var">withs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Located ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; [Located ImpExpQcSpec] -&gt; [ImpExpQcSpec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974962"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2722"></span><span>                </span><span id="local-6989586621680974958"><span class="annot"><span class="annottext">pos :: IEWildcard
</span><a href="#local-6989586621680974958"><span class="hs-identifier hs-var hs-var">pos</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IEWildcard -&gt; (Int -&gt; IEWildcard) -&gt; Maybe Int -&gt; IEWildcard
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="GHC.Hs.ImpExp.html#NoIEWildcard"><span class="hs-identifier hs-var">NoIEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IEWildcard
</span><a href="GHC.Hs.ImpExp.html#IEWildcard"><span class="hs-identifier hs-var">IEWildcard</span></a></span><span>
</span><span id="line-2723"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool) -&gt; [ImpExpQcSpec] -&gt; Maybe Int
forall a. (a -&gt; Bool) -&gt; [a] -&gt; Maybe Int
</span><a href="../../base/src/Data.OldList.html#findIndex"><span class="hs-identifier hs-var">findIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">[ImpExpQcSpec]
</span><a href="#local-6989586621680974959"><span class="hs-identifier hs-var">withs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2724"></span><span>                </span><span id="local-6989586621680974954"><span class="annot"><span class="annottext">ies :: [GenLocated SrcSpan (IEWrappedName RdrName)]
</span><a href="#local-6989586621680974954"><span class="hs-identifier hs-var hs-var">ies</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
-&gt; [GenLocated SrcSpan (IEWrappedName RdrName)]
forall {l}.
[GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621680974963"><span class="hs-identifier hs-var">wrapped</span></a></span><span> </span><span class="annot"><span class="annottext">([Located ImpExpQcSpec]
 -&gt; [GenLocated SrcSpan (IEWrappedName RdrName)])
-&gt; [Located ImpExpQcSpec]
-&gt; [GenLocated SrcSpan (IEWrappedName RdrName)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Located ImpExpQcSpec -&gt; Bool)
-&gt; [Located ImpExpQcSpec] -&gt; [Located ImpExpQcSpec]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; (Located ImpExpQcSpec -&gt; Bool) -&gt; Located ImpExpQcSpec -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool)
-&gt; (Located ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; Located ImpExpQcSpec
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Located ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974962"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-2725"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680974953"><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621680974953"><span class="hs-identifier hs-var">newName</span></a></span></span><span>
</span><span id="line-2726"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
-&gt; LIEWrappedName (IdP GhcPs)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP GhcPs)]
-&gt; [Located (FieldLbl (IdP GhcPs))]
-&gt; IE GhcPs
forall pass.
XIEThingWith pass
-&gt; LIEWrappedName (IdP pass)
-&gt; IEWildcard
-&gt; [LIEWrappedName (IdP pass)]
-&gt; [Located (FieldLbl (IdP pass))]
-&gt; IE pass
</span><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-var">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XIEThingWith GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; IEWrappedName RdrName
-&gt; GenLocated SrcSpan (IEWrappedName RdrName)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IEWrappedName RdrName
</span><a href="#local-6989586621680974953"><span class="hs-identifier hs-var">newName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><a href="#local-6989586621680974958"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan (IEWrappedName RdrName)]
[LIEWrappedName (IdP GhcPs)]
</span><a href="#local-6989586621680974954"><span class="hs-identifier hs-var">ies</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2727"></span><span>               </span><span class="annot"><span class="annottext">(IEWrappedName RdrName -&gt; IE GhcPs)
-&gt; P (IEWrappedName RdrName) -&gt; P (IE GhcPs)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">P (IEWrappedName RdrName)
</span><a href="#local-6989586621680974969"><span class="hs-identifier hs-var">nameT</span></a></span><span>
</span><span id="line-2728"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (IE GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2729"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal export form (use PatternSynonyms to enable)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2730"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2731"></span><span>    </span><span id="local-6989586621680974973"><span class="annot"><span class="annottext">name :: RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621680974952"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621680974977"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2732"></span><span>    </span><span id="local-6989586621680974969"><span class="annot"><span class="annottext">nameT :: P (IEWrappedName RdrName)
</span><a href="#local-6989586621680974969"><span class="hs-identifier hs-var hs-var">nameT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2733"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace
</span><a href="GHC.Types.Name.Reader.html#rdrNameSpace"><span class="hs-identifier hs-var">rdrNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2734"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P (IEWrappedName RdrName)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974978"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2735"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expecting a type constructor but found a variable,&quot;</span></span><span>
</span><span id="line-2736"></span><span>               </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-2737"></span><span>              </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; Bool) -&gt; OccName -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; OccName
</span><a href="GHC.Types.Name.Reader.html#rdrNameOcc"><span class="hs-identifier hs-var">rdrNameOcc</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-2738"></span><span>                   </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;If&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974973"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2739"></span><span>                        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is a type constructor&quot;</span></span><span>
</span><span id="line-2740"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;then enable ExplicitNamespaces and use the 'type' keyword.&quot;</span></span><span>
</span><span id="line-2741"></span><span>                   </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2742"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">IEWrappedName RdrName -&gt; P (IEWrappedName RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(IEWrappedName RdrName -&gt; P (IEWrappedName RdrName))
-&gt; IEWrappedName RdrName -&gt; P (IEWrappedName RdrName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621680974971"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="#local-6989586621680974977"><span class="hs-identifier hs-var">specname</span></a></span><span>
</span><span id="line-2743"></span><span>
</span><span id="line-2744"></span><span>    </span><span id="local-6989586621680974952"><span class="annot"><span class="annottext">ieNameVal :: ImpExpQcSpec -&gt; RdrName
</span><a href="#local-6989586621680974952"><span class="hs-identifier hs-var hs-var">ieNameVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span> </span><span id="local-6989586621680974950"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974950"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974950"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2745"></span><span>    </span><span class="annot"><a href="#local-6989586621680974952"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span id="local-6989586621680974949"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974949"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; RdrName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974949"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2746"></span><span>    </span><span class="annot"><a href="#local-6989586621680974952"><span class="hs-identifier hs-var">ieNameVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; RdrName
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieNameVal got wildcard&quot;</span></span><span>
</span><span id="line-2747"></span><span>
</span><span id="line-2748"></span><span>    </span><span id="local-6989586621680974971"><span class="annot"><span class="annottext">ieNameFromSpec :: ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621680974971"><span class="hs-identifier hs-var hs-var">ieNameFromSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcName"><span class="hs-identifier hs-type">ImpExpQcName</span></a></span><span> </span><span id="local-6989586621680974948"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974948"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; IEWrappedName RdrName
forall name. Located name -&gt; IEWrappedName name
</span><a href="GHC.Hs.ImpExp.html#IEName"><span class="hs-identifier hs-var">IEName</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974948"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2749"></span><span>    </span><span class="annot"><a href="#local-6989586621680974971"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcType"><span class="hs-identifier hs-type">ImpExpQcType</span></a></span><span> </span><span id="local-6989586621680974946"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974946"><span class="hs-identifier hs-var">ln</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; IEWrappedName RdrName
forall name. Located name -&gt; IEWrappedName name
</span><a href="GHC.Hs.ImpExp.html#IEType"><span class="hs-identifier hs-var">IEType</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974946"><span class="hs-identifier hs-var">ln</span></a></span><span>
</span><span id="line-2750"></span><span>    </span><span class="annot"><a href="#local-6989586621680974971"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IEWrappedName RdrName
forall a. String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ieName got wildcard&quot;</span></span><span>
</span><span id="line-2751"></span><span>
</span><span id="line-2752"></span><span>    </span><span id="local-6989586621680974963"><span class="annot"><span class="annottext">wrapped :: [GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
</span><a href="#local-6989586621680974963"><span class="hs-identifier hs-var hs-var">wrapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated l ImpExpQcSpec -&gt; GenLocated l (IEWrappedName RdrName))
-&gt; [GenLocated l ImpExpQcSpec]
-&gt; [GenLocated l (IEWrappedName RdrName)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; IEWrappedName RdrName)
-&gt; GenLocated l ImpExpQcSpec
-&gt; GenLocated l (IEWrappedName RdrName)
forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; IEWrappedName RdrName
</span><a href="#local-6989586621680974971"><span class="hs-identifier hs-var">ieNameFromSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2753"></span><span>
</span><span id="line-2754"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-type">mkTypeImpExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span>   </span><span class="hs-comment">-- TcCls or Var name space</span><span>
</span><span id="line-2755"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2756"></span><span id="mkTypeImpExp"><span class="annot"><span class="annottext">mkTypeImpExp :: Located RdrName -&gt; P (Located RdrName)
</span><a href="GHC.Parser.PostProcess.html#mkTypeImpExp"><span class="hs-identifier hs-var hs-var">mkTypeImpExp</span></a></span></span><span> </span><span id="local-6989586621680974944"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974944"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2757"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680974943"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974943"><span class="hs-identifier hs-var">allowed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#ExplicitNamespacesBit"><span class="hs-identifier hs-var">ExplicitNamespacesBit</span></a></span><span>
</span><span id="line-2758"></span><span>     </span><span class="annot"><span class="annottext">Bool -&gt; P () -&gt; P ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974943"><span class="hs-identifier hs-var">allowed</span></a></span><span> </span><span class="annot"><span class="annottext">(P () -&gt; P ()) -&gt; P () -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974944"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; P ()) -&gt; SDoc -&gt; P ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2759"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal keyword 'type' (use ExplicitNamespaces to enable)&quot;</span></span><span>
</span><span id="line-2760"></span><span>     </span><span class="annot"><span class="annottext">Located RdrName -&gt; P (Located RdrName)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RdrName -&gt; RdrName) -&gt; Located RdrName -&gt; Located RdrName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RdrName -&gt; NameSpace -&gt; RdrName
</span><a href="GHC.Parser.PostProcess.html#setRdrNameSpace"><span class="hs-operator hs-var">`setRdrNameSpace`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974944"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2761"></span><span>
</span><span id="line-2762"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-type">checkImportSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2763"></span><span id="checkImportSpec"><span class="annot"><span class="annottext">checkImportSpec :: Located [LIE GhcPs] -&gt; P (Located [LIE GhcPs])
</span><a href="GHC.Parser.PostProcess.html#checkImportSpec"><span class="hs-identifier hs-var hs-var">checkImportSpec</span></a></span></span><span> </span><span id="local-6989586621680974941"><span class="annot"><span class="annottext">ie :: Located [LIE GhcPs]
</span><a href="#local-6989586621680974941"><span class="hs-identifier hs-var">ie</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680974940"><span class="annot"><span class="annottext">[LIE GhcPs]
</span><a href="#local-6989586621680974940"><span class="hs-identifier hs-var">specs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2764"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974939"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680974939"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974939"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IEThingWith"><span class="hs-identifier hs-type">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (IdP GhcPs)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.ImpExp.html#IEWildcard"><span class="hs-identifier hs-type">IEWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIEWrappedName (IdP GhcPs)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Located (FieldLbl (IdP GhcPs))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LIE GhcPs]
</span><a href="#local-6989586621680974940"><span class="hs-identifier hs-var">specs</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2765"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Located [LIE GhcPs] -&gt; P (Located [LIE GhcPs])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Located [LIE GhcPs]
</span><a href="#local-6989586621680974941"><span class="hs-identifier hs-var">ie</span></a></span><span>
</span><span id="line-2766"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680974938"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974938"><span class="hs-identifier hs-var">l</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[SrcSpan]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; P (Located [LIE GhcPs])
forall {m :: * -&gt; *} {a}. MonadP m =&gt; SrcSpan -&gt; m a
</span><a href="#local-6989586621680974937"><span class="hs-identifier hs-var">importSpecError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974938"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2767"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2768"></span><span>    </span><span id="local-6989586621680974937"><span class="annot"><span class="annottext">importSpecError :: SrcSpan -&gt; m a
</span><a href="#local-6989586621680974937"><span class="hs-identifier hs-var hs-var">importSpecError</span></a></span></span><span> </span><span id="local-6989586621680974934"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974934"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2769"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; m a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974934"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2770"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal import form, this syntax can only be used to bundle&quot;</span></span><span>
</span><span id="line-2771"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%2B%24"><span class="hs-operator hs-var">$+$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern synonyms with types in module exports.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2772"></span><span>
</span><span id="line-2773"></span><span class="hs-comment">-- In the correct order</span><span>
</span><span id="line-2774"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-type">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpSubSpec"><span class="hs-identifier hs-type">ImpExpSubSpec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2775"></span><span id="mkImpExpSubSpec"><span class="annot"><span class="annottext">mkImpExpSubSpec :: [Located ImpExpQcSpec] -&gt; P ([AddAnn], ImpExpSubSpec)
</span><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var hs-var">mkImpExpSubSpec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2776"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2777"></span><span>  </span><span class="annot"><span class="annottext">([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAll"><span class="hs-identifier hs-var">ImpExpAll</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2778"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkImpExpSubSpec"><span class="hs-identifier hs-var">mkImpExpSubSpec</span></a></span><span> </span><span id="local-6989586621680974932"><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974932"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2779"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located ImpExpQcSpec -&gt; Bool) -&gt; [Located ImpExpQcSpec] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">(ImpExpQcSpec -&gt; Bool)
-&gt; (Located ImpExpQcSpec -&gt; ImpExpQcSpec)
-&gt; Located ImpExpQcSpec
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Located ImpExpQcSpec -&gt; ImpExpQcSpec
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974932"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2780"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec))
-&gt; ([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpAllWith"><span class="hs-identifier hs-var">ImpExpAllWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974932"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2781"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec))
-&gt; ([AddAnn], ImpExpSubSpec) -&gt; P ([AddAnn], ImpExpSubSpec)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec] -&gt; ImpExpSubSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpList"><span class="hs-identifier hs-var">ImpExpList</span></a></span><span> </span><span class="annot"><span class="annottext">[Located ImpExpQcSpec]
</span><a href="#local-6989586621680974932"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2782"></span><span>
</span><span id="line-2783"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-type">isImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#ImpExpQcSpec"><span class="hs-identifier hs-type">ImpExpQcSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2784"></span><span id="isImpExpQcWildcard"><span class="annot"><span class="annottext">isImpExpQcWildcard :: ImpExpQcSpec -&gt; Bool
</span><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var hs-var">isImpExpQcWildcard</span></a></span></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><a href="GHC.Parser.PostProcess.html#ImpExpQcWildcard"><span class="hs-identifier hs-var">ImpExpQcWildcard</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2785"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#isImpExpQcWildcard"><span class="hs-identifier hs-var">isImpExpQcWildcard</span></a></span><span> </span><span class="annot"><span class="annottext">ImpExpQcSpec
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2786"></span><span>
</span><span id="line-2787"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2788"></span><span class="hs-comment">-- Warnings and failures</span><span>
</span><span id="line-2789"></span><span>
</span><span id="line-2790"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-type">warnPrepositiveQualifiedModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2791"></span><span id="warnPrepositiveQualifiedModule"><span class="annot"><span class="annottext">warnPrepositiveQualifiedModule :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnPrepositiveQualifiedModule"><span class="hs-identifier hs-var hs-var">warnPrepositiveQualifiedModule</span></a></span></span><span> </span><span id="local-6989586621680974931"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974931"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2792"></span><span>  </span><span class="annot"><span class="annottext">WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *).
MonadP m =&gt;
WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnPrepositiveQualifiedModule"><span class="hs-identifier hs-var">Opt_WarnPrepositiveQualifiedModule</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974931"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974928"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-2793"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2794"></span><span>    </span><span id="local-6989586621680974928"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974928"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;qualified&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2795"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in prepositive position&quot;</span></span><span>
</span><span id="line-2796"></span><span>       </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Suggested fix: place &quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;qualified&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2797"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;after the module name instead.&quot;</span></span><span>
</span><span id="line-2798"></span><span>
</span><span id="line-2799"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-type">failOpNotEnabledImportQualifiedPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2800"></span><span id="failOpNotEnabledImportQualifiedPost"><span class="annot"><span class="annottext">failOpNotEnabledImportQualifiedPost :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpNotEnabledImportQualifiedPost"><span class="hs-identifier hs-var hs-var">failOpNotEnabledImportQualifiedPost</span></a></span></span><span> </span><span id="local-6989586621680974927"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974927"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974927"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974926"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-2801"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2802"></span><span>    </span><span id="local-6989586621680974926"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974926"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;qualified&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2803"></span><span>          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in postpositive position. &quot;</span></span><span>
</span><span id="line-2804"></span><span>      </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To allow this, enable language extension 'ImportQualifiedPost'&quot;</span></span><span>
</span><span id="line-2805"></span><span>
</span><span id="line-2806"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-type">failOpImportQualifiedTwice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2807"></span><span id="failOpImportQualifiedTwice"><span class="annot"><span class="annottext">failOpImportQualifiedTwice :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#failOpImportQualifiedTwice"><span class="hs-identifier hs-var hs-var">failOpImportQualifiedTwice</span></a></span></span><span> </span><span id="local-6989586621680974925"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974925"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974925"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974924"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-2808"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2809"></span><span>    </span><span id="local-6989586621680974924"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974924"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Multiple occurrences of 'qualified'&quot;</span></span><span>
</span><span id="line-2810"></span><span>
</span><span id="line-2811"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-type">warnStarIsType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2812"></span><span id="warnStarIsType"><span class="annot"><span class="annottext">warnStarIsType :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnStarIsType"><span class="hs-identifier hs-var hs-var">warnStarIsType</span></a></span></span><span> </span><span id="local-6989586621680974923"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974923"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *).
MonadP m =&gt;
WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnStarIsType"><span class="hs-identifier hs-var">Opt_WarnStarIsType</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974923"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974921"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-2813"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2814"></span><span>    </span><span id="local-6989586621680974921"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974921"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Using&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2815"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(or its Unicode variant) to mean&quot;</span></span><span>
</span><span id="line-2816"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Kind.Type&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2817"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;relies on the StarIsType extension, which will become&quot;</span></span><span>
</span><span id="line-2818"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;deprecated in the future.&quot;</span></span><span>
</span><span id="line-2819"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Suggested fix: use&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2820"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;from&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data.Kind&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;instead.&quot;</span></span><span>
</span><span id="line-2821"></span><span>
</span><span id="line-2822"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#warnStarBndr"><span class="hs-identifier hs-type">warnStarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2823"></span><span id="warnStarBndr"><span class="annot"><span class="annottext">warnStarBndr :: SrcSpan -&gt; P ()
</span><a href="GHC.Parser.PostProcess.html#warnStarBndr"><span class="hs-identifier hs-var hs-var">warnStarBndr</span></a></span></span><span> </span><span id="local-6989586621680974920"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974920"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; P ()
forall (m :: * -&gt; *).
MonadP m =&gt;
WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addWarning"><span class="hs-identifier hs-var">addWarning</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="GHC.Driver.Flags.html#Opt_WarnStarBinder"><span class="hs-identifier hs-var">Opt_WarnStarBinder</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974920"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974918"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-2824"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2825"></span><span>    </span><span id="local-6989586621680974918"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974918"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found binding occurrence of&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-2826"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;yet StarIsType is enabled.&quot;</span></span><span>
</span><span id="line-2827"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NB. To use (or export) this operator in&quot;</span></span><span>
</span><span id="line-2828"></span><span>           </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modules with StarIsType,&quot;</span></span><span>
</span><span id="line-2829"></span><span>        </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;    including the definition module, you must qualify it.&quot;</span></span><span>
</span><span id="line-2830"></span><span>
</span><span id="line-2831"></span><span id="local-6989586621680977890"><span class="annot"><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-type">failOpFewArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977890"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2832"></span><span id="failOpFewArgs"><span class="annot"><span class="annottext">failOpFewArgs :: forall a. Located RdrName -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#failOpFewArgs"><span class="hs-identifier hs-var hs-var">failOpFewArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680974913"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974913"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680974912"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974912"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2833"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680974911"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974911"><span class="hs-identifier hs-var">star_is_type</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; P Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#StarIsTypeBit"><span class="hs-identifier hs-var">StarIsTypeBit</span></a></span><span>
</span><span id="line-2834"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974909"><span class="annot"><span class="annottext">msg :: SDoc
</span><a href="#local-6989586621680974909"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974908"><span class="hs-identifier hs-var">too_few</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; RdrName -&gt; SDoc
</span><a href="GHC.Types.Name.Reader.html#starInfo"><span class="hs-identifier hs-var">starInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974911"><span class="hs-identifier hs-var">star_is_type</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974912"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-2835"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; P a
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974913"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974909"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2836"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2837"></span><span>    </span><span id="local-6989586621680974908"><span class="annot"><span class="annottext">too_few :: SDoc
</span><a href="#local-6989586621680974908"><span class="hs-identifier hs-var hs-var">too_few</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Operator applied to too few arguments:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621680974912"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-2838"></span><span>
</span><span id="line-2839"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2840"></span><span class="hs-comment">-- Misc utils</span><span>
</span><span id="line-2841"></span><span>
</span><span id="line-2842"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2843"></span><span>  </span><span id="PV_Context"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-var">PV_Context</span></a></span></span><span>
</span><span id="line-2844"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_options"><span class="annot"><span class="annottext">PV_Context -&gt; ParserFlags
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var hs-var">pv_options</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#ParserFlags"><span class="hs-identifier hs-type">ParserFlags</span></a></span><span>
</span><span id="line-2845"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_hint"><span class="annot"><span class="annottext">PV_Context -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pv_hint"><span class="hs-identifier hs-var hs-var">pv_hint</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>  </span><span class="hs-comment">-- See Note [Parser-Validator Hint]</span><span>
</span><span id="line-2846"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2847"></span><span>
</span><span id="line-2848"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2849"></span><span>  </span><span id="PV_Accum"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-var">PV_Accum</span></a></span></span><span>
</span><span id="line-2850"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="pv_messages"><span class="annot"><span class="annottext">PV_Accum -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var hs-var">pv_messages</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span>
</span><span id="line-2851"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_annotations"><span class="annot"><span class="annottext">PV_Accum -&gt; [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations"><span class="hs-identifier hs-var hs-var">pv_annotations</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#ApiAnnKey"><span class="hs-identifier hs-type">ApiAnnKey</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2852"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_comment_q"><span class="annot"><span class="annottext">PV_Accum -&gt; [RealLocated AnnotationComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var hs-var">pv_comment_q</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealLocated"><span class="hs-identifier hs-type">RealLocated</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnotationComment"><span class="hs-identifier hs-type">AnnotationComment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2853"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="pv_annotations_comments"><span class="annot"><span class="annottext">PV_Accum -&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations_comments"><span class="hs-identifier hs-var hs-var">pv_annotations_comments</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealLocated"><span class="hs-identifier hs-type">RealLocated</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AnnotationComment"><span class="hs-identifier hs-type">AnnotationComment</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2854"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2855"></span><span>
</span><span id="line-2856"></span><span class="hs-keyword">data</span><span> </span><span id="PV_Result"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-var">PV_Result</span></a></span></span><span> </span><span id="local-6989586621680977696"><span class="annot"><a href="#local-6989586621680977696"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV_Ok"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977696"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PV_Failed"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2857"></span><span>
</span><span id="line-2858"></span><span class="hs-comment">-- See Note [Parser-Validator]</span><span>
</span><span id="line-2859"></span><span class="hs-keyword">newtype</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span id="local-6989586621680977718"><span class="annot"><a href="#local-6989586621680977718"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PV"><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unPV"><span class="annot"><span class="annottext">forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Result"><span class="hs-identifier hs-type">PV_Result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977718"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2860"></span><span>
</span><span id="line-2861"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680974892"><span class="annot"><a href="../../base/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2862"></span><span>  </span><span id="local-6989586621680974889"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; PV a -&gt; PV b
</span><a href="../../base/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; PV a -&gt; PV b
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../../base/src/GHC.Base.html#liftM"><span class="hs-identifier hs-var">liftM</span></a></span><span>
</span><span id="line-2863"></span><span>
</span><span id="line-2864"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680974878"><span id="local-6989586621680974880"><span id="local-6989586621680974882"><span class="annot"><a href="../../base/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2865"></span><span>  </span><span id="local-6989586621680974876"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; PV a
</span><a href="../../base/src/GHC.Base.html#pure"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621680974875"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974875"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974875"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; PV a -&gt; PV a
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680974874"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974874"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; a -&gt; PV_Result a
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974874"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974875"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2866"></span><span>  </span><span id="local-6989586621680974872"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. PV (a -&gt; b) -&gt; PV a -&gt; PV b
</span><a href="../../base/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV (a -&gt; b) -&gt; PV a -&gt; PV b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><a href="../../base/src/GHC.Base.html#ap"><span class="hs-identifier hs-var">ap</span></a></span><span>
</span><span id="line-2867"></span><span>
</span><span id="line-2868"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680974864"><span id="local-6989586621680974866"><span class="annot"><a href="../../base/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2869"></span><span>  </span><span id="local-6989586621680974862"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974862"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680974861"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. PV a -&gt; (a -&gt; PV b) -&gt; PV b
</span><a href="../../base/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></a></span></span><span> </span><span id="local-6989586621680974860"><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621680974860"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result b) -&gt; PV b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680974859"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974859"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621680974858"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974858"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2870"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974862"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974859"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974858"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2871"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621680974857"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974857"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621680974856"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974856"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV b -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result b
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; PV b
</span><a href="#local-6989586621680974860"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974856"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974859"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974857"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2872"></span><span>      </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621680974855"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974855"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; PV_Result b
forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974855"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2873"></span><span>
</span><span id="line-2874"></span><span id="local-6989586621680977949"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-type">runPV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977949"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977949"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2875"></span><span id="runPV"><span class="annot"><span class="annottext">runPV :: forall a. PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV"><span class="hs-identifier hs-var hs-var">runPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; PV a -&gt; P a
forall a. SDoc -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_msg"><span class="hs-identifier hs-var">runPV_msg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-2876"></span><span>
</span><span id="line-2877"></span><span id="local-6989586621680977948"><span class="annot"><a href="GHC.Parser.PostProcess.html#runPV_msg"><span class="hs-identifier hs-type">runPV_msg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977948"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-type">P</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977948"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2878"></span><span id="runPV_msg"><span class="annot"><span class="annottext">runPV_msg :: forall a. SDoc -&gt; PV a -&gt; P a
</span><a href="GHC.Parser.PostProcess.html#runPV_msg"><span class="hs-identifier hs-var hs-var">runPV_msg</span></a></span></span><span> </span><span id="local-6989586621680974854"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974854"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621680974853"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974853"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2879"></span><span>  </span><span class="annot"><span class="annottext">(PState -&gt; ParseResult a) -&gt; P a
forall a. (PState -&gt; ParseResult a) -&gt; P a
</span><a href="GHC.Parser.Lexer.html#P"><span class="hs-identifier hs-var">P</span></a></span><span> </span><span class="annot"><span class="annottext">((PState -&gt; ParseResult a) -&gt; P a)
-&gt; (PState -&gt; ParseResult a) -&gt; P a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680974851"><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2880"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-2881"></span><span>      </span><span id="local-6989586621680974850"><span class="annot"><span class="annottext">pv_ctx :: PV_Context
</span><a href="#local-6989586621680974850"><span class="hs-identifier hs-var hs-var">pv_ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Context :: ParserFlags -&gt; SDoc -&gt; PV_Context
</span><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span>
</span><span id="line-2882"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_options :: ParserFlags
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParserFlags
</span><a href="GHC.Parser.Lexer.html#options"><span class="hs-identifier hs-var hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2883"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_hint :: SDoc
</span><a href="GHC.Parser.PostProcess.html#pv_hint"><span class="hs-identifier hs-var">pv_hint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974854"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2884"></span><span>      </span><span id="local-6989586621680974848"><span class="annot"><span class="annottext">pv_acc :: PV_Accum
</span><a href="#local-6989586621680974848"><span class="hs-identifier hs-var hs-var">pv_acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum :: (DynFlags -&gt; Messages)
-&gt; [(ApiAnnKey, [RealSrcSpan])]
-&gt; [RealLocated AnnotationComment]
-&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
-&gt; PV_Accum
</span><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span>
</span><span id="line-2885"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_messages :: DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var">pv_messages</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.Lexer.html#messages"><span class="hs-identifier hs-var hs-var">messages</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2886"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_annotations :: [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations"><span class="hs-identifier hs-var">pv_annotations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.Lexer.html#annotations"><span class="hs-identifier hs-var hs-var">annotations</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2887"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_comment_q :: [RealLocated AnnotationComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; [RealLocated AnnotationComment]
</span><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var hs-var">comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2888"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_annotations_comments :: [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations_comments"><span class="hs-identifier hs-var">pv_annotations_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PState -&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.Lexer.html#annotations_comments"><span class="hs-identifier hs-var hs-var">annotations_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2889"></span><span>      </span><span id="local-6989586621680974843"><span class="annot"><span class="annottext">mkPState :: PV_Accum -&gt; PState
</span><a href="#local-6989586621680974843"><span class="hs-identifier hs-var hs-var">mkPState</span></a></span></span><span> </span><span id="local-6989586621680974842"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974842"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2890"></span><span>        </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621680974851"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">messages :: DynFlags -&gt; Messages
</span><a href="GHC.Parser.Lexer.html#messages"><span class="hs-identifier hs-var">messages</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var hs-var">pv_messages</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974842"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2891"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">annotations :: [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.Lexer.html#annotations"><span class="hs-identifier hs-var">annotations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations"><span class="hs-identifier hs-var hs-var">pv_annotations</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974842"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2892"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">comment_q :: [RealLocated AnnotationComment]
</span><a href="GHC.Parser.Lexer.html#comment_q"><span class="hs-identifier hs-var">comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [RealLocated AnnotationComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974842"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-2893"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">annotations_comments :: [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.Lexer.html#annotations_comments"><span class="hs-identifier hs-var">annotations_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations_comments"><span class="hs-identifier hs-var hs-var">pv_annotations_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974842"><span class="hs-identifier hs-var">acc'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2894"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-2895"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974853"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974850"><span class="hs-identifier hs-var">pv_ctx</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974848"><span class="hs-identifier hs-var">pv_acc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2896"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-type">PV_Ok</span></a></span><span> </span><span id="local-6989586621680974841"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974841"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span id="local-6989586621680974840"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974840"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState -&gt; a -&gt; ParseResult a
forall a. PState -&gt; a -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#POk"><span class="hs-identifier hs-var">POk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621680974843"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974841"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680974840"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2897"></span><span>        </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-type">PV_Failed</span></a></span><span> </span><span id="local-6989586621680974838"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974838"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParseResult a
forall a. PState -&gt; ParseResult a
</span><a href="GHC.Parser.Lexer.html#PFailed"><span class="hs-identifier hs-var">PFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; PState
</span><a href="#local-6989586621680974843"><span class="hs-identifier hs-var">mkPState</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974838"><span class="hs-identifier hs-var">acc'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2898"></span><span>
</span><span id="line-2899"></span><span id="local-6989586621680977943"><span class="annot"><a href="GHC.Parser.PostProcess.html#localPV_msg"><span class="hs-identifier hs-type">localPV_msg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977943"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977943"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2900"></span><span id="localPV_msg"><span class="annot"><span class="annottext">localPV_msg :: forall a. (SDoc -&gt; SDoc) -&gt; PV a -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#localPV_msg"><span class="hs-identifier hs-var hs-var">localPV_msg</span></a></span></span><span> </span><span id="local-6989586621680974836"><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="#local-6989586621680974836"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680974835"><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974835"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2901"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974834"><span class="annot"><span class="annottext">modifyHint :: PV_Context -&gt; PV_Context
</span><a href="#local-6989586621680974834"><span class="hs-identifier hs-var hs-var">modifyHint</span></a></span></span><span> </span><span id="local-6989586621680974833"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974833"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974833"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_hint :: SDoc
</span><a href="GHC.Parser.PostProcess.html#pv_hint"><span class="hs-identifier hs-var">pv_hint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="#local-6989586621680974836"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pv_hint"><span class="hs-identifier hs-var hs-var">pv_hint</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974833"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2902"></span><span>  </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680974832"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974832"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621680974831"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974831"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a. PV a -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#unPV"><span class="hs-identifier hs-var hs-var">unPV</span></a></span><span> </span><span class="annot"><span class="annottext">PV a
</span><a href="#local-6989586621680974835"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; PV_Context
</span><a href="#local-6989586621680974834"><span class="hs-identifier hs-var">modifyHint</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974832"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974831"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2903"></span><span>
</span><span id="line-2904"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#MonadP"><span class="hs-identifier hs-type">MonadP</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2905"></span><span>  </span><span id="local-6989586621680974822"><span class="annot"><span class="annottext">addError :: SrcSpan -&gt; SDoc -&gt; PV ()
</span><a href="#local-6989586621680974822"><span class="hs-identifier hs-var hs-var hs-var hs-var">addError</span></a></span></span><span> </span><span id="local-6989586621680974821"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974821"><span class="hs-identifier hs-var">srcspan</span></a></span></span><span> </span><span id="local-6989586621680974820"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974820"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2906"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ())
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680974819"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974819"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621680974818"><span class="annot"><span class="annottext">acc :: PV_Accum
</span><a href="#local-6989586621680974818"><span class="hs-identifier hs-var">acc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_messages :: PV_Accum -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var">pv_messages</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621680974817"><span class="annot"><span class="annottext">DynFlags -&gt; Messages
</span><a href="#local-6989586621680974817"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2907"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974816"><span class="annot"><span class="annottext">msg' :: SDoc
</span><a href="#local-6989586621680974816"><span class="hs-identifier hs-var hs-var">msg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974820"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pv_hint"><span class="hs-identifier hs-var hs-var">pv_hint</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974819"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2908"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; () -&gt; PV_Result ()
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974818"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_messages :: DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var">pv_messages</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; (DynFlags -&gt; Messages) -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.Lexer.html#appendError"><span class="hs-identifier hs-var">appendError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974821"><span class="hs-identifier hs-var">srcspan</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974816"><span class="hs-identifier hs-var">msg'</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Messages
</span><a href="#local-6989586621680974817"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2909"></span><span>  </span><span id="local-6989586621680974814"><span class="annot"><span class="annottext">addWarning :: WarningFlag -&gt; SrcSpan -&gt; SDoc -&gt; PV ()
</span><a href="#local-6989586621680974814"><span class="hs-identifier hs-var hs-var hs-var hs-var">addWarning</span></a></span></span><span> </span><span id="local-6989586621680974813"><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621680974813"><span class="hs-identifier hs-var">option</span></a></span></span><span> </span><span id="local-6989586621680974812"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974812"><span class="hs-identifier hs-var">srcspan</span></a></span></span><span> </span><span id="local-6989586621680974811"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974811"><span class="hs-identifier hs-var">warning</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2910"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ())
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Context"><span class="hs-identifier hs-type">PV_Context</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_options :: PV_Context -&gt; ParserFlags
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var">pv_options</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621680974810"><span class="annot"><span class="annottext">ParserFlags
</span><a href="#local-6989586621680974810"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680974809"><span class="annot"><span class="annottext">acc :: PV_Accum
</span><a href="#local-6989586621680974809"><span class="hs-identifier hs-var">acc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV_Accum"><span class="hs-identifier hs-type">PV_Accum</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_messages :: PV_Accum -&gt; DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var">pv_messages</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621680974808"><span class="annot"><span class="annottext">DynFlags -&gt; Messages
</span><a href="#local-6989586621680974808"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2911"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; () -&gt; PV_Result ()
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974809"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pv_messages :: DynFlags -&gt; Messages
</span><a href="GHC.Parser.PostProcess.html#pv_messages"><span class="hs-identifier hs-var">pv_messages</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">ParserFlags
-&gt; WarningFlag
-&gt; SrcSpan
-&gt; SDoc
-&gt; (DynFlags -&gt; Messages)
-&gt; DynFlags
-&gt; Messages
</span><a href="GHC.Parser.Lexer.html#appendWarning"><span class="hs-identifier hs-var">appendWarning</span></a></span><span> </span><span class="annot"><span class="annottext">ParserFlags
</span><a href="#local-6989586621680974810"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">WarningFlag
</span><a href="#local-6989586621680974813"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974812"><span class="hs-identifier hs-var">srcspan</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974811"><span class="hs-identifier hs-var">warning</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Messages
</span><a href="#local-6989586621680974808"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2912"></span><span>  </span><span id="local-6989586621680974804"><span class="annot"><span class="annottext">addFatalError :: forall a. SrcSpan -&gt; SDoc -&gt; PV a
</span><a href="#local-6989586621680974804"><span class="hs-identifier hs-var hs-var hs-var hs-var">addFatalError</span></a></span></span><span> </span><span id="local-6989586621680974803"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974803"><span class="hs-identifier hs-var">srcspan</span></a></span></span><span> </span><span id="local-6989586621680974802"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974802"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2913"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974803"><span class="hs-identifier hs-var">srcspan</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974802"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">PV () -&gt; PV a -&gt; PV a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../base/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PV_Accum -&gt; PV_Result a) -&gt; PV_Context -&gt; PV_Accum -&gt; PV_Result a
forall a b. a -&gt; b -&gt; a
</span><a href="../../base/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; PV_Result a
forall a. PV_Accum -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Failed"><span class="hs-identifier hs-var">PV_Failed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2914"></span><span>  </span><span id="local-6989586621680974800"><span class="annot"><span class="annottext">getBit :: ExtBits -&gt; PV Bool
</span><a href="#local-6989586621680974800"><span class="hs-identifier hs-var hs-var hs-var hs-var">getBit</span></a></span></span><span> </span><span id="local-6989586621680974799"><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621680974799"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2915"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool)
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result Bool) -&gt; PV Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680974798"><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974798"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621680974797"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974797"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2916"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974796"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621680974796"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="#local-6989586621680974799"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; ExtsBitmap -&gt; Bool
</span><a href="GHC.Parser.Lexer.html#xtest"><span class="hs-operator hs-var">`xtest`</span></a></span><span> </span><span class="annot"><span class="annottext">ParserFlags -&gt; ExtsBitmap
</span><a href="GHC.Parser.Lexer.html#pExtsBitmap"><span class="hs-identifier hs-var hs-var">pExtsBitmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Context -&gt; ParserFlags
</span><a href="GHC.Parser.PostProcess.html#pv_options"><span class="hs-identifier hs-var hs-var">pv_options</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Context
</span><a href="#local-6989586621680974798"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-2917"></span><span>      </span><span class="annot"><span class="annottext">PV_Accum -&gt; Bool -&gt; PV_Result Bool
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974797"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; PV_Result Bool) -&gt; Bool -&gt; PV_Result Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24%21"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974796"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-2918"></span><span>  </span><span id="local-6989586621680974791"><span class="annot"><span class="annottext">addAnnotation :: SrcSpan -&gt; AnnKeywordId -&gt; SrcSpan -&gt; PV ()
</span><a href="GHC.Parser.Lexer.html#addAnnotation"><span class="hs-identifier hs-var hs-var hs-var hs-var">addAnnotation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621680974788"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680974788"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680974787"><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621680974787"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621680974786"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680974786"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2919"></span><span>    </span><span class="annot"><span class="annottext">(PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a. (PV_Context -&gt; PV_Accum -&gt; PV_Result a) -&gt; PV a
</span><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-var">PV</span></a></span><span> </span><span class="annot"><span class="annottext">((PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ())
-&gt; (PV_Context -&gt; PV_Accum -&gt; PV_Result ()) -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PV_Context
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680974785"><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974785"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2920"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-2921"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621680974784"><span class="annot"><span class="annottext">[RealLocated AnnotationComment]
</span><a href="#local-6989586621680974784"><span class="hs-identifier hs-var">comment_q'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680974783"><span class="annot"><span class="annottext">[(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="#local-6989586621680974783"><span class="hs-identifier hs-var">new_ann_comments</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
-&gt; [RealLocated AnnotationComment]
-&gt; ([RealLocated AnnotationComment],
    [(RealSrcSpan, [RealLocated AnnotationComment])])
</span><a href="GHC.Parser.Lexer.html#allocateComments"><span class="hs-identifier hs-var">allocateComments</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680974788"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV_Accum -&gt; [RealLocated AnnotationComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var hs-var">pv_comment_q</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974785"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2922"></span><span>        </span><span id="local-6989586621680974781"><span class="annot"><span class="annottext">annotations_comments' :: [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="#local-6989586621680974781"><span class="hs-identifier hs-var hs-var">annotations_comments'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="#local-6989586621680974783"><span class="hs-identifier hs-var">new_ann_comments</span></a></span><span> </span><span class="annot"><span class="annottext">[(RealSrcSpan, [RealLocated AnnotationComment])]
-&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
-&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations_comments"><span class="hs-identifier hs-var hs-var">pv_annotations_comments</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974785"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-2923"></span><span>        </span><span id="local-6989586621680974780"><span class="annot"><span class="annottext">annotations' :: [(ApiAnnKey, [RealSrcSpan])]
</span><a href="#local-6989586621680974780"><span class="hs-identifier hs-var hs-var">annotations'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680974788"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="#local-6989586621680974787"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621680974786"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ApiAnnKey, [RealSrcSpan])
-&gt; [(ApiAnnKey, [RealSrcSpan])] -&gt; [(ApiAnnKey, [RealSrcSpan])]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">PV_Accum -&gt; [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations"><span class="hs-identifier hs-var hs-var">pv_annotations</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974785"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-2924"></span><span>        </span><span id="local-6989586621680974779"><span class="annot"><span class="annottext">acc' :: PV_Accum
</span><a href="#local-6989586621680974779"><span class="hs-identifier hs-var hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974785"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-2925"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pv_annotations :: [(ApiAnnKey, [RealSrcSpan])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations"><span class="hs-identifier hs-var">pv_annotations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ApiAnnKey, [RealSrcSpan])]
</span><a href="#local-6989586621680974780"><span class="hs-identifier hs-var">annotations'</span></a></span><span>
</span><span id="line-2926"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_comment_q :: [RealLocated AnnotationComment]
</span><a href="GHC.Parser.PostProcess.html#pv_comment_q"><span class="hs-identifier hs-var">pv_comment_q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RealLocated AnnotationComment]
</span><a href="#local-6989586621680974784"><span class="hs-identifier hs-var">comment_q'</span></a></span><span>
</span><span id="line-2927"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pv_annotations_comments :: [(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="GHC.Parser.PostProcess.html#pv_annotations_comments"><span class="hs-identifier hs-var">pv_annotations_comments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(RealSrcSpan, [RealLocated AnnotationComment])]
</span><a href="#local-6989586621680974781"><span class="hs-identifier hs-var">annotations_comments'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2928"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-2929"></span><span>        </span><span class="annot"><span class="annottext">PV_Accum -&gt; () -&gt; PV_Result ()
forall a. PV_Accum -&gt; a -&gt; PV_Result a
</span><a href="GHC.Parser.PostProcess.html#PV_Ok"><span class="hs-identifier hs-var">PV_Ok</span></a></span><span> </span><span class="annot"><span class="annottext">PV_Accum
</span><a href="#local-6989586621680974779"><span class="hs-identifier hs-var">acc'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2930"></span><span>  </span><span class="annot"><a href="GHC.Parser.Lexer.html#addAnnotation"><span class="hs-identifier hs-var">addAnnotation</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PV ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2931"></span><span>
</span><span id="line-2932"></span><span class="hs-comment">{- Note [Parser-Validator]
~~~~~~~~~~~~~~~~~~~~~~~~~~

When resolving ambiguities, we need to postpone failure to make a choice later.
For example, if we have ambiguity between some A and B, our parser could be

  abParser :: P (Maybe A, Maybe B)

This way we can represent four possible outcomes of parsing:

    (Just a, Nothing)       -- definitely A
    (Nothing, Just b)       -- definitely B
    (Just a, Just b)        -- either A or B
    (Nothing, Nothing)      -- neither A nor B

However, if we want to report informative parse errors, accumulate warnings,
and add API annotations, we are better off using 'P' instead of 'Maybe':

  abParser :: P (P A, P B)

So we have an outer layer of P that consumes the input and builds the inner
layer, which validates the input.

For clarity, we introduce the notion of a parser-validator: a parser that does
not consume any input, but may fail or use other effects. Thus we have:

  abParser :: P (PV A, PV B)

-}</span><span>
</span><span id="line-2961"></span><span>
</span><span id="line-2962"></span><span class="hs-comment">{- Note [Parser-Validator Hint]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A PV computation is parametrized by a hint for error messages, which can be set
depending on validation context. We use this in checkPattern to fix #984.

Consider this example, where the user has forgotten a 'do':

  f _ = do
    x &lt;- computation
    case () of
      _ -&gt;
        result &lt;- computation
        case () of () -&gt; undefined

GHC parses it as follows:

  f _ = do
    x &lt;- computation
    (case () of
      _ -&gt;
        result) &lt;- computation
        case () of () -&gt; undefined

Note that this fragment is parsed as a pattern:

  case () of
    _ -&gt;
      result

We attempt to detect such cases and add a hint to the error messages:

  T984.hs:6:9:
    Parse error in pattern: case () of { _ -&gt; result }
    Possibly caused by a missing 'do'?

The &quot;Possibly caused by a missing 'do'?&quot; suggestion is the hint that is passed
as the 'pv_hint' field 'PV_Context'. When validating in a context other than
'bindpat' (a pattern to the left of &lt;-), we set the hint to 'empty' and it has
no effect on the error messages.

-}</span><span>
</span><span id="line-3003"></span><span>
</span><span id="line-3004"></span><span class="hs-comment">-- | Hint about bang patterns, assuming @BangPatterns@ is off.</span><span>
</span><span id="line-3005"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-type">hintBangPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3006"></span><span id="hintBangPat"><span class="annot"><span class="annottext">hintBangPat :: SrcSpan -&gt; Pat GhcPs -&gt; PV ()
</span><a href="GHC.Parser.PostProcess.html#hintBangPat"><span class="hs-identifier hs-var hs-var">hintBangPat</span></a></span></span><span> </span><span id="local-6989586621680974778"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974778"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span id="local-6989586621680974777"><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680974777"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3007"></span><span>    </span><span id="local-6989586621680974776"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974776"><span class="hs-identifier hs-var">bang_on</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExtBits -&gt; PV Bool
forall (m :: * -&gt; *). MonadP m =&gt; ExtBits -&gt; m Bool
</span><a href="GHC.Parser.Lexer.html#getBit"><span class="hs-identifier hs-var">getBit</span></a></span><span> </span><span class="annot"><span class="annottext">ExtBits
</span><a href="GHC.Parser.Lexer.html#BangPatBit"><span class="hs-identifier hs-var">BangPatBit</span></a></span><span>
</span><span id="line-3008"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PV () -&gt; PV ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../base/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680974776"><span class="hs-identifier hs-var">bang_on</span></a></span><span> </span><span class="annot"><span class="annottext">(PV () -&gt; PV ()) -&gt; PV () -&gt; PV ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-3009"></span><span>      </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV ()
forall (m :: * -&gt; *). MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m ()
</span><a href="GHC.Parser.Lexer.html#addError"><span class="hs-identifier hs-var">addError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974778"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-3010"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal bang-pattern (use BangPatterns):&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcPs
</span><a href="#local-6989586621680974777"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3011"></span><span>
</span><span id="line-3012"></span><span class="hs-keyword">data</span><span> </span><span id="SumOrTuple"><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier hs-var">SumOrTuple</span></a></span></span><span> </span><span id="local-6989586621680974774"><span class="annot"><a href="#local-6989586621680974774"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-3013"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Sum"><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-var">Sum</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#ConTag"><span class="hs-identifier hs-type">ConTag</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Arity"><span class="hs-identifier hs-type">Arity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680974774"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3014"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Tuple"><span class="annot"><a href="GHC.Parser.PostProcess.html#Tuple"><span class="hs-identifier hs-var">Tuple</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680974774"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3015"></span><span>
</span><span id="line-3016"></span><span id="local-6989586621680977836"><span class="annot"><a href="GHC.Parser.PostProcess.html#pprSumOrTuple"><span class="hs-identifier hs-type">pprSumOrTuple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977836"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680977836"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-3017"></span><span id="pprSumOrTuple"><span class="annot"><span class="annottext">pprSumOrTuple :: forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pprSumOrTuple"><span class="hs-identifier hs-var hs-var">pprSumOrTuple</span></a></span></span><span> </span><span id="local-6989586621680974763"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974763"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-3018"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621680974762"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974762"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621680974761"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974761"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621680974760"><span class="annot"><span class="annottext">Located b
</span><a href="#local-6989586621680974760"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3019"></span><span>      </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974759"><span class="hs-identifier hs-var">parOpen</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
</span><a href="#local-6989586621680974758"><span class="hs-identifier hs-var">ppr_bars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974762"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Located b -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Located b
</span><a href="#local-6989586621680974760"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
</span><a href="#local-6989586621680974758"><span class="hs-identifier hs-var">ppr_bars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974761"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974762"><span class="hs-identifier hs-var">alt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3020"></span><span>              </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974757"><span class="hs-identifier hs-var">parClose</span></a></span><span>
</span><span id="line-3021"></span><span>    </span><span class="annot"><a href="GHC.Parser.PostProcess.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621680974756"><span class="annot"><span class="annottext">[Located (Maybe (Located b))]
</span><a href="#local-6989586621680974756"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3022"></span><span>      </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974759"><span class="hs-identifier hs-var">parOpen</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#fcat"><span class="hs-identifier hs-var">fcat</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; ([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (Maybe (Located b)) -&gt; SDoc)
-&gt; [Located (Maybe (Located b))] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; (Located b -&gt; SDoc) -&gt; Maybe (Located b) -&gt; SDoc
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">Located b -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Located b) -&gt; SDoc)
-&gt; (Located (Maybe (Located b)) -&gt; Maybe (Located b))
-&gt; Located (Maybe (Located b))
-&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe (Located b)) -&gt; Maybe (Located b)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Located (Maybe (Located b))]
</span><a href="#local-6989586621680974756"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3023"></span><span>              </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974757"><span class="hs-identifier hs-var">parClose</span></a></span><span>
</span><span id="line-3024"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3025"></span><span>    </span><span id="local-6989586621680974758"><span class="annot"><span class="annottext">ppr_bars :: Int -&gt; SDoc
</span><a href="#local-6989586621680974758"><span class="hs-identifier hs-var hs-var">ppr_bars</span></a></span></span><span> </span><span id="local-6989586621680974754"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974754"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SDoc -&gt; [SDoc]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base/src/GHC.List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974754"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">Outputable.char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'|'</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3026"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680974759"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974759"><span class="hs-identifier hs-var">parOpen</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680974757"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621680974757"><span class="hs-identifier hs-var">parClose</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3027"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974763"><span class="hs-identifier hs-var">boxity</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3028"></span><span>        </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-3029"></span><span>        </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(#&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-3030"></span><span>
</span><span id="line-3031"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-type">mkSumOrTupleExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3032"></span><span>
</span><span id="line-3033"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-3034"></span><span id="mkSumOrTupleExpr"><span class="annot"><span class="annottext">mkSumOrTupleExpr :: SrcSpan
-&gt; Boxity -&gt; SumOrTuple (HsExpr GhcPs) -&gt; PV (LHsExpr GhcPs)
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var hs-var">mkSumOrTupleExpr</span></a></span></span><span> </span><span id="local-6989586621680974750"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974750"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680974749"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974749"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621680974748"><span class="annot"><span class="annottext">[Located (Maybe (LHsExpr GhcPs))]
</span><a href="#local-6989586621680974748"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3035"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974750"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitTuple GhcPs -&gt; [LHsTupArg GhcPs] -&gt; Boxity -&gt; HsExpr GhcPs
forall p. XExplicitTuple p -&gt; [LHsTupArg p] -&gt; Boxity -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XExplicitTuple GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Located (Maybe (LHsExpr GhcPs)) -&gt; LHsTupArg GhcPs)
-&gt; [Located (Maybe (LHsExpr GhcPs))] -&gt; [LHsTupArg GhcPs]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe (LHsExpr GhcPs)) -&gt; LHsTupArg GhcPs
</span><a href="#local-6989586621680974746"><span class="hs-identifier hs-var">toTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Maybe (LHsExpr GhcPs))]
</span><a href="#local-6989586621680974748"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974749"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3036"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3037"></span><span>    </span><span class="annot"><a href="#local-6989586621680974746"><span class="hs-identifier hs-type">toTupArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#LHsTupArg"><span class="hs-identifier hs-type">LHsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3038"></span><span>    </span><span id="local-6989586621680974746"><span class="annot"><span class="annottext">toTupArg :: Located (Maybe (LHsExpr GhcPs)) -&gt; LHsTupArg GhcPs
</span><a href="#local-6989586621680974746"><span class="hs-identifier hs-var hs-var">toTupArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (LHsExpr GhcPs) -&gt; HsTupArg GhcPs)
-&gt; Located (Maybe (LHsExpr GhcPs)) -&gt; LHsTupArg GhcPs
forall a b l. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
</span><a href="GHC.Types.SrcLoc.html#mapLoc"><span class="hs-identifier hs-var">mapLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsTupArg GhcPs
-&gt; (LHsExpr GhcPs -&gt; HsTupArg GhcPs)
-&gt; Maybe (LHsExpr GhcPs)
-&gt; HsTupArg GhcPs
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcPs
</span><a href="GHC.Hs.Utils.html#missingTupArg"><span class="hs-identifier hs-var">missingTupArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPresent GhcPs -&gt; LHsExpr GhcPs -&gt; HsTupArg GhcPs
forall id. XPresent id -&gt; LHsExpr id -&gt; HsTupArg id
</span><a href="GHC.Hs.Expr.html#Present"><span class="hs-identifier hs-var">Present</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XPresent GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3039"></span><span>
</span><span id="line-3040"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-3041"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621680974743"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974743"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621680974742"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974742"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621680974741"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974741"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621680974740"><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680974740"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3042"></span><span>    </span><span class="annot"><span class="annottext">LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs))
-&gt; LHsExpr GhcPs -&gt; PV (LHsExpr GhcPs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsExpr GhcPs -&gt; LHsExpr GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974743"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitSum GhcPs -&gt; Int -&gt; Int -&gt; LHsExpr GhcPs -&gt; HsExpr GhcPs
forall p. XExplicitSum p -&gt; Int -&gt; Int -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="GHC.Hs.Expr.html#ExplicitSum"><span class="hs-identifier hs-var">ExplicitSum</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XExplicitSum GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974742"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974741"><span class="hs-identifier hs-var">arity</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcPs
</span><a href="#local-6989586621680974740"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3043"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTupleExpr"><span class="hs-identifier hs-var">mkSumOrTupleExpr</span></a></span><span> </span><span id="local-6989586621680974738"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974738"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621680974737"><span class="annot"><span class="annottext">a :: SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621680974737"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3044"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (LHsExpr GhcPs)
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974738"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Boxed sums not supported:&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-3045"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; SumOrTuple (HsExpr GhcPs) -&gt; SDoc
forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pprSumOrTuple"><span class="hs-identifier hs-var">pprSumOrTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (HsExpr GhcPs)
</span><a href="#local-6989586621680974737"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3046"></span><span>
</span><span id="line-3047"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-type">mkSumOrTuplePat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#SumOrTuple"><span class="hs-identifier hs-type">SumOrTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3048"></span><span>
</span><span id="line-3049"></span><span class="hs-comment">-- Tuple</span><span>
</span><span id="line-3050"></span><span id="mkSumOrTuplePat"><span class="annot"><span class="annottext">mkSumOrTuplePat :: SrcSpan
-&gt; Boxity
-&gt; SumOrTuple (PatBuilder GhcPs)
-&gt; PV (Located (PatBuilder GhcPs))
</span><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var hs-var">mkSumOrTuplePat</span></a></span></span><span> </span><span id="local-6989586621680974736"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974736"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680974735"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974735"><span class="hs-identifier hs-var">boxity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Tuple"><span class="hs-identifier hs-type">Tuple</span></a></span><span> </span><span id="local-6989586621680974734"><span class="annot"><span class="annottext">[Located (Maybe (Located (PatBuilder GhcPs)))]
</span><a href="#local-6989586621680974734"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3051"></span><span>  </span><span id="local-6989586621680974733"><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
</span><a href="#local-6989586621680974733"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Located (Maybe (Located (PatBuilder GhcPs)))
 -&gt; PV (Located (Pat GhcPs)))
-&gt; [Located (Maybe (Located (PatBuilder GhcPs)))]
-&gt; PV [Located (Pat GhcPs)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Maybe (Located (PatBuilder GhcPs)))
-&gt; PV (Located (Pat GhcPs))
Located (Maybe (Located (PatBuilder GhcPs))) -&gt; PV (LPat GhcPs)
</span><a href="#local-6989586621680974732"><span class="hs-identifier hs-var">toTupPat</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Maybe (Located (PatBuilder GhcPs)))]
</span><a href="#local-6989586621680974734"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-3052"></span><span>  </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974736"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTuplePat GhcPs -&gt; [LPat GhcPs] -&gt; Boxity -&gt; Pat GhcPs
forall p. XTuplePat p -&gt; [LPat p] -&gt; Boxity -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#TuplePat"><span class="hs-identifier hs-var">TuplePat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XTuplePat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">[Located (Pat GhcPs)]
[LPat GhcPs]
</span><a href="#local-6989586621680974733"><span class="hs-identifier hs-var">ps'</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621680974735"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3053"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3054"></span><span>    </span><span class="annot"><a href="#local-6989586621680974732"><span class="hs-identifier hs-type">toTupPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#PatBuilder"><span class="hs-identifier hs-type">PatBuilder</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.PostProcess.html#PV"><span class="hs-identifier hs-type">PV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3055"></span><span>    </span><span class="hs-comment">-- Ignore the element location so that the error message refers to the</span><span>
</span><span id="line-3056"></span><span>    </span><span class="hs-comment">-- entire tuple. See #19504 (and the discussion) for details.</span><span>
</span><span id="line-3057"></span><span>    </span><span id="local-6989586621680974732"><span class="annot"><span class="annottext">toTupPat :: Located (Maybe (Located (PatBuilder GhcPs))) -&gt; PV (LPat GhcPs)
</span><a href="#local-6989586621680974732"><span class="hs-identifier hs-var hs-var">toTupPat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680974730"><span class="annot"><span class="annottext">Maybe (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680974730"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Located (PatBuilder GhcPs))
</span><a href="#local-6989586621680974730"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3058"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Located (PatBuilder GhcPs))
</span><a href="../../base/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (Pat GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974736"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Tuple section in pattern context&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-3059"></span><span>      </span><span class="annot"><a href="../../base/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680974729"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680974729"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680974729"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-3060"></span><span>
</span><span id="line-3061"></span><span class="hs-comment">-- Sum</span><span>
</span><span id="line-3062"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621680974728"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974728"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span> </span><span id="local-6989586621680974727"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974727"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621680974726"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974726"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621680974725"><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680974725"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3063"></span><span>   </span><span id="local-6989586621680974724"><span class="annot"><span class="annottext">Located (Pat GhcPs)
</span><a href="#local-6989586621680974724"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (LPat GhcPs)
</span><a href="GHC.Parser.PostProcess.html#checkLPat"><span class="hs-identifier hs-var">checkLPat</span></a></span><span> </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs)
</span><a href="#local-6989586621680974725"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-3064"></span><span>   </span><span class="annot"><span class="annottext">Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs)))
-&gt; Located (PatBuilder GhcPs) -&gt; PV (Located (PatBuilder GhcPs))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; PatBuilder GhcPs -&gt; Located (PatBuilder GhcPs)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974728"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcPs -&gt; PatBuilder GhcPs
forall p. Pat p -&gt; PatBuilder p
</span><a href="GHC.Parser.PostProcess.html#PatBuilderPat"><span class="hs-identifier hs-var">PatBuilderPat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSumPat GhcPs -&gt; LPat GhcPs -&gt; Int -&gt; Int -&gt; Pat GhcPs
forall p. XSumPat p -&gt; LPat p -&gt; Int -&gt; Int -&gt; Pat p
</span><a href="GHC.Hs.Pat.html#SumPat"><span class="hs-identifier hs-var">SumPat</span></a></span><span> </span><span class="annot"><span class="annottext">NoExtField
XSumPat GhcPs
</span><a href="GHC.Hs.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">Located (Pat GhcPs)
LPat GhcPs
</span><a href="#local-6989586621680974724"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974727"><span class="hs-identifier hs-var">alt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680974726"><span class="hs-identifier hs-var">arity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3065"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkSumOrTuplePat"><span class="hs-identifier hs-var">mkSumOrTuplePat</span></a></span><span> </span><span id="local-6989586621680974722"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974722"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span id="local-6989586621680974721"><span class="annot"><span class="annottext">a :: SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621680974721"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Parser.PostProcess.html#Sum"><span class="hs-identifier hs-type">Sum</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3066"></span><span>    </span><span class="annot"><span class="annottext">SrcSpan -&gt; SDoc -&gt; PV (Located (PatBuilder GhcPs))
forall (m :: * -&gt; *) a. MonadP m =&gt; SrcSpan -&gt; SDoc -&gt; m a
</span><a href="GHC.Parser.Lexer.html#addFatalError"><span class="hs-identifier hs-var">addFatalError</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974722"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Boxed sums not supported:&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-3067"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; SumOrTuple (PatBuilder GhcPs) -&gt; SDoc
forall b. Outputable b =&gt; Boxity -&gt; SumOrTuple b -&gt; SDoc
</span><a href="GHC.Parser.PostProcess.html#pprSumOrTuple"><span class="hs-identifier hs-var">pprSumOrTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="GHC.Types.Basic.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a></span><span> </span><span class="annot"><span class="annottext">SumOrTuple (PatBuilder GhcPs)
</span><a href="#local-6989586621680974721"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3068"></span><span>
</span><span id="line-3069"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-type">mkLHsOpTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span>
</span><span id="line-3070"></span><span id="mkLHsOpTy"><span class="annot"><span class="annottext">mkLHsOpTy :: LHsType GhcPs -&gt; Located RdrName -&gt; LHsType GhcPs -&gt; LHsType GhcPs
</span><a href="GHC.Parser.PostProcess.html#mkLHsOpTy"><span class="hs-identifier hs-var hs-var">mkLHsOpTy</span></a></span></span><span> </span><span id="local-6989586621680974720"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974720"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680974719"><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974719"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621680974718"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974718"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3071"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680974717"><span class="annot"><span class="annottext">loc :: SrcSpan
</span><a href="#local-6989586621680974717"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974720"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-operator hs-var">`combineSrcSpans`</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
</span><a href="#local-6989586621680974719"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineSrcSpans"><span class="hs-operator hs-var">`combineSrcSpans`</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974718"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-3072"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; HsKind GhcPs -&gt; LHsType GhcPs
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621680974717"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsType GhcPs
-&gt; Located (IdP GhcPs) -&gt; LHsType GhcPs -&gt; HsKind GhcPs
forall (p :: Pass).
LHsType (GhcPass p)
-&gt; Located (IdP (GhcPass p))
-&gt; LHsType (GhcPass p)
-&gt; HsType (GhcPass p)
</span><a href="GHC.Hs.Type.html#mkHsOpTy"><span class="hs-identifier hs-var">mkHsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974720"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Located RdrName
Located (IdP GhcPs)
</span><a href="#local-6989586621680974719"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974718"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3073"></span><span>
</span><span id="line-3074"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-type">mkMultTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#IsUnicodeSyntax"><span class="hs-identifier hs-type">IsUnicodeSyntax</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Lexer.html#Token"><span class="hs-identifier hs-type">Token</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsArrow"><span class="hs-identifier hs-type">HsArrow</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-type">AddAnn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3075"></span><span id="mkMultTy"><span class="annot"><span class="annottext">mkMultTy :: IsUnicodeSyntax
-&gt; Located Token -&gt; LHsType GhcPs -&gt; (HsArrow GhcPs, AddAnn)
</span><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var hs-var">mkMultTy</span></a></span></span><span> </span><span id="local-6989586621680974715"><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621680974715"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621680974714"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680974714"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span id="local-6989586621680974713"><span class="annot"><span class="annottext">t :: LHsType GhcPs
</span><a href="#local-6989586621680974713"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">XTyLit GhcPs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#HsNumTy"><span class="hs-identifier hs-type">HsNumTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3076"></span><span>  </span><span class="hs-comment">-- See #18888 for the use of (SourceText &quot;1&quot;) above</span><span>
</span><span id="line-3077"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsUnicodeSyntax -&gt; HsArrow GhcPs
forall pass. IsUnicodeSyntax -&gt; HsArrow pass
</span><a href="GHC.Hs.Type.html#HsLinearArrow"><span class="hs-identifier hs-var">HsLinearArrow</span></a></span><span> </span><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621680974715"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnKeywordId -&gt; SrcSpan -&gt; AddAnn
</span><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-var">AddAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnPercentOne"><span class="hs-identifier hs-var">AnnPercentOne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located Token -&gt; LHsType GhcPs -&gt; SrcSpan
forall a b. Located a -&gt; Located b -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#combineLocs"><span class="hs-identifier hs-var">combineLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680974714"><span class="hs-identifier hs-var">tok</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974713"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3078"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#mkMultTy"><span class="hs-identifier hs-var">mkMultTy</span></a></span><span> </span><span id="local-6989586621680974708"><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621680974708"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621680974707"><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680974707"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span id="local-6989586621680974706"><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974706"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsUnicodeSyntax -&gt; LHsType GhcPs -&gt; HsArrow GhcPs
forall pass. IsUnicodeSyntax -&gt; LHsType pass -&gt; HsArrow pass
</span><a href="GHC.Hs.Type.html#HsExplicitMult"><span class="hs-identifier hs-var">HsExplicitMult</span></a></span><span> </span><span class="annot"><span class="annottext">IsUnicodeSyntax
</span><a href="#local-6989586621680974708"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">LHsType GhcPs
</span><a href="#local-6989586621680974706"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnKeywordId -&gt; SrcSpan -&gt; AddAnn
</span><a href="GHC.Parser.Annotation.html#AddAnn"><span class="hs-identifier hs-var">AddAnn</span></a></span><span> </span><span class="annot"><span class="annottext">AnnKeywordId
</span><a href="GHC.Parser.Annotation.html#AnnPercent"><span class="hs-identifier hs-var">AnnPercent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Located Token -&gt; SrcSpan
forall l e. GenLocated l e -&gt; l
</span><a href="GHC.Types.SrcLoc.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Located Token
</span><a href="#local-6989586621680974707"><span class="hs-identifier hs-var">tok</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3079"></span><span>
</span><span id="line-3080"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-3081"></span><span class="hs-comment">-- Token symbols</span><span>
</span><span id="line-3082"></span><span>
</span><span id="line-3083"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-type">starSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-3084"></span><span id="starSym"><span class="annot"><span class="annottext">starSym :: Bool -&gt; String
</span><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var hs-var">starSym</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#9733;&quot;</span></span><span>
</span><span id="line-3085"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#starSym"><span class="hs-identifier hs-var">starSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span><span>
</span><span id="line-3086"></span><span>
</span><span id="line-3087"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#forallSym"><span class="hs-identifier hs-type">forallSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-3088"></span><span id="forallSym"><span class="annot"><span class="annottext">forallSym :: Bool -&gt; String
</span><a href="GHC.Parser.PostProcess.html#forallSym"><span class="hs-identifier hs-var hs-var">forallSym</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#8704;&quot;</span></span><span>
</span><span id="line-3089"></span><span class="annot"><a href="GHC.Parser.PostProcess.html#forallSym"><span class="hs-identifier hs-var">forallSym</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;forall&quot;</span></span><span>
</span><span id="line-3090"></span></pre></body></html>